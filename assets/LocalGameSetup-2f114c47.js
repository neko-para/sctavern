import{p as T,I as O,a as xe,m as $e,b as Ie,e as _,f as R,g as D,h as v,i as he,j as _e,k as pe,t as y,l as B,n as s,q as Ae,R as Be,r as w,s as ne,w as Me,v as Ne,V as Ue,x as A,y as Le,z as je,A as Q,B as we,S as X,C as Re,D as Fe,E as q,F as J,G as ae,d as oe,H as Ee,o as g,J as h,K as f,L as C,c as U,M as E,N as P,O as L,P as Z,Q as G,T as j,U as Ge,W as Oe,X as Te,Y as De,Z as qe,_ as Je,u as ze}from"./index-16e64f07.js";import{V as He,m as We,u as Ye,f as Ke,a as Qe,b as Xe}from"./VTextField-49958cc9.js";import{V as I}from"./forwardRefs-09790d07.js";const ue=Symbol.for("vuetify:selection-control-group"),se=T({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:O,trueIcon:O,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:xe},...$e(),...Ie()},"v-selection-control-group");_({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...se()},emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:n}=a;const t=R(e,"modelValue"),l=D(),o=v(()=>e.id||`v-selection-control-group-${l}`),u=v(()=>e.name||o.value),i=new Set;return he(ue,{modelValue:t,forceUpdate:()=>{i.forEach(c=>c())},onForceUpdate:c=>{i.add(c),_e(()=>{i.delete(c)})}}),pe({[e.defaultsTarget]:{color:y(e,"color"),disabled:y(e,"disabled"),density:y(e,"density"),error:y(e,"error"),inline:y(e,"inline"),modelValue:t,multiple:v(()=>!!e.multiple||e.multiple==null&&Array.isArray(t.value)),name:u,falseIcon:y(e,"falseIcon"),trueIcon:y(e,"trueIcon"),readonly:y(e,"readonly"),ripple:y(e,"ripple"),type:y(e,"type"),valueComparator:y(e,"valueComparator")}}),B(()=>{var c;return s("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],role:e.type==="radio"?"radiogroup":void 0},[(c=n.default)==null?void 0:c.call(n)])}),{}}});const ie=T({label:String,trueValue:null,falseValue:null,value:null,...se()},"v-selection-control");function Ze(e){const a=Le(ue,void 0),{densityClasses:n}=je(e),t=R(e,"modelValue"),l=v(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),o=v(()=>e.falseValue!==void 0?e.falseValue:!1),u=v(()=>!!e.multiple||e.multiple==null&&Array.isArray(t.value)),i=v({get(){const r=a?a.modelValue.value:t.value;return u.value?r.some(k=>e.valueComparator(k,l.value)):e.valueComparator(r,l.value)},set(r){if(e.readonly)return;const k=r?l.value:o.value;let b=k;u.value&&(b=r?[...Q(t.value),k]:Q(t.value).filter(x=>!e.valueComparator(x,l.value))),a?a.modelValue.value=b:t.value=b}}),{textColorClasses:c,textColorStyles:m}=we(v(()=>i.value&&!e.error&&!e.disabled?e.color:void 0)),d=v(()=>i.value?e.trueIcon:e.falseIcon);return{group:a,densityClasses:n,trueValue:l,falseValue:o,model:i,textColorClasses:c,textColorStyles:m,icon:d}}const et=Ae()({name:"VSelectionControl",directives:{Ripple:Be},inheritAttrs:!1,props:ie(),emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:n,slots:t}=a;const{group:l,densityClasses:o,icon:u,model:i,textColorClasses:c,textColorStyles:m,trueValue:d}=Ze(e),r=D(),k=v(()=>e.id||`input-${r}`),b=w(!1),x=w(!1),$=w();l==null||l.onForceUpdate(()=>{$.value&&($.value.checked=i.value)});function M(S){b.value=!0,(!X||X&&S.target.matches(":focus-visible"))&&(x.value=!0)}function N(){b.value=!1,x.value=!1}function F(S){e.readonly&&l&&Re(()=>l.forceUpdate()),i.value=S.target.checked}return B(()=>{var S,Y;const K=t.label?t.label({label:e.label,props:{for:k.value}}):e.label,[Se,Pe]=ne(n);return s("div",A({class:["v-selection-control",{"v-selection-control--dirty":i.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":b.value,"v-selection-control--focus-visible":x.value,"v-selection-control--inline":e.inline},o.value]},Se),[s("div",{class:["v-selection-control__wrapper",c.value],style:m.value},[(S=t.default)==null?void 0:S.call(t),Me(s("div",{class:["v-selection-control__input"]},[u.value&&s(Ue,{key:"icon",icon:u.value},null),s("input",A({ref:$,checked:i.value,disabled:e.disabled,id:k.value,onBlur:N,onFocus:M,onInput:F,"aria-disabled":e.readonly,type:e.type,value:d.value,name:e.name,"aria-checked":e.type==="checkbox"?i.value:void 0},Pe),null),(Y=t.input)==null?void 0:Y.call(t,{model:i,textColorClasses:c,textColorStyles:m,props:{onFocus:M,onBlur:N,id:k.value}})]),[[Ne("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),K&&s(He,{for:k.value,clickable:!0},{default:()=>[K]})])}),{isFocused:b,input:$}}}),re=T({indeterminate:Boolean,indeterminateIcon:{type:O,default:"$checkboxIndeterminate"},...ie({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),ce=_({name:"VCheckboxBtn",props:re(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,a){let{slots:n}=a;const t=R(e,"indeterminate"),l=R(e,"modelValue");function o(c){t.value&&(t.value=!1)}const u=v(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),i=v(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return B(()=>s(et,A(e,{modelValue:l.value,"onUpdate:modelValue":[c=>l.value=c,o],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:u.value,trueIcon:i.value,"aria-checked":e.indeterminate?"mixed":void 0}),n)),{}}});function tt(e){return Fe(e,Object.keys(ce.props))}const ee=_({name:"VCheckbox",inheritAttrs:!1,props:{...We(),...re()},emits:{"update:focused":e=>!0},setup(e,a){let{attrs:n,slots:t}=a;const{isFocused:l,focus:o,blur:u}=Ye(e),i=D(),c=v(()=>e.id||`checkbox-${i}`);return B(()=>{const[m,d]=ne(n),[r,k]=Ke(e),[b,x]=tt(e);return s(Qe,A({class:"v-checkbox"},m,r,{id:c.value,focused:l.value}),{...t,default:$=>{let{id:M,messagesId:N,isDisabled:F,isReadonly:S}=$;return s(ce,A(b,{id:M.value,"aria-describedby":N.value,disabled:F.value,readonly:S.value},d,{onFocus:o,onBlur:u}),t)}})}),{}}});const lt=_({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...q()},setup(e,a){let{slots:n}=a;return B(()=>s(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},n)),{}}}),z=["sm","md","lg","xl","xxl"],de=(()=>z.reduce((e,a)=>(e[a]={type:[Boolean,String,Number],default:!1},e),{}))(),fe=(()=>z.reduce((e,a)=>(e["offset"+J(a)]={type:[String,Number],default:null},e),{}))(),ve=(()=>z.reduce((e,a)=>(e["order"+J(a)]={type:[String,Number],default:null},e),{}))(),te={col:Object.keys(de),offset:Object.keys(fe),order:Object.keys(ve)};function nt(e,a,n){let t=e;if(!(n==null||n===!1)){if(a){const l=a.replace(e,"");t+=`-${l}`}return e==="col"&&(t="v-"+t),e==="col"&&(n===""||n===!0)||(t+=`-${n}`),t.toLowerCase()}}const at=["auto","start","end","center","baseline","stretch"],V=_({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...de,offset:{type:[String,Number],default:null},...fe,order:{type:[String,Number],default:null},...ve,alignSelf:{type:String,default:null,validator:e=>at.includes(e)},...q()},setup(e,a){let{slots:n}=a;const t=v(()=>{const l=[];let o;for(o in te)te[o].forEach(i=>{const c=e[i],m=nt(o,i,c);m&&l.push(m)});const u=l.some(i=>i.startsWith("v-col-"));return l.push({"v-col":!u||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),l});return()=>{var l;return ae(e.tag,{class:t.value},(l=n.default)==null?void 0:l.call(n))}}}),ot=["sm","md","lg","xl","xxl"],H=["start","end","center"],me=["space-between","space-around","space-evenly"];function W(e,a){return ot.reduce((n,t)=>(n[e+J(t)]=a(),n),{})}const ut=[...H,"baseline","stretch"],ke=e=>ut.includes(e),ye=W("align",()=>({type:String,default:null,validator:ke})),st=[...H,...me],be=e=>st.includes(e),ge=W("justify",()=>({type:String,default:null,validator:be})),it=[...H,...me,"stretch"],Ve=e=>it.includes(e),Ce=W("alignContent",()=>({type:String,default:null,validator:Ve})),le={align:Object.keys(ye),justify:Object.keys(ge),alignContent:Object.keys(Ce)},rt={align:"align",justify:"justify",alignContent:"align-content"};function ct(e,a,n){let t=rt[e];if(n!=null){if(a){const l=a.replace(e,"");t+=`-${l}`}return t+=`-${n}`,t.toLowerCase()}}const p=_({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ke},...ye,justify:{type:String,default:null,validator:be},...ge,alignContent:{type:String,default:null,validator:Ve},...Ce,...q()},setup(e,a){let{slots:n}=a;const t=v(()=>{const l=[];let o;for(o in le)le[o].forEach(u=>{const i=e[u],c=ct(o,u,i);c&&l.push(c)});return l.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),l});return()=>{var l;return ae(e.tag,{class:["v-row",t.value]},(l=n.default)==null?void 0:l.call(n))}}}),dt=oe({__name:"GameConfig",props:{Pack:null,Seed:null,Role:null,Mutation:null},emits:["update:Pack","update:Seed","ok"],setup(e,{emit:a}){const n=e,t=Ee(),l=w("packseed"),o=v({get(){return n.Seed},set(m){a("update:Seed",m)}}),u=v({get(){return n.Pack},set(m){a("update:Pack",m)}});function i(){return Math.round(Math.random()*1e8)}function c(){return["核心",...new Te(i()).shuffle(G.slice(1)).slice(0,2)]}return(m,d)=>(g(),h(Oe,{class:"d-flex flex-column"},{default:f(()=>[!C(t).isMobile||l.value==="packseed"?(g(),U(L,{key:0},[s(p,null,{default:f(()=>[s(V,{cols:"1"}),s(V,{cols:"8"},{default:f(()=>[s(Xe,{modelValue:C(o),"onUpdate:modelValue":d[0]||(d[0]=r=>E(o)?o.value=r:null),density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),s(V,{cols:"2"},{default:f(()=>[s(I,{onClick:d[1]||(d[1]=r=>o.value=i())},{default:f(()=>[P(" 随机 ")]),_:1})]),_:1})]),_:1}),s(p,null,{default:f(()=>[s(V,{cols:"1"}),s(V,{cols:"4",class:"d-flex flex-column"},{default:f(()=>[(g(!0),U(L,null,Z(C(G).slice(0,4),r=>(g(),h(ee,{modelValue:C(u),"onUpdate:modelValue":d[2]||(d[2]=k=>E(u)?u.value=k:null),key:`Pack-${r}`,label:r,value:r,density:"compact","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),s(V,{cols:"4",class:"d-flex flex-column"},{default:f(()=>[(g(!0),U(L,null,Z(C(G).slice(4),r=>(g(),h(ee,{modelValue:C(u),"onUpdate:modelValue":d[3]||(d[3]=k=>E(u)?u.value=k:null),key:`Pack-${r}`,label:r,value:r,density:"compact","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),s(V,{cols:"2"},{default:f(()=>[s(I,{onClick:d[4]||(d[4]=r=>u.value=c())},{default:f(()=>[P(" 随机 ")]),_:1})]),_:1})]),_:1})],64)):j("",!0),!C(t).isMobile||l.value==="role"?(g(),h(p,{key:1},{default:f(()=>[s(V,null,{default:f(()=>[P(" 暂时不支持选角色 ")]),_:1})]),_:1})):j("",!0),!C(t).isMobile||l.value==="mutation"?(g(),h(p,{key:2},{default:f(()=>[s(V,null,{default:f(()=>[P(" 暂时不支持选突变因子 ")]),_:1})]),_:1})):j("",!0),s(Ge,{class:"mt-auto"},{default:f(()=>[C(t).isMobile?(g(),U(L,{key:0},[s(I,{onClick:d[5]||(d[5]=r=>l.value="packseed")},{default:f(()=>[P(" 种子卡包 ")]),_:1}),s(I,{onClick:d[6]||(d[6]=r=>l.value="role")},{default:f(()=>[P(" 角色 ")]),_:1}),s(I,{onClick:d[7]||(d[7]=r=>l.value="mutation")},{default:f(()=>[P(" 突变因子 ")]),_:1})],64)):j("",!0),s(I,{class:"ml-auto",color:"primary",onClick:d[8]||(d[8]=r=>m.$emit("ok"))},{default:f(()=>[P(" 启动 ")]),_:1})]),_:1})]),_:1}))}}),kt=oe({__name:"LocalGameSetup",setup(e){const a=ze(),n=De({Pack:["核心"],Seed:Math.round(Math.random()*1e8),Role:["白板"],Mutation:[],PoolPack:qe,ActivePack:Je});function t(){a.push({name:"local-player",query:{config:JSON.stringify(n)}})}return(l,o)=>(g(),h(lt,{class:"h-100"},{default:f(()=>[s(p,null,{default:f(()=>[s(V,null,{default:f(()=>[s(dt,{class:"h-100",Pack:n.Pack,"onUpdate:Pack":o[0]||(o[0]=u=>n.Pack=u),Seed:n.Seed,"onUpdate:Seed":o[1]||(o[1]=u=>n.Seed=u),Role:n.Role,"onUpdate:Role":o[2]||(o[2]=u=>n.Role=u),Mutation:n.Mutation,"onUpdate:Mutation":o[3]||(o[3]=u=>n.Mutation=u),onOk:o[4]||(o[4]=u=>t())},null,8,["Pack","Seed","Role","Mutation"])]),_:1})]),_:1})]),_:1}))}});export{kt as default};
