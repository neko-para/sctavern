import{j as l,a as p,B as f,I as Xe,D as C,G as j,C as R,b as D,c as b,d as Ie,Z as ve,F as et,u as tt,e as Se,f as rt,g as it,y as nt,r as Ge,h as I,i as at,k as st,T as lt,l as $e,m as _e,n as ot,o as ct,S as ht,M as ut,p as dt,q as pt,s as mt,t as ft,R as gt,v as yt,w as bt,x as Ke}from"./vender-9b7c9d63.js";import{r as u,e as vt,b as $t}from"./sctavern-2b59897b.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();class q{constructor(){this.value={}}has(e){return e in this.value}get(e,t=0){return this.has(e)?this.value[e]:t}set(e,t){this.value[e]=t}alter(e,t){return this.value[e]=this.get(e)+t,this.value[e]}load(e,t){for(const i of Object.keys(e.value).filter(n=>!t.includes(n)))this.alter(i,e.get(i))}}const g={帝国精锐:{name:"帝国精锐",pinyin:"dgjr",race:"T",level:4,pack:"军备竞赛",belong:"none",type:"normal",desc:[["快速生产: 获得<1>恶蝠游骑兵","快速生产: 获得<2>恶蝠游骑兵"],["每回合结束时, 每拥有<3>反应堆获得1恶蝠游骑兵","每回合结束时, 每拥有<2>反应堆获得1恶蝠游骑兵"]],unit:{恶蝠游骑兵:2,修理无人机:2,反应堆:1},attr:{}},英雄叉:{name:"英雄叉",pinyin:"yxc",race:"P",level:2,pack:"军备竞赛",belong:"none",type:"normal",desc:[["折跃单位到此卡牌时, 将所有折跃的狂热者(精英)变为卡尔达利斯","折跃单位到此卡牌时, 将所有折跃的狂热者(精英)变为卡尔达利斯"]],unit:{卡尔达利斯:1,水晶塔:2},attr:{}},机械感染:{name:"机械感染",pinyin:"jxgr",race:"Z",level:3,pack:"军备竞赛",belong:"none",type:"normal",desc:[["每回合结束时, 孵化<1>被感染的女妖","每回合结束时, 孵化<2>被感染的女妖"],["唯一: 任意价值达到3600的非虫卵虫族卡牌出售时, 此卡牌获得1末日巨兽","唯一: 任意价值达到3600的非虫卵虫族卡牌出售时, 此卡牌获得1末日巨兽"]],unit:{被感染的女妖:4},attr:{}},死亡之握:{name:"死亡之握",pinyin:"swzw",race:"N",level:6,pack:"军备竞赛",belong:"virtual",type:"normal",desc:[["唯一: 每回合结束时, 获得每张当前未购买卡牌中的<1>非英雄单位","唯一: 每回合结束时, 获得每张当前未购买卡牌中的<2>非英雄单位"],["唯一: 刷新时, 复制此卡牌<1>非英雄单位","唯一: 刷新时, 复制此卡牌<2>非英雄单位"]],unit:{死亡之握水晶:1},attr:{}},黄昏之翼:{name:"黄昏之翼",pinyin:"hhzy",race:"T",level:3,pack:"天空之怒",belong:"none",type:"normal",desc:[["快速生产: 获得<1>黄昏之翼","快速生产: 获得<2>黄昏之翼"],["反应堆生产女妖","反应堆生产女妖"]],unit:{黄昏之翼:2,女妖:1,反应堆:1},attr:{}},净化之光:{name:"净化之光",pinyin:"jhzg",race:"P",level:5,pack:"天空之怒",belong:"none",type:"normal",desc:[["每回合结束时, 获得<1>虚空辉光舰","每回合结束时, 获得<2>虚空辉光舰"],["集结(4): 所有卡牌将<1>虚空辉光舰精英化","集结(4): 所有卡牌将<2>虚空辉光舰精英化"]],unit:{"虚空辉光舰(精英)":2,水晶塔:1},attr:{}},守卫巢穴:{name:"守卫巢穴",pinyin:"swcx",race:"Z",level:4,pack:"天空之怒",belong:"none",type:"normal",desc:[["每回合结束时, 注卵<1>守卫, 并将所有卡牌的各<1>异龙变为守卫","每回合结束时, 注卵<2>守卫, 并将所有卡牌的各<2>异龙变为守卫"]],unit:{守卫:2,异龙:4},attr:{}},死亡舰队:{name:"死亡舰队",pinyin:"swjd",race:"N",level:6,pack:"天空之怒",belong:"none",type:"normal",desc:[["获得黑暗值时, 获得<1>毁灭者","获得黑暗值时, 获得<2>毁灭者"],["每回合结束时, 尝试消耗<10>黑暗值, 获得1塔达林母舰","每回合结束时, 尝试消耗<5>黑暗值, 获得1塔达林母舰"]],unit:{塔达林母舰:1,毁灭者:2},attr:{}},艾尔游骑兵:{name:"艾尔游骑兵",pinyin:"aeyqb",race:"T",level:2,pack:"并肩作战",belong:"none",type:"normal",desc:[["快速生产: 相邻左侧卡牌获得<1>水晶塔","快速生产: 相邻左侧卡牌获得<2>水晶塔"],["每回合结束时, 相邻两侧卡牌各摧毁1水晶塔, 每摧毁1水晶塔, 此卡牌获得<4>陆战队员","每回合结束时, 相邻两侧卡牌各摧毁1水晶塔, 每摧毁1水晶塔, 此卡牌获得<8>陆战队员"]],unit:{"陆战队员(精英)":3,秃鹫:1,科技实验室:1},attr:{}},生物质发电:{name:"生物质发电",pinyin:"swzfd",race:"P",level:2,pack:"并肩作战",belong:"none",type:"normal",desc:[["出售任意三星及以上的虫族牌时, 此卡牌获得<1>水晶塔","出售任意三星及以上的虫族牌时, 此卡牌获得<2>水晶塔"]],unit:{"使徒(精英)":2,蟑螂:2,水晶塔:2},attr:{}},生化危机:{name:"生化危机",pinyin:"shwj",race:"Z",level:5,pack:"并肩作战",belong:"none",type:"normal",desc:[["每回合结束时, 若拥有至少2科技挂件, 则注卵<1>牛头人陆战队员和<2>科技实验室","每回合结束时, 若拥有至少2科技挂件, 则注卵<2>牛头人陆战队员和<4>科技实验室"]],unit:{牛头人陆战队员:1,"刺蛇(精英)":4},attr:{}},虚空裂痕:{name:"虚空裂痕",pinyin:"xklh",race:"N",level:5,pack:"并肩作战",belong:"none",type:"normal",desc:[["获得黑暗值时, 获得<1>百夫长","获得黑暗值时, 获得<2>百夫长"],["5黑暗值时单位在战斗中获得强化","5黑暗值时单位在战斗中获得强化"],["每回合结束时, 若晶体矿数量≥1, 则获得<2>百夫长","每回合结束时, 若晶体矿数量≥1, 则获得<4>百夫长"]],unit:{虚空裂隙:1,百夫长:2},attr:{}},以火治火:{name:"以火治火",pinyin:"yhzh",race:"T",level:3,pack:"快速启动",belong:"none",type:"normal",desc:[["每回合开始时, 所有具有反应堆的人族卡牌获得<1>火蝠","每回合开始时, 所有具有反应堆的人族卡牌获得<2>火蝠"],["快速生产: 所有人族卡牌将<2>火蝠精英化","快速生产: 所有人族卡牌将<3>火蝠精英化"]],unit:{火蝠:6,反应堆:1},attr:{}},六脉神剑:{name:"六脉神剑",pinyin:"lmsj",race:"P",level:3,pack:"快速启动",belong:"none",type:"normal",desc:[["任意卡牌进场时, 若先知数量小于能量强度, 则折跃<1>先知","任意卡牌进场时, 若先知数量小于能量强度, 则折跃<2>先知"]],unit:{先知:4,水晶塔:1},attr:{}},优质基因:{name:"优质基因",pinyin:"yzjy",race:"Z",level:4,pack:"快速启动",belong:"none",type:"normal",desc:[["每回合结束时, 摧毁所有虫卵牌并且所有虫族卡牌获得1虫卵牌中价值最高的<非英雄>单位","每回合结束时, 摧毁所有虫卵牌并且所有虫族卡牌获得1虫卵牌中价值最高的单位"]],unit:{巢虫领主:2,雷兽:1},attr:{insert:!0}},埃蒙仆从:{name:"埃蒙仆从",pinyin:"ampc",race:"N",level:4,pack:"快速启动",belong:"virtual",type:"normal",desc:[["每回合结束时, 尝试同时摧毁1张虫族和神族卡牌, 使所有具有虚空投影的卡牌获得<2>混合体毁灭者","每回合结束时, 尝试同时摧毁1张虫族和神族卡牌, 使所有具有虚空投影的卡牌获得<3>混合体毁灭者"]],unit:{"刺蛇(精英)":2,"旋风狂热者(精英)":2},attr:{}},死亡之翼:{name:"死亡之翼",pinyin:"swzy",race:"N",level:2,pack:"拉克希尔",belong:"none",type:"normal",desc:[["被夺取时, 获得<1>天霸","被夺取时, 获得<2>天霸"],["任意卡牌三连时, 三连卡牌夺取此卡牌","任意卡牌三连时, 三连卡牌夺取此卡牌"]],unit:{凤凰:4},attr:{}},虚空援军:{name:"虚空援军",pinyin:"xkyj",race:"N",level:3,pack:"拉克希尔",belong:"virtual",type:"normal",desc:[["进场时, 此卡牌尝试消耗1瓦斯获得随机升级","进场时, 此卡牌尝试消耗1瓦斯获得随机升级"],["每回合结束时, 价值最高的卡牌夺取此卡牌, 保留升级","每回合结束时, 价值最高的卡牌夺取此卡牌, 保留升级"]],unit:{攻城坦克:3},attr:{}},深渊行者:{name:"深渊行者",pinyin:"syxz",race:"N",level:4,pack:"拉克希尔",belong:"none",type:"normal",desc:[["10黑暗值时单位在战斗中获得强化","10黑暗值时单位在战斗中获得强化"],["任意卡牌被夺取时, 获得<1>先锋","任意卡牌被夺取时, 获得<2>先锋"]],unit:{先锋:3,不死队:3},attr:{}},黑暗祭坛:{name:"黑暗祭坛",pinyin:"hajt",race:"N",level:4,pack:"拉克希尔",belong:"none",type:"normal",desc:[["获得黑暗值时, 获得<1>凤凰","获得黑暗值时, 获得<2>凤凰"],["每回合结束时, 夺取价值最低的卡牌","每回合结束时, 夺取价值最低的卡牌"]],unit:{黑暗执政官:2,凤凰:2},attr:{}},原始蟑螂:{name:"原始蟑螂",pinyin:"yszl",race:"N",level:1,pack:"核心",belong:"primal",type:"normal",desc:[["供养(1): 原始蟑螂","供养(1): 原始蟑螂"]],unit:{原始蟑螂:4,精华:3},attr:{}},不死队:{name:"不死队",pinyin:"bsd",race:"N",level:1,pack:"核心",belong:"none",type:"normal",desc:[["获得黑暗值时, 获得<1>不死队","获得黑暗值时, 获得<2>不死队"],["8黑暗值时单位在战斗中获得强化","8黑暗值时单位在战斗中获得强化"]],unit:{不死队:4},attr:{}},小捞油水:{name:"小捞油水",pinyin:"xlys",race:"N",level:2,pack:"核心",belong:"none",type:"normal",desc:[["出售时, 刷新你的酒馆","出售时, 刷新你的酒馆"]],unit:{自动机炮:3,修理无人机:1},attr:{insert:!0}},原始刺蛇:{name:"原始刺蛇",pinyin:"yscs",race:"N",level:2,pack:"核心",belong:"primal",type:"normal",desc:[["供养(1): 原始刺蛇","供养(1): 原始刺蛇"],["每回合结束时, 获得<1>原始刺蛇和<2>精华","每回合结束时, 获得<2>原始刺蛇和<4>精华"]],unit:{原始刺蛇:7},attr:{}},原始异龙:{name:"原始异龙",pinyin:"ysyl",race:"N",level:3,pack:"核心",belong:"primal",type:"normal",desc:[["任意卡牌进场时, 相邻右侧卡牌获得<1>精华","任意卡牌进场时, 相邻右侧卡牌获得<2>精华"],["每回合结束时, 若晶体矿数量≥1, 则摧毁所有卡牌中的精华, 每摧毁2精华, 获得1原始异龙","每回合结束时, 若晶体矿数量≥1, 则摧毁所有卡牌中的精华, 每摧毁2精华, 获得1原始异龙"]],unit:{原始异龙:4},attr:{}},虚空大军:{name:"虚空大军",pinyin:"xkdj",race:"N",level:3,pack:"核心",belong:"virtual",type:"normal",desc:[["每回合结束时, 若你拥有人族卡牌, 则获得<1>歌利亚; 若你拥有虫族卡牌, 则获得<1>刺蛇; 若你拥有神族卡牌, 则获得<1>龙骑士","每回合结束时, 若你拥有人族卡牌, 则获得<2>歌利亚; 若你拥有虫族卡牌, 则获得<2>刺蛇; 若你拥有神族卡牌, 则获得<2>龙骑士"]],unit:{歌利亚:1,刺蛇:1,龙骑士:1},attr:{}},鲜血猎手:{name:"鲜血猎手",pinyin:"xxls",race:"N",level:3,pack:"核心",belong:"none",type:"normal",desc:[["获得黑暗值时, 获得<1>鲜血猎手","获得黑暗值时, 获得<2>鲜血猎手"],["5黑暗值时单位在战斗中获得强化","5黑暗值时单位在战斗中获得强化"]],unit:{鲜血猎手:6,浩劫:1},attr:{}},暴掠龙:{name:"暴掠龙",pinyin:"bll",race:"N",level:3,pack:"核心",belong:"primal",type:"normal",desc:[["供养(2): 暴掠龙","供养(2): 暴掠龙"],["每回合结束时, 获得<1>暴掠龙和<2>精华","每回合结束时, 获得<2>暴掠龙和<4>精华"]],unit:{暴掠龙:2},attr:{}},适者生存:{name:"适者生存",pinyin:"szsc",race:"N",level:4,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 将场上随机<5>个生物单位精英化","每回合结束时, 将场上随机<8>个生物单位精英化"]],unit:{亚格卓拉:1},attr:{}},毁灭者:{name:"毁灭者",pinyin:"hmz",race:"N",level:4,pack:"核心",belong:"none",type:"normal",desc:[["出售时, 相邻左侧卡牌获得等于黑暗值数量的毁灭者(不超过<10>)","出售时, 相邻左侧卡牌获得等于黑暗值数量的毁灭者(不超过<30>)"]],unit:{毁灭者:4},attr:{}},原始点火虫:{name:"原始点火虫",pinyin:"ysdhc",race:"N",level:4,pack:"核心",belong:"primal",type:"normal",desc:[["每回合结束时, 补充原始点火虫至精华数量的两倍, 最多补充到20","每回合结束时, 补充原始点火虫至精华数量的两倍, 最多补充到20"]],unit:{原始点火虫:4,精华:2},attr:{}},原始雷兽:{name:"原始雷兽",pinyin:"ysls",race:"N",level:4,pack:"核心",belong:"primal",type:"normal",desc:[["供养(4): 原始暴龙兽","供养(4): 原始暴龙兽"],["每回合结束时, 获得<1>原始雷兽并每有1张中立卡牌获得1精华","每回合结束时, 获得<2>原始雷兽并每有1张中立卡牌获得1精华"]],unit:{原始雷兽:3},attr:{}},马拉什:{name:"马拉什",pinyin:"mls",race:"N",level:5,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 相邻两侧卡牌获得虚空投影增益","每回合结束时, 相邻两侧卡牌获得虚空投影增益"]],unit:{马拉什:1},attr:{}},黑暗预兆:{name:"黑暗预兆",pinyin:"hayz",race:"N",level:5,pack:"核心",belong:"virtual",type:"normal",desc:[["每回合结束时, 若场上有4个种族的卡牌, 则获得<2>混合体毁灭者","每回合结束时, 若场上有4个种族的卡牌, 则获得<4>混合体毁灭者"]],unit:{混合体毁灭者:3},attr:{}},阿拉纳克:{name:"阿拉纳克",pinyin:"alnk",race:"N",level:5,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 夺取除自身随机两张卡牌, 保留升级","进场时, 夺取除自身随机两张卡牌, 保留升级"]],unit:{阿拉纳克:1},attr:{}},天罚行者:{name:"天罚行者",pinyin:"tfxz",race:"N",level:5,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 夺取4星及以下所有卡牌的黑暗值, 每夺取5点获得1天罚行者","进场时, 夺取4星及以下所有卡牌的黑暗值, 每夺取5点获得1天罚行者"],["每回合结束时, 每有10黑暗值, 获得<1>天罚行者, 最多获得<2>","每回合结束时, 每有10黑暗值, 获得<2>天罚行者, 最多获得<4>"]],unit:{天罚行者:2},attr:{}},德哈卡:{name:"德哈卡",pinyin:"dhk",race:"N",level:5,pack:"核心",belong:"primal",type:"normal",desc:[["任意卡牌出售时, 若其中精华数量≥3, 则获得<2>德哈卡分身","任意卡牌出售时, 若其中精华数量≥3, 则获得<4>德哈卡分身"],["唯一: 每回合结束时, 若晶体矿数量≥1, 则下回合发现1张星级低于5星的原始虫群卡牌","唯一: 每回合结束时, 若晶体矿数量≥1, 则下回合发现1张星级低于5星的原始虫群卡牌"]],unit:{德哈卡:1,德哈卡分身:3},attr:{}},我叫小明:{name:"我叫小明",pinyin:"wjxm",race:"N",level:6,pack:"特典",belong:"none",type:"normal",desc:[["进场时, 复制左侧相邻1-6星的卡牌到暂存区并被其夺取, 并使其获得星空加速","进场时, 复制左侧相邻1-6星的卡牌到暂存区并被其夺取, 并使其获得星空加速"]],unit:{征召兵:20},attr:{insert:!0}},豆浆油条KT1:{name:"豆浆油条KT1",pinyin:"djytK",race:"N",level:6,pack:"特典",belong:"none",type:"normal",desc:[["进场时, 此卡牌和相邻卡牌获得随机升级","进场时, 此卡牌和相邻卡牌获得随机升级"]],unit:{武装机器人:1},attr:{insert:!0}},豆浆油条:{name:"豆浆油条",pinyin:"djyt",race:"N",level:6,pack:"特典",belong:"none",type:"normal",desc:[["每回合结束时, 右侧所有卡牌获得虚空投影增益","每回合结束时, 右侧所有卡牌获得虚空投影增益"]],unit:{赛兰迪丝:1},attr:{}},战斗号角:{name:"战斗号角",pinyin:"zdhj",race:"N",level:6,pack:"特典",belong:"none",type:"normal",desc:[["任意六星以下卡牌出售时, 获得其中价值最高的单位","任意六星以下卡牌出售时, 获得其中价值最高的单位"]],unit:{"虚空辉光舰(精英)":4},attr:{}},凯瑞甘:{name:"凯瑞甘",pinyin:"krg",race:"N",level:6,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 吞噬左侧卡牌所有单位, 获得这些单位150%的生命和护盾","进场时, 吞噬左侧卡牌所有单位, 获得这些单位150%的生命和护盾"],["进场时, 若两张凯瑞甘相邻, 合并为刀锋女王","进场时, 若两张凯瑞甘相邻, 合并为刀锋女王"]],unit:{"莎拉·凯瑞甘":1},attr:{nocombine:!0,insert:!0}},虚空构造体:{name:"虚空构造体",pinyin:"xkgzt",race:"N",level:6,pack:"核心",belong:"virtual",type:"normal",desc:[["唯一: 在场时, 虚空投影获得额外<20>%加成","唯一: 在场时, 虚空投影获得额外<40>%加成"]],unit:{虚空构造体:1},attr:{insert:!0}},折跃援军:{name:"折跃援军",pinyin:"zyyj",race:"P",level:1,pack:"核心",belong:"none",type:"normal",desc:[["出售时, 折跃<1>狂热者和<2>追猎者","出售时, 折跃<2>狂热者和<4>追猎者"]],unit:{追猎者:2,狂热者:2},attr:{}},发电站:{name:"发电站",pinyin:"fdz",race:"P",level:1,pack:"核心",belong:"none",type:"normal",desc:[],unit:{使徒:4,水晶塔:1,虚空水晶塔:1},attr:{}},供能中心:{name:"供能中心",pinyin:"gnzx",race:"P",level:2,pack:"核心",belong:"none",type:"normal",desc:[["提升酒馆等级时, 获得<1>水晶塔","提升酒馆等级时, 获得<2>水晶塔"]],unit:{"使徒(精英)":3,追猎者:2,虚空水晶塔:1},attr:{insert:!0}},龙骑兵团:{name:"龙骑兵团",pinyin:"lqbt",race:"P",level:2,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 获得<2>零件","每回合结束时, 获得<4>零件"],["出售时, 折跃n龙骑士(n=零件数量)","出售时, 折跃n龙骑士(n=零件数量)"]],unit:{龙骑士:5,零件:3,水晶塔:1},attr:{}},万叉奔腾:{name:"万叉奔腾",pinyin:"wcbt",race:"P",level:2,pack:"核心",belong:"none",type:"normal",desc:[["集结(2): 获得<1>狂热者","集结(2): 获得<2>狂热者"]],unit:{狂热者:6,水晶塔:1},attr:{}},折跃信标:{name:"折跃信标",pinyin:"zyxb",race:"P",level:2,pack:"核心",belong:"none",type:"normal",desc:[["你的折跃效果总是添加到这张牌上","你的折跃效果总是添加到这张牌上"]],unit:{机械哨兵:4,不朽者:1,水晶塔:1},attr:{}},艾尔之刃:{name:"艾尔之刃",pinyin:"aezr",race:"P",level:3,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 相邻两侧神族卡牌获得<1>水晶塔","进场时, 相邻两侧神族卡牌获得<2>水晶塔"]],unit:{狂热者:6,高阶圣堂武士:2,水晶塔:1},attr:{insert:!0}},折跃部署:{name:"折跃部署",pinyin:"zybs",race:"P",level:3,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 折跃<2>追猎者","每回合结束时, 折跃<3>追猎者"],["每回合开始时, 折跃<1>狂热者","每回合开始时, 折跃<2>狂热者"]],unit:{折跃棱镜:1,不朽者:1,狂热者:4},attr:{}},暗影卫队:{name:"暗影卫队",pinyin:"aywd",race:"P",level:3,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 获得暗影战士升级","进场时, 获得暗影战士升级"],["集结(3): 获得<1>黑暗圣堂武士","集结(3): 获得<2>黑暗圣堂武士"],["能量强度≥6时, 额外获得1黑暗圣堂武士","能量强度≥6时, 额外获得1黑暗圣堂武士"]],unit:{黑暗圣堂武士:5,水晶塔:1},attr:{}},重回战场:{name:"重回战场",pinyin:"chzc",race:"P",level:3,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 所有神族卡牌将<1>生物单位变为不朽者","进场时, 所有神族卡牌将<2>生物单位变为不朽者"],["出售时, 折跃<1>不朽者","出售时, 折跃<2>不朽者"]],unit:{不朽者:3,水晶塔:2},attr:{}},折跃攻势:{name:"折跃攻势",pinyin:"zygs",race:"P",level:4,pack:"核心",belong:"none",type:"normal",desc:[["任意卡牌折跃时, 获得<1>追猎者","任意卡牌折跃时, 获得<2>追猎者"]],unit:{折跃棱镜:1,"追猎者(精英)":4,水晶塔:2},attr:{}},净化者军团:{name:"净化者军团",pinyin:"jhzjt",race:"P",level:4,pack:"核心",belong:"none",type:"normal",desc:[["集结(5): 所有神族卡牌将<1>地面非重型单位精英化, 并一同折跃他们","集结(5): 所有神族卡牌将<2>地面非重型单位精英化, 并一同折跃他们"]],unit:{"狂热者(精英)":3,掠夺者:2,水晶塔:2},attr:{}},凯拉克斯:{name:"凯拉克斯",pinyin:"klks",race:"P",level:4,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 随机折跃<1>个不朽者/掠夺者/巨像","每回合结束时, 随机折跃<2>个不朽者/掠夺者/巨像"]],unit:{凯拉克斯:1,巨像:1,虚空水晶塔:1},attr:{}},虚空舰队:{name:"虚空舰队",pinyin:"xkjd",race:"P",level:4,pack:"核心",belong:"none",type:"normal",desc:[["集结(5): 折跃<1>虚空辉光舰","集结(5): 折跃<2>虚空辉光舰"]],unit:{虚空辉光舰:4,虚空水晶塔:1},attr:{insert:!0}},势不可挡:{name:"势不可挡",pinyin:"sbkd",race:"P",level:4,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 折跃1执政官(精英)","进场时, 折跃2执政官(精英)"],["集结(5): 折跃<1>执政官","集结(5): 折跃<2>执政官"],["若能量强度≥15, 额外折跃1执政官(精英)","若能量强度≥15, 额外折跃1执政官(精英)"]],unit:{执政官:4,水晶塔:2},attr:{}},黄金舰队:{name:"黄金舰队",pinyin:"hjjd",race:"P",level:5,pack:"核心",belong:"none",type:"normal",desc:[["集结(5): 获得<1>侦察机","集结(5): 获得<2>侦察机"],["集结(7): 获得<1>风暴战舰","集结(7): 获得<2>风暴战舰"]],unit:{航母:2,风暴战舰:1,水晶塔:1,虚空水晶塔:1},attr:{}},尤尔兰:{name:"尤尔兰",pinyin:"yel",race:"P",level:5,pack:"核心",belong:"none",type:"normal",desc:[["为自身和相邻卡牌提供<5>能量强度","为自身和相邻卡牌提供<8>能量强度"],["获得水晶塔时, 获得<1>莫汗达尔","获得水晶塔时, 获得<2>莫汗达尔"],["将所有折跃到此卡牌的机械单位变为尤尔兰","将所有折跃到此卡牌的机械单位变为尤尔兰"]],unit:{尤尔兰:1},attr:{}},光复艾尔:{name:"光复艾尔",pinyin:"gfae",race:"P",level:5,pack:"核心",belong:"none",type:"normal",desc:[["获得升级时, 展开泰坦棱镜","获得升级时, 展开泰坦棱镜"],["泰坦棱镜展开时, 获得出售的神族卡牌的<非英雄>单位和水晶塔(不包括虚空水晶塔), 同时收起","泰坦棱镜展开时, 获得出售的神族卡牌的单位和水晶塔(不包括虚空水晶塔), 同时收起"]],unit:{泰坦棱镜:1},attr:{}},菲尼克斯:{name:"菲尼克斯",pinyin:"fnks",race:"P",level:5,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 将两侧卡牌的狂热者和使徒变为旋风狂热者","进场时, 将两侧卡牌的狂热者和使徒变为旋风狂热者"],["集结(5): 获得<1>掠夺者","集结(5): 获得<2>掠夺者"]],unit:{菲尼克斯:1,"旋风狂热者(精英)":3,掠夺者:1},attr:{insert:!0}},酒馆后勤处:{name:"酒馆后勤处",pinyin:"jghqc",race:"P",level:6,pack:"特典",belong:"none",type:"normal",desc:[["我们需要集结更多观众!","我们需要集结更多观众!"],["进场时, 所有神族卡牌无条件触发2次集结效果","进场时, 所有神族卡牌无条件触发2次集结效果"]],unit:{科罗拉里昂:1,卡尔达利斯:1},attr:{}},净化一切:{name:"净化一切",pinyin:"jhyq",race:"P",level:6,pack:"核心",belong:"none",type:"normal",desc:[["集结(4): 折跃<1>狂热者(精英)","集结(4): 折跃<2>狂热者(精英)"],["每回合结束时, 每有7能量强度折跃<1>巨像(精英), 最多<2>","每回合结束时, 每有7能量强度折跃<2>巨像(精英), 最多<4>"]],unit:{"巨像(精英)":2,水晶塔:3},attr:{}},阿尔达瑞斯:{name:"阿尔达瑞斯",pinyin:"aedrs",race:"P",level:6,pack:"核心",belong:"none",type:"normal",desc:[["唯一: 每回合结束时, 若拥有至少5张神族卡牌, 获得<1>英雄不朽者","唯一: 每回合结束时, 若拥有至少5张神族卡牌, 获得<2>英雄不朽者"]],unit:{仲裁者:1},attr:{}},阿塔尼斯:{name:"阿塔尼斯",pinyin:"atns",race:"P",level:6,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 获得2旋风狂热者(精英)","每回合结束时, 获得2旋风狂热者(精英)<和2阿塔尼斯>"],["唯一: 你的所有集结卡牌每回合无条件额外集结一次","唯一: 你的所有集结卡牌每回合无条件额外集结一次"]],unit:{阿塔尼斯:1,掠夺者:2,虚空水晶塔:1},attr:{}},死神火车:{name:"死神火车",pinyin:"sshc",race:"T",level:1,pack:"核心",belong:"none",type:"normal",desc:[[`任务: 让<1>张卡牌进场
奖励: 获得<1>晶体矿`,`任务: 让<2>张卡牌进场
奖励: 获得<2>晶体矿`]],unit:{收割者:3,恶火:2,反应堆:1},attr:{}},好兄弟:{name:"好兄弟",pinyin:"hxd",race:"T",level:1,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<4>陆战队员","快速生产: 获得<6>陆战队员"],["反应堆生产陆战队员","反应堆生产陆战队员"]],unit:{陆战队员:6,反应堆:1},attr:{}},挖宝奇兵:{name:"挖宝奇兵",pinyin:"wbqb",race:"T",level:2,pack:"核心",belong:"none",type:"normal",desc:[[`任务: 刷新5次
奖励: 发现1张等同于你当前酒馆星级的卡牌`,`任务: 刷新5次
奖励: 发现1张等同于你当前酒馆星级的卡牌`]],unit:{响尾蛇战车:3,反应堆:1},attr:{nocombine:!0}},实验室安保:{name:"实验室安保",pinyin:"sysab",race:"T",level:2,pack:"核心",belong:"none",type:"normal",desc:[["反应堆生产陆战队员","反应堆生产陆战队员"],["进场时, 相邻两侧人族卡牌的挂件类型改变","进场时, 相邻两侧人族卡牌的挂件类型改变"]],unit:{陆战队员:6,医疗兵:3,反应堆:1},attr:{}},征兵令:{name:"征兵令",pinyin:"zbl",race:"T",level:2,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 抽取两侧人族卡牌三分之二的单位","进场时, 抽取两侧人族卡牌三分之二的单位"]],unit:{"陆战队员(精英)":4,陆战队员:3,反应堆:1},attr:{insert:!0}},恶火小队:{name:"恶火小队",pinyin:"ehxd",race:"T",level:2,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得1攻城坦克","快速生产: 获得1攻城坦克"],["反应堆生产恶火","反应堆生产恶火"],["每回合结束时, 若拥有至少2科技挂件, 则获得<1>歌利亚","每回合结束时, 若拥有至少2科技挂件, 则获得<2>歌利亚"]],unit:{恶火:6,反应堆:1},attr:{}},空投地雷:{name:"空投地雷",pinyin:"ktdl",race:"T",level:3,pack:"核心",belong:"none",type:"normal",desc:[["任意卡牌进场时, 获得<1>寡妇雷","任意卡牌进场时, 获得<2>寡妇雷"],["快速生产: 获得<2>寡妇雷","快速生产: 获得<3>寡妇雷"]],unit:{寡妇雷:3,反应堆:1},attr:{}},步兵连队:{name:"步兵连队",pinyin:"bbld",race:"T",level:3,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<3>劫掠者","快速生产: 获得<5>劫掠者"],["反应堆生产劫掠者","反应堆生产劫掠者"]],unit:{陆战队员:5,医疗运输机:2,劫掠者:3,反应堆:1},attr:{}},飙车流:{name:"飙车流",pinyin:"bcl",race:"T",level:3,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<3>秃鹫","快速生产: 获得<5>秃鹫"],[`任务: 让3张人族卡牌进场
奖励: 相邻左侧人族卡牌的挂件类型变为高级科技实验室`,`任务: 让3张人族卡牌进场
奖励: 相邻左侧人族卡牌的挂件类型变为高级科技实验室`]],unit:{秃鹫:4,飓风:3,科技实验室:1},attr:{}},科考小队:{name:"科考小队",pinyin:"kkxd",race:"T",level:3,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 相邻两侧人族卡牌的挂件类型改变","进场时, 相邻两侧人族卡牌的挂件类型改变"],[`任务: 刷新2次
奖励: 获得<1>歌利亚
每回合结束时, 重置此任务`,`任务: 刷新2次
奖励: 获得<2>歌利亚
每回合结束时, 重置此任务`]],unit:{歌利亚:4,铁鸦:2,科技实验室:1},attr:{insert:!0}},陆军学院:{name:"陆军学院",pinyin:"ljxy",race:"T",level:4,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<3>维京战机","快速生产: 获得<5>维京战机"],["每回合结束时, 若拥有至少3科技挂件, 则获得<1>战狼","每回合结束时, 若拥有至少3科技挂件, 则获得<2>战狼"]],unit:{战狼:3,"维京战机<机甲>":2,科技实验室:1},attr:{}},空军学院:{name:"空军学院",pinyin:"kjxy",race:"T",level:4,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<3>维京战机","快速生产: 获得<5>维京战机"],["任意任务完成时, 获得<1>解放者","任意任务完成时, 获得<2>解放者"]],unit:{解放者:3,科技实验室:1},attr:{}},交叉火力:{name:"交叉火力",pinyin:"jchl",race:"T",level:4,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<3>歌利亚","快速生产: 获得<5>歌利亚"],["每回合结束时, 若拥有至少4科技挂件, 则获得<1>攻城坦克","每回合结束时, 若拥有至少4科技挂件, 则获得<2>攻城坦克"]],unit:{攻城坦克:2,歌利亚:3,科技实验室:1},attr:{}},枪兵坦克:{name:"枪兵坦克",pinyin:"qbtk",race:"T",level:4,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 所有具有反应堆的人族卡牌获得<2>陆战队员","每回合结束时, 所有具有反应堆的人族卡牌获得<4>陆战队员"]],unit:{陆战队员:8,攻城坦克:2,反应堆:1},attr:{}},斯台特曼:{name:"斯台特曼",pinyin:"sttm",race:"T",level:4,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 相邻两侧卡牌将<1>歌利亚和<1>维京战机精英化","快速生产: 相邻两侧卡牌将<2>歌利亚和<2>维京战机精英化"],["进场时, 相邻左侧人族卡牌的挂件类型变为高级科技实验室","进场时, 相邻左侧人族卡牌的挂件类型变为高级科技实验室"]],unit:{斯台特曼:1,思旺:1,高级科技实验室:1},attr:{insert:!0}},护航中队:{name:"护航中队",pinyin:"hhzd",race:"T",level:5,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<1>黄昏之翼","快速生产: 获得<2>黄昏之翼"],["任意卡牌进场时, 获得<1>怨灵战机","任意卡牌进场时, 获得<2>怨灵战机"]],unit:{怨灵战机:3,黄昏之翼:1,科技实验室:1},attr:{}},泰凯斯:{name:"泰凯斯",pinyin:"tks",race:"T",level:5,pack:"核心",belong:"none",type:"normal",desc:[["反应堆生产陆战队员(精英)","反应堆生产陆战队员(精英)"],["每回合结束时, 所有人族卡牌将<3>陆战队员和<3>劫掠者精英化","每回合结束时, 所有人族卡牌将<5>陆战队员和<5>劫掠者精英化"],["每回合结束时, 获得<1>医疗运输机","每回合结束时, 获得<2>医疗运输机"]],unit:{泰凯斯:1,"陆战队员(精英)":6,反应堆:1,医疗运输机:2},attr:{}},外籍军团:{name:"外籍军团",pinyin:"wjjt",race:"T",level:5,pack:"核心",belong:"none",type:"normal",desc:[["反应堆生产牛头人陆战队员","反应堆生产牛头人陆战队员"],["进场时, 相邻两侧卡牌将每6个陆战队员变为1牛头人陆战队员(精英则只需要3个)","进场时, 相邻两侧卡牌将每6个陆战队员变为1牛头人陆战队员(精英则只需要3个)"]],unit:{牛头人陆战队员:2,鱼人陆战队员:1,反应堆:1},attr:{insert:!0}},钢铁洪流:{name:"钢铁洪流",pinyin:"gthl",race:"T",level:5,pack:"核心",belong:"none",type:"normal",desc:[["快速生产: 获得<1>雷神","快速生产: 获得<2>雷神"],["每回合结束时, 若拥有5科技挂件, 则所有卡牌将<1>攻城坦克和<1>战狼精英化","每回合结束时, 若拥有5科技挂件, 则所有卡牌将<2>攻城坦克和<2>战狼精英化"]],unit:{雷神:3,战狼:2,科技实验室:1},attr:{}},游骑兵:{name:"游骑兵",pinyin:"yqb",race:"T",level:6,pack:"核心",belong:"none",type:"normal",desc:[["任意卡牌挂件变更时, 相应卡牌获得<1>雷诺(狙击手)","任意卡牌挂件变更时, 相应卡牌获得<2>雷诺(狙击手)"],["反应堆生产雷诺(狙击手)","反应堆生产雷诺(狙击手)"]],unit:{"雷诺(指挥官)":1,反应堆:1},attr:{}},沃菲尔德:{name:"沃菲尔德",pinyin:"wfed",race:"T",level:6,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 所有卡牌将<1>陆战队员(精英)变为帝盾卫兵","每回合结束时, 所有卡牌将<2>陆战队员(精英)变为帝盾卫兵"],["唯一: 获得每回合出售的<第一>张人族卡牌的单位","唯一: 获得每回合出售的<前两>张人族卡牌的单位"]],unit:{沃菲尔德将军:1,帝盾卫兵:3,科技实验室:1},attr:{}},帝国舰队:{name:"帝国舰队",pinyin:"dgjd",race:"T",level:6,pack:"核心",belong:"none",type:"normal",desc:[[`任务: 出售3张卡牌
奖励: 获得<1>战列巡航舰并重置此任务`,`任务: 出售3张卡牌
奖励: 获得<2>战列巡航舰并重置此任务`],["每回合结束时, 若拥有至少4科技挂件, 则获得<2>黄昏之翼","每回合结束时, 若拥有至少4科技挂件, 则获得<4>黄昏之翼"]],unit:{战列巡航舰:4,科技实验室:1},attr:{}},cloudplayer:{name:"cloudplayer",pinyin:"ywj",race:"T",level:6,pack:"特典",belong:"none",type:"normal",desc:[["进场时, 重复获得皇家单位, 直到价值成为你卡牌前三","进场时, 重复获得皇家单位, 直到价值成为你卡牌前三"]],unit:{"战列巡航舰(皇家卫队)":1,暴掠龙:1,医疗兵:1,易爆感染体:1,反应堆:1},attr:{}},牛牛冲鸭:{name:"牛牛冲鸭",pinyin:"nncy",race:"T",level:6,pack:"特典",belong:"none",type:"normal",desc:[["每回合结束时, 相邻两侧卡牌获得1牛头人陆战队员","每回合结束时, 相邻两侧卡牌获得1牛头人陆战队员"]],unit:{牛头人兵营:1},attr:{}},虫群先锋:{name:"虫群先锋",pinyin:"cqxf",race:"Z",level:1,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 获得<2>跳虫","每回合结束时, 获得<4>跳虫"]],unit:{跳虫:8,爆虫:3},attr:{}},蟑螂小队:{name:"蟑螂小队",pinyin:"zlxd",race:"Z",level:1,pack:"核心",belong:"none",type:"normal",desc:[["每回合开始时, 将<1>蟑螂变为破坏者","每回合开始时, 将<2>蟑螂变为破坏者"],["出售时, 注卵<2>蟑螂","出售时, 注卵<4>蟑螂"]],unit:{蟑螂:3,爆虫:1},attr:{}},屠猎者:{name:"屠猎者",pinyin:"tlz",race:"Z",level:2,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 将所有刺蛇变为刺蛇(精英)","每回合结束时, 将所有刺蛇变为刺蛇(精英)"],["提升酒馆等级时, 获得<1>刺蛇(精英)","提升酒馆等级时, 获得<2>刺蛇(精英)"]],unit:{跳虫:10,刺蛇:2},attr:{}},埋地刺蛇:{name:"埋地刺蛇",pinyin:"mdcs",race:"Z",level:2,pack:"核心",belong:"none",type:"normal",desc:[["出售时, 注卵<3>刺蛇","出售时, 注卵<6>刺蛇"]],unit:{刺蛇:6},attr:{insert:!0}},变异军团:{name:"变异军团",pinyin:"byjt",race:"Z",level:2,pack:"核心",belong:"none",type:"normal",desc:[["任意卡牌注卵时, 获得<1>被感染的陆战队员","任意卡牌注卵时, 获得<2>被感染的陆战队员"]],unit:{被感染的陆战队员:7},attr:{}},孵化蟑螂:{name:"孵化蟑螂",pinyin:"fhzl",race:"Z",level:2,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 孵化<1>蟑螂","每回合结束时, 孵化<2>蟑螂"]],unit:{蟑螂:4,破坏者:2},attr:{}},爆虫滚滚:{name:"爆虫滚滚",pinyin:"bcgg",race:"Z",level:3,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 每有<20>爆虫孵化1爆虫","每回合结束时, 每有<15>爆虫孵化1爆虫"],["唯一: 获得任意出售卡牌中的跳虫, 并将其变为爆虫","唯一: 获得任意出售卡牌中的跳虫, 并将其变为爆虫"]],unit:{爆虫:10},attr:{}},飞龙骑脸:{name:"飞龙骑脸",pinyin:"flql",race:"Z",level:3,pack:"核心",belong:"none",type:"normal",desc:[["出售时, 孵化<2>异龙","出售时, 孵化<4>异龙"]],unit:{跳虫:15,异龙:5},attr:{insert:!0}},凶残巨兽:{name:"凶残巨兽",pinyin:"xcjs",race:"Z",level:3,pack:"核心",belong:"none",type:"normal",desc:[["出售时, 注卵<1>雷兽","出售时, 注卵<2>雷兽"]],unit:{雷兽:2},attr:{}},注卵虫后:{name:"注卵虫后",pinyin:"zlch",race:"Z",level:3,pack:"核心",belong:"none",type:"normal",desc:[["每回合开始时, 注卵<1>蟑螂和<1>刺蛇","每回合开始时, 注卵<2>蟑螂和<2>刺蛇"]],unit:{虫后:5},attr:{}},孵化所:{name:"孵化所",pinyin:"fhs",race:"Z",level:4,pack:"核心",belong:"none",type:"normal",desc:[["唯一: 任意卡牌孵化至此卡牌时, 额外孵化<2>单位","唯一: 任意卡牌孵化至此卡牌时, 额外孵化<3>单位"]],unit:{菌毯肿瘤:1,虫后:2,守卫:2},attr:{insert:!0}},地底伏击:{name:"地底伏击",pinyin:"ddfj",race:"Z",level:4,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 孵化<1>潜伏者","进场时, 孵化<2>潜伏者"]],unit:{潜伏者:3},attr:{insert:!0}},孵化刺蛇:{name:"孵化刺蛇",pinyin:"fhcs",race:"Z",level:4,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 孵化<1>刺蛇(精英)","每回合结束时, 孵化<2>刺蛇(精英)"]],unit:{蟑螂:4,"刺蛇(精英)":3},attr:{}},感染深渊:{name:"感染深渊",pinyin:"grsy",race:"Z",level:4,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 所有卡牌将<2>陆战队员变为被感染的陆战队员, 并将他们注卵","每回合结束时, 所有卡牌将<4>陆战队员变为被感染的陆战队员, 并将他们注卵"],["每回合开始时, 所有卡牌将<1>被感染的陆战队员变为畸变体","每回合开始时, 所有卡牌将<2>被感染的陆战队员变为畸变体"]],unit:{感染者:2,陆战队员:3},attr:{}},腐化大龙:{name:"腐化大龙",pinyin:"fhdl",race:"Z",level:5,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 将<2>腐化者变为巢虫领主","每回合结束时, 将<4>腐化者变为巢虫领主"],["出售时, 注卵<2>巢虫领主","出售时, 注卵<4>巢虫领主"]],unit:{腐化者:6},attr:{}},空中管制:{name:"空中管制",pinyin:"kzgz",race:"Z",level:5,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 孵化<3>爆蚊","进场时, 孵化<6>爆蚊"],["每回合结束时, 孵化<1>异龙(精英)","每回合结束时, 孵化<2>异龙(精英)"]],unit:{"异龙(精英)":4,飞蛇:1},attr:{insert:!0}},虫群大军:{name:"虫群大军",pinyin:"cqdj",race:"Z",level:5,pack:"核心",belong:"none",type:"normal",desc:[["每回合结束时, 若拥有至少4张虫族卡牌, 则注卵<1>雷兽","每回合结束时, 若拥有至少4张虫族卡牌, 则注卵<2>雷兽"]],unit:{雷兽:2,刺蛇:8},attr:{}},终极进化:{name:"终极进化",pinyin:"zjjh",race:"Z",level:5,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 相邻两侧卡牌将<1>蟑螂变为莽兽","进场时, 相邻两侧卡牌将<2>蟑螂变为莽兽"]],unit:{莽兽:2},attr:{insert:!0}},凶猛巨兽:{name:"凶猛巨兽",pinyin:"xmjs",race:"Z",level:6,pack:"核心",belong:"none",type:"normal",desc:[["进场时, 所有虫族卡牌获得<2>腐化者","进场时, 所有虫族卡牌获得<4>腐化者"],["每回合结束时, 相邻两侧虫族卡牌获得<2>守卫","每回合结束时, 相邻两侧虫族卡牌获得<4>守卫"]],unit:{利维坦:1},attr:{}},扎加拉:{name:"扎加拉",pinyin:"zjl",race:"Z",level:6,pack:"核心",belong:"none",type:"normal",desc:[["唯一: 任意卡牌进行孵化时, 单位额外孵化到此卡牌","唯一: 任意卡牌进行孵化时, 单位额外孵化到此卡牌<, 并且此卡牌获得1巢虫领主>"]],unit:{扎加拉:1,"刺蛇(精英)":6},attr:{}},斯托科夫:{name:"斯托科夫",pinyin:"stkf",race:"Z",level:6,pack:"核心",belong:"none",type:"normal",desc:[["唯一: 每进场<两>张六星以下的非虫族卡牌, 注卵<第二张>卡牌的非英雄单位到最左侧虫卵牌","唯一: 每进场<一>张六星以下的非虫族卡牌, 注卵<进场>卡牌的非英雄单位到最左侧虫卵牌"]],unit:{斯托科夫:1},attr:{}},虫卵:{name:"虫卵",pinyin:"cl",race:"Z",level:0,pack:"核心衍生",belong:"none",type:"normal",desc:[["每回合开始时, 如果相邻两侧的卡牌是虫族卡牌, 摧毁这张牌, 获得1晶体矿并孵化其中的生物单位","每回合开始时, 如果相邻两侧的卡牌是虫族卡牌, 摧毁这张牌, 获得1晶体矿并孵化其中的生物单位"]],unit:{},attr:{gold:!0}},复制中心:{name:"复制中心",pinyin:"fzzx",race:"T",level:4,pack:"独辟蹊径",belong:"none",type:"normal",desc:[["快速生产: 获得每张暂存卡牌的<1>非英雄生物单位","快速生产: 获得每张暂存卡牌的<2>非英雄生物单位"]],unit:{幽魂:2,"歌利亚(精英)":2,反应堆:1},attr:{}},晋升仪式:{name:"晋升仪式",pinyin:"jsys",race:"P",level:4,pack:"独辟蹊径",belong:"none",type:"normal",desc:[["集结(4): 将<1>不朽者变为英雄不朽者并将<1>生物单位变为高阶圣堂武士","集结(4): 将<2>不朽者变为英雄不朽者并将<2>生物单位变为高阶圣堂武士"]],unit:{不朽者:2,"狂热者(精英)":2,水晶塔:2},attr:{insert:!0}},基因突变:{name:"基因突变",pinyin:"jytb",race:"Z",level:3,pack:"独辟蹊径",belong:"none",type:"normal",desc:[["进场和出售时, 相邻两侧虫族卡牌将价值最低的<1>个单位变为价值最高的非英雄单位","进场和出售时, 相邻两侧虫族卡牌将价值最低的<2>个单位变为价值最高的非英雄单位"]],unit:{"破坏者(精英)":1,破坏者:2},attr:{insert:!0}},风暴英雄:{name:"风暴英雄",pinyin:"fbyx",race:"N",level:5,pack:"独辟蹊径",belong:"none",type:"normal",desc:[["获得升级时, 随机获得1英雄(包含: 马拉什, 阿拉纳克, 利维坦, 虚空构造体, 科罗拉里昂)","获得升级时, 随机获得1英雄(包含: 马拉什, 阿拉纳克, 利维坦, 虚空构造体, 科罗拉里昂)"]],unit:{沃拉尊:1},attr:{nocombine:!0}},帝国敢死队:{name:"帝国敢死队",pinyin:"dggsd",race:"T",level:5,pack:"短兵相接",belong:"none",type:"normal",desc:[["快速生产: 获得2诺娃","快速生产: 获得2诺娃"],["反应堆生产诺娃","反应堆生产诺娃"],["任意任务完成时, 获得<1>诺娃","任意任务完成时, 获得<2>诺娃"]],unit:{诺娃:3,反应堆:1},attr:{}},黑暗教长:{name:"黑暗教长",pinyin:"hajc",race:"P",level:5,pack:"短兵相接",belong:"none",type:"normal",desc:[["进场时, 获得暗影战士升级","进场时, 获得暗影战士升级"],["集结(5): 获得<1>黑暗圣堂武士(精英)","集结(5): 获得<2>黑暗圣堂武士(精英)"]],unit:{泽拉图:1,虚空水晶塔:1},attr:{}},雷兽窟:{name:"雷兽窟",pinyin:"lsk",race:"Z",level:3,pack:"短兵相接",belong:"none",type:"normal",desc:[["任意卡牌注卵时, 此卡牌将<1>幼雷兽变为雷兽","任意卡牌注卵时, 此卡牌将<2>幼雷兽变为雷兽"],["每回合结束时, 孵化<1>幼雷兽","每回合结束时, 孵化<2>幼雷兽"]],unit:{幼雷兽:5},attr:{}},混合体巨兽:{name:"混合体巨兽",pinyin:"hhtjs",race:"N",level:6,pack:"短兵相接",belong:"virtual",type:"normal",desc:[["每回合结束时, 若场上有4个种族的卡牌, 则获得<1>混合体巨兽","每回合结束时, 若场上有4个种族的卡牌, 则获得<2>混合体巨兽"]],unit:{混合体巨兽:2},attr:{}},黑市商人:{name:"黑市商人",pinyin:"hssr",race:"T",level:2,pack:"不法之徒",belong:"none",type:"normal",desc:[["进场时, 发现一张辅助卡","进场时, 发现一张辅助卡"]],unit:{赫克:3},attr:{}},秘密实验:{name:"秘密实验",pinyin:"mmsy",race:"N",level:3,pack:"不法之徒",belong:"none",type:"normal",desc:[["进场时, 所有种族最左侧的卡牌获得1个混合体掠夺者","进场时, 所有种族最左侧的卡牌获得1个混合体掠夺者"]],unit:{混合体掠夺者:2},attr:{}},基因编辑:{name:"基因编辑",pinyin:"jybj",race:"Z",level:4,pack:"不法之徒",belong:"none",type:"normal",desc:[["进场时, 摧毁相邻左侧1-6星非衍生卡牌, 发现一张同等星级的卡牌","进场时, 摧毁相邻左侧1-6星非衍生卡牌, 发现一张同等星级的卡牌"]],unit:{毒裂兽:3},attr:{insert:!0}},人格上传:{name:"人格上传",pinyin:"rgsc",race:"P",level:4,pack:"不法之徒",belong:"none",type:"normal",desc:[["任意卡牌出售时, 若其价值大于本卡牌价值, 获得1菲尼克斯","任意卡牌出售时, 若其价值大于本卡牌价值, 获得3菲尼克斯"]],unit:{菲尼克斯:1},attr:{}},母舰核心:{name:"母舰核心",pinyin:"mjhx",race:"P",level:1,pack:"母舰核心衍生",belong:"none",type:"normal",desc:[["玩家进行两次三连此卡牌变为母舰","玩家进行两次三连此卡牌变为母舰"],["三连时, 获得数量等你酒馆等级的虚空辉光舰","三连时, 获得数量等你酒馆等级的虚空辉光舰"]],unit:{母舰核心:1,狂热者:1,虚空水晶塔:2,追猎者:2},attr:{}},观察样本:{name:"观察样本",pinyin:"gcyb",race:"N",level:1,pack:"科学球衍生",belong:"none",type:"normal",desc:[],unit:{},attr:{nocombine:!0}},毒气炮塔:{name:"毒气炮塔",pinyin:"dqpt",race:"N",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 将每<3>自动机炮变为毒气炮塔","每回合结束时, 将每<2>自动机炮变为毒气炮塔"],["出售时, 获得<1>晶体矿","出售时, 获得<2>晶体矿"]],unit:{自动机炮:1},attr:{}},凯达琳巨石:{name:"凯达琳巨石",pinyin:"kdljs",race:"P",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 将每<5>自动机炮变为1凯达琳巨石","每回合结束时, 将每<4>自动机炮变为1凯达琳巨石"],["每回合结束时, 每有一张神族卡牌, 此卡牌获得1自动机炮","每回合结束时, 每有一张神族卡牌, 此卡牌获得1自动机炮"]],unit:{自动机炮:1},attr:{}},岗哨机枪:{name:"岗哨机枪",pinyin:"gsjq",race:"N",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 将每个自动机炮变为2岗哨机枪","每回合结束时, 将每个自动机炮变为2岗哨机枪"],["任意卡牌进场时, 此卡牌获得<2>岗哨机枪","任意卡牌进场时, 此卡牌获得<3>岗哨机枪"]],unit:{自动机炮:1},attr:{}},行星要塞:{name:"行星要塞",pinyin:"xxys",race:"N",level:1,pack:"核心",belong:"none",type:"structure",desc:[["每回合结束时, 将每<5>自动机炮变为1行星要塞","每回合结束时, 将每<4>自动机炮变为1行星要塞"],["唯一: 任意中立卡牌出售时, 获得其中所有的非特殊建筑单位","唯一: 任意中立卡牌出售时, 获得其中所有的非特殊建筑单位"]],unit:{自动机炮:1},attr:{}},星门:{name:"星门",pinyin:"xm",race:"P",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 获得<1>零件并将每1自动机炮变为1零件","每回合结束时, 获得<2>零件并将每1自动机炮变为1零件"],["制造(6): 获得1星门","制造(6): 获得1星门"]],unit:{自动机炮:1},attr:{}},自动机炮:{name:"自动机炮",pinyin:"zdjp",race:"Z",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 获得<1>自动机炮","每回合结束时, 获得<2>自动机炮"],["出售时, 相邻(优先左侧)卡牌获得此卡牌的所有自动机炮","出售时, 相邻(优先左侧)卡牌获得此卡牌的所有自动机炮"]],unit:{自动机炮:1},attr:{}},作战中心:{name:"作战中心",pinyin:"zzzx",race:"T",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["制造(6): 获得1作战指挥中心","制造(6): 获得1作战指挥中心"],[`任务: 进场2张卡牌
奖励: 获得<1>零件
每回合结束时, 重置任务`,`任务: 进场2张卡牌
奖励: 获得<2>零件
每回合结束时, 重置任务`]],unit:{自动机炮:1},attr:{}},导弹基地:{name:"导弹基地",pinyin:"ddjd",race:"N",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 将每个自动机炮变为2风暴对地导弹塔","每回合结束时, 将每个自动机炮变为2风暴对地导弹塔"],["任意任务完成时, 获得<2>风暴对地导弹塔","任意任务完成时, 获得<3>风暴对地导弹塔"]],unit:{自动机炮:1},attr:{}},粒子光炮:{name:"粒子光炮",pinyin:"lzgp",race:"N",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 抽取相邻两侧卡牌<1>自动机炮并将每1自动机炮变为1零件","每回合结束时, 抽取相邻两侧卡牌<2>自动机炮并将每1自动机炮变为1零件"],["制造(9): 获得1粒子光炮","制造(9): 获得1粒子光炮"]],unit:{自动机炮:1},attr:{}},再生钢:{name:"再生钢",pinyin:"zsg",race:"N",level:1,pack:"行星要塞衍生",belong:"none",type:"structure",desc:[["每回合结束时, 将每2自动机炮变为1热辣贝蒂","每回合结束时, 将每2自动机炮变为1热辣贝蒂"],["获得升级时, 发现1张建筑卡并获得1热辣贝蒂","获得升级时, 发现1张建筑卡并获得2热辣贝蒂"]],unit:{自动机炮:1},attr:{}},不法之徒:{name:"不法之徒",pinyin:"bfzt",race:"T",level:1,pack:"泰凯斯衍生",belong:"none",type:"normal",desc:[],unit:{泰凯斯:1},attr:{}},生化实验室:{name:"生化实验室",pinyin:"shsys",race:"N",level:0,pack:"辅助卡",belong:"none",type:"support",desc:[["部署时, 将指定卡牌的5生物单位变为5被感染的陆战队员并注卵","部署时, 将指定卡牌的5生物单位变为5被感染的陆战队员并注卵"]],unit:{},attr:{}},紧急回收:{name:"紧急回收",pinyin:"jjhs",race:"N",level:0,pack:"辅助卡",belong:"none",type:"support",desc:[["部署时, 摧毁指定卡牌, 将其中的非英雄单位转移到相邻非虫卵牌中(优先左侧卡牌)","部署时, 摧毁指定卡牌, 将其中的非英雄单位转移到相邻非虫卵牌中(优先左侧卡牌)"]],unit:{},attr:{}},星灵科技:{name:"星灵科技",pinyin:"xlkj",race:"N",level:0,pack:"辅助卡",belong:"none",type:"support",desc:[[`部署时, 为指定非神族卡牌添加描述:
每回合结束时, 折跃1陆战队员
三连后还原`,`部署时, 为指定非神族卡牌添加描述:
每回合结束时, 折跃1陆战队员
三连后还原`]],unit:{},attr:{}},尖端科技:{name:"尖端科技",pinyin:"jdkj",race:"N",level:0,pack:"辅助卡",belong:"none",type:"support",desc:[[`部署时, 指定卡牌获得轨道空降升级
其能让单位能空降到敌人后方`,`部署时, 指定卡牌获得轨道空降升级
其能让单位能空降到敌人后方`]],unit:{},attr:{}},超负荷:{name:"超负荷",pinyin:"cfh",race:"N",level:0,pack:"辅助卡",belong:"none",type:"support",desc:[["部署时, 摧毁指定卡牌, 并再次触发它的进场特效","部署时, 摧毁指定卡牌, 并再次触发它的进场特效"]],unit:{},attr:{}},机械工厂:{name:"机械工厂",pinyin:"jxgc",race:"T",level:0,pack:"思旺衍生",belong:"none",type:"normal",desc:[["制造(70): 获得1休伯利安号","制造(70): 获得1休伯利安号"],["制造(45): 获得9战列巡航舰","制造(45): 获得9战列巡航舰"],["制造(30): 获得6雷神","制造(30): 获得6雷神"],["制造(16): 获得6攻城坦克","制造(16): 获得6攻城坦克"]],unit:{科技实验室:1},attr:{gold:!0}},"虫卵(跳虫)":{name:"虫卵(跳虫)",pinyin:"cl(tc)",race:"Z",level:0,pack:"核心衍生",belong:"none",type:"normal",desc:[["出售该卡牌时, 尝试将此卡牌的单位转移到另一张虫卵牌上","出售该卡牌时, 尝试将此卡牌的单位转移到另一张虫卵牌上"]],unit:{},attr:{gold:!0}},幽灵报道:{name:"幽灵报道",pinyin:"ylbd",race:"N",level:7,pack:"幽灵衍生",belong:"none",type:"normal",desc:[["每回合结束时, 获得2幽灵","每回合结束时, 获得2幽灵"],["任意卡牌进场时, 幽灵报道的种族变更为场上最多数量的种族","任意卡牌进场时, 幽灵报道的种族变更为场上最多数量的种族"]],unit:{幽灵:2},attr:{red:!0}},科学观察:{name:"科学观察",pinyin:"kxgc",race:"T",level:7,pack:"科学球衍生",belong:"none",type:"normal",desc:[["/词条暂无/","/词条暂无/"]],unit:{反应堆:1,科学船:2,陆战队员:2,医疗兵:2},attr:{red:!0}},"母舰核心(PVE)":{name:"母舰核心(PVE)",pinyin:"mjhx(pve)",race:"P",level:1,pack:"母舰核心衍生",belong:"none",type:"normal",desc:[["玩家进行两次三连此卡牌变为母舰","玩家进行两次三连此卡牌变为母舰"],["三连时, 获得数量等你酒馆等级的虚空辉光舰","三连时, 获得数量等你酒馆等级的侦察机(精英), 虚空辉光舰(精英), 风暴战舰(精英)"]],unit:{母舰核心:1,狂热者:1,虚空水晶塔:2,追猎者:2},attr:{}}},m={塔达林母舰:{name:"塔达林母舰",pinyin:"tdlmj",race:"N",value:600,type:"normal",health:800,shield:600,tag:{armored:!0,mechanical:!0,psionic:!0,massive:!0,heroic:!0,air:!0}},虚空裂隙:{name:"虚空裂隙",pinyin:"xklx",race:"N",value:0,type:"normal",health:1300,tag:{heroic:!0,structure:!0}},百夫长:{name:"百夫长",pinyin:"bfz",race:"N",value:200,type:"normal",health:130,shield:100,tag:{light:!0,biological:!0}},凤凰:{name:"凤凰",pinyin:"fh",race:"N",value:250,type:"normal",health:120,shield:60,tag:{light:!0,mechanical:!0,air:!0}},天霸:{name:"天霸",pinyin:"tb",race:"N",value:600,type:"normal",health:300,shield:150,tag:{armored:!0,mechanical:!0,massive:!0,air:!0}},先锋:{name:"先锋",pinyin:"xf",race:"N",value:375,type:"normal",health:200,shield:100,tag:{armored:!0,mechanical:!0}},黑暗执政官:{name:"黑暗执政官",pinyin:"hazzg",race:"N",value:450,type:"normal",health:10,shield:350,tag:{psionic:!0,massive:!0}},混合体巨兽:{name:"混合体巨兽",pinyin:"hhtjs",race:"N",value:1200,type:"normal",health:1e3,tag:{armored:!0,biological:!0,massive:!0,heroic:!0}},沃拉尊:{name:"沃拉尊",pinyin:"wlz",race:"N",value:0,type:"normal",health:300,shield:300,tag:{light:!0,biological:!0,psionic:!0,heroic:!0}},死亡之握水晶:{name:"死亡之握水晶",pinyin:"swzwsj",race:"N",value:1e3,type:"normal",health:250,shield:250,tag:{heroic:!0}},零件:{name:"零件",pinyin:"lj",race:"N",value:0,type:"special unit",health:0,tag:{}},精华:{name:"精华",pinyin:"jh",race:"N",value:0,type:"special unit",health:0,tag:{}},原始蟑螂:{name:"原始蟑螂",pinyin:"yszl",race:"N",value:100,type:"normal",health:120,tag:{armored:!0,biological:!0}},不死队:{name:"不死队",pinyin:"bsd",race:"N",value:100,type:"normal",health:100,shield:50,tag:{light:!0,biological:!0}},自动机炮:{name:"自动机炮",pinyin:"zdjp",race:"N",value:200,type:"normal",health:250,tag:{armored:!0,mechanical:!0,structure:!0}},修理无人机:{name:"修理无人机",pinyin:"xlwrj",race:"N",value:0,type:"normal",health:50,tag:{light:!0,mechanical:!0,heroic:!0,air:!0}},原始刺蛇:{name:"原始刺蛇",pinyin:"yscs",race:"N",value:150,type:"normal",health:80,tag:{light:!0,biological:!0}},原始异龙:{name:"原始异龙",pinyin:"ysyl",race:"N",value:250,type:"normal",health:175,tag:{light:!0,biological:!0,air:!0}},鲜血猎手:{name:"鲜血猎手",pinyin:"xxls",race:"N",value:125,type:"normal",health:80,shield:40,tag:{light:!0,biological:!0,psionic:!0}},浩劫:{name:"浩劫",pinyin:"hj",race:"N",value:200,type:"normal",health:60,shield:40,tag:{light:!0,mechanical:!0}},暴掠龙:{name:"暴掠龙",pinyin:"bll",race:"N",value:200,type:"normal",health:200,tag:{armored:!0,biological:!0}},亚格卓拉:{name:"亚格卓拉",pinyin:"ygzl",race:"N",value:1e3,type:"normal",health:2e3,tag:{armored:!0,biological:!0,massive:!0,heroic:!0}},毁灭者:{name:"毁灭者",pinyin:"hmz",race:"N",value:400,type:"normal",health:150,shield:100,tag:{armored:!0,mechanical:!0,air:!0}},原始点火虫:{name:"原始点火虫",pinyin:"ysdhc",race:"N",value:300,type:"normal",health:300,tag:{armored:!0,biological:!0}},原始雷兽:{name:"原始雷兽",pinyin:"ysls",race:"N",value:425,type:"normal",health:300,tag:{armored:!0,biological:!0,massive:!0}},原始暴龙兽:{name:"原始暴龙兽",pinyin:"ysbls",race:"N",value:600,type:"normal",health:600,tag:{armored:!0,biological:!0,massive:!0,heroic:!0}},马拉什:{name:"马拉什",pinyin:"mls",race:"N",value:800,type:"normal",health:100,shield:300,tag:{biological:!0,psionic:!0,heroic:!0}},混合体毁灭者:{name:"混合体毁灭者",pinyin:"hhthmz",race:"N",value:500,type:"normal",health:200,shield:200,tag:{armored:!0,biological:!0,heroic:!0}},阿拉纳克:{name:"阿拉纳克",pinyin:"alnk",race:"N",value:1500,type:"normal",health:300,shield:350,tag:{biological:!0,psionic:!0,heroic:!0}},天罚行者:{name:"天罚行者",pinyin:"tfxz",race:"N",value:500,type:"normal",health:200,shield:150,tag:{armored:!0,mechanical:!0,massive:!0}},德哈卡:{name:"德哈卡",pinyin:"dhk",race:"N",value:750,type:"normal",health:650,tag:{biological:!0,heroic:!0}},德哈卡分身:{name:"德哈卡分身",pinyin:"dhkfs",race:"N",value:300,type:"normal",health:250,tag:{biological:!0}},征召兵:{name:"征召兵",pinyin:"zzb",race:"N",value:40,type:"normal",health:35,tag:{light:!0,biological:!0}},武装机器人:{name:"武装机器人",pinyin:"wzjqr",race:"N",value:1e3,type:"normal",health:15e3,tag:{armored:!0,mechanical:!0,heroic:!0}},赛兰迪丝:{name:"赛兰迪丝",pinyin:"slds",race:"N",value:1e3,type:"normal",health:800,shield:500,tag:{armored:!0,mechanical:!0,massive:!0,heroic:!0,air:!0}},"莎拉·凯瑞甘":{name:"莎拉·凯瑞甘",pinyin:"sl·krg",race:"N",value:50,type:"normal",health:1,tag:{biological:!0,psionic:!0,heroic:!0}},刀锋女王:{name:"刀锋女王",pinyin:"dfnw",race:"N",value:100,type:"normal",health:1,tag:{light:!0,biological:!0,psionic:!0,heroic:!0}},虚空构造体:{name:"虚空构造体",pinyin:"xkgzt",race:"N",value:3e3,type:"normal",health:2500,tag:{armored:!0,massive:!0,heroic:!0}},泽拉图:{name:"泽拉图",pinyin:"zlt",race:"P",value:1e3,type:"normal",health:400,shield:300,tag:{light:!0,biological:!0,psionic:!0,heroic:!0}},先知:{name:"先知",pinyin:"xz",race:"P",value:300,type:"normal",health:100,shield:60,tag:{armored:!0,mechanical:!0,psionic:!0,air:!0}},水晶塔:{name:"水晶塔",pinyin:"sjt",race:"P",value:0,type:"special structure",health:0,tag:{}},虚空水晶塔:{name:"虚空水晶塔",pinyin:"xksjt",race:"P",value:0,type:"special structure",health:0,tag:{}},追猎者:{name:"追猎者",pinyin:"zlz",race:"P",value:175,type:"normal",health:80,shield:80,tag:{armored:!0,mechanical:!0}},狂热者:{name:"狂热者",pinyin:"krz",race:"P",value:100,type:"normal",health:100,shield:50,tag:{light:!0,biological:!0}},使徒:{name:"使徒",pinyin:"st",race:"P",value:150,type:"normal",health:70,shield:70,tag:{light:!0,biological:!0}},龙骑士:{name:"龙骑士",pinyin:"lqs",race:"P",value:175,type:"normal",health:120,shield:80,tag:{armored:!0,mechanical:!0}},机械哨兵:{name:"机械哨兵",pinyin:"jxsb",race:"P",value:150,type:"normal",health:40,shield:40,tag:{light:!0,mechanical:!0,psionic:!0}},不朽者:{name:"不朽者",pinyin:"bxz",race:"P",value:375,type:"normal",health:200,shield:100,tag:{armored:!0,mechanical:!0}},高阶圣堂武士:{name:"高阶圣堂武士",pinyin:"gjstws",race:"P",value:200,type:"normal",health:40,shield:40,tag:{light:!0,biological:!0,psionic:!0}},折跃棱镜:{name:"折跃棱镜",pinyin:"zylj",race:"P",value:250,type:"normal",health:80,shield:100,tag:{armored:!0,mechanical:!0,psionic:!0,air:!0}},黑暗圣堂武士:{name:"黑暗圣堂武士",pinyin:"hastws",race:"P",value:250,type:"normal",health:40,shield:60,tag:{light:!0,biological:!0,psionic:!0}},掠夺者:{name:"掠夺者",pinyin:"ldz",race:"P",value:500,type:"normal",health:200,shield:150,tag:{armored:!0,mechanical:!0,massive:!0}},巨像:{name:"巨像",pinyin:"jx",race:"P",value:500,type:"normal",health:200,shield:150,tag:{armored:!0,mechanical:!0,massive:!0}},凯拉克斯:{name:"凯拉克斯",pinyin:"klks",race:"P",value:600,type:"normal",health:200,shield:200,tag:{biological:!0,heroic:!0}},虚空辉光舰:{name:"虚空辉光舰",pinyin:"xkhgj",race:"P",value:400,type:"normal",health:150,shield:100,tag:{armored:!0,mechanical:!0,air:!0}},执政官:{name:"执政官",pinyin:"zzg",race:"P",value:450,type:"normal",health:10,shield:350,tag:{psionic:!0,massive:!0}},航母:{name:"航母",pinyin:"hm",race:"P",value:600,type:"normal",health:300,shield:150,tag:{armored:!0,mechanical:!0,massive:!0,air:!0}},风暴战舰:{name:"风暴战舰",pinyin:"fbzj",race:"P",value:425,type:"normal",health:200,shield:100,tag:{armored:!0,mechanical:!0,massive:!0,air:!0}},侦察机:{name:"侦察机",pinyin:"zcj",race:"P",value:250,type:"normal",health:100,shield:60,tag:{armored:!0,mechanical:!0,air:!0}},尤尔兰:{name:"尤尔兰",pinyin:"yel",race:"P",value:400,type:"normal",health:150,shield:150,tag:{armored:!0,mechanical:!0,heroic:!0,air:!0}},莫汗达尔:{name:"莫汗达尔",pinyin:"mhde",race:"P",value:600,type:"normal",health:500,shield:300,tag:{armored:!0,mechanical:!0,heroic:!0,air:!0}},泰坦棱镜:{name:"泰坦棱镜",pinyin:"ttlj",race:"P",value:500,type:"normal",health:500,shield:500,tag:{armored:!0,mechanical:!0,psionic:!0,heroic:!0,air:!0}},"泰坦棱镜<已收起>":{name:"泰坦棱镜<已收起>",pinyin:"ttlj<ysq>",race:"P",value:500,type:"normal",health:500,shield:500,tag:{armored:!0,mechanical:!0,psionic:!0,heroic:!0,air:!0}},菲尼克斯:{name:"菲尼克斯",pinyin:"fnks",race:"P",value:1e3,type:"normal",health:300,shield:500,tag:{mechanical:!0,massive:!0,heroic:!0}},旋风狂热者:{name:"旋风狂热者",pinyin:"xfkrz",race:"P",value:100,type:"normal",health:100,shield:50,tag:{light:!0,biological:!0}},科罗拉里昂:{name:"科罗拉里昂",pinyin:"kllla",race:"P",value:1500,type:"normal",health:600,shield:300,tag:{armored:!0,mechanical:!0,massive:!0,heroic:!0,air:!0}},卡尔达利斯:{name:"卡尔达利斯",pinyin:"kedls",race:"P",value:800,type:"normal",health:400,shield:200,tag:{light:!0,mechanical:!0,heroic:!0}},仲裁者:{name:"仲裁者",pinyin:"zcz",race:"P",value:1e3,type:"normal",health:300,shield:500,tag:{armored:!0,mechanical:!0,heroic:!0,air:!0}},英雄不朽者:{name:"英雄不朽者",pinyin:"yxbxz",race:"P",value:900,type:"normal",health:300,shield:300,tag:{armored:!0,mechanical:!0,heroic:!0}},阿塔尼斯:{name:"阿塔尼斯",pinyin:"atns",race:"P",value:1e3,type:"normal",health:200,shield:300,tag:{biological:!0,psionic:!0,heroic:!0}},激励者:{name:"激励者",pinyin:"jlz",race:"P",value:150,type:"normal",health:40,shield:40,tag:{light:!0,mechanical:!0,psionic:!0}},"追猎者(精英)":{name:"追猎者(精英)",pinyin:"zlz(jy)",race:"P",value:350,type:"normal",health:150,shield:130,tag:{armored:!0,mechanical:!0}},"狂热者(精英)":{name:"狂热者(精英)",pinyin:"krz(jy)",race:"P",value:200,type:"normal",health:175,shield:80,tag:{light:!0,biological:!0}},"旋风狂热者(精英)":{name:"旋风狂热者(精英)",pinyin:"xfkrz(jy)",race:"P",value:200,type:"normal",health:175,shield:80,tag:{light:!0,biological:!0}},"使徒(精英)":{name:"使徒(精英)",pinyin:"st(jy)",race:"P",value:250,type:"normal",health:70,shield:70,tag:{light:!0,biological:!0}},"黑暗圣堂武士(精英)":{name:"黑暗圣堂武士(精英)",pinyin:"hastws(jy)",race:"P",value:375,type:"normal",health:80,shield:80,tag:{light:!0,biological:!0,psionic:!0}},"巨像(精英)":{name:"巨像(精英)",pinyin:"jx(jy)",race:"P",value:800,type:"normal",health:350,shield:250,tag:{armored:!0,mechanical:!0,massive:!0}},"虚空辉光舰(精英)":{name:"虚空辉光舰(精英)",pinyin:"xkhgj(jy)",race:"P",value:550,type:"normal",health:250,shield:150,tag:{armored:!0,mechanical:!0,air:!0}},"执政官(精英)":{name:"执政官(精英)",pinyin:"zzg(jy)",race:"P",value:650,type:"normal",health:10,shield:450,tag:{psionic:!0,massive:!0}},女妖:{name:"女妖",pinyin:"ny",race:"T",value:250,type:"normal",health:140,tag:{light:!0,mechanical:!0,air:!0}},诺娃:{name:"诺娃",pinyin:"nw",race:"T",value:400,type:"normal",health:300,tag:{biological:!0,psionic:!0}},火蝠:{name:"火蝠",pinyin:"hf",race:"T",value:125,type:"normal",health:100,tag:{armored:!0,biological:!0}},"火蝠(精英)":{name:"火蝠(精英)",pinyin:"hf(jy)",race:"T",value:300,type:"normal",health:275,tag:{armored:!0,biological:!0}},幽魂:{name:"幽魂",pinyin:"yh",race:"T",value:275,type:"normal",health:160,tag:{biological:!0,psionic:!0}},恶蝠游骑兵:{name:"恶蝠游骑兵",pinyin:"efyqb",race:"T",value:650,type:"normal",health:400,tag:{light:!0,biological:!0,mechanical:!0}},"劫掠者(皇家卫队)":{name:"劫掠者(皇家卫队)",pinyin:"jlz(hjwd)",race:"T",value:800,type:"normal",health:400,tag:{armored:!0,biological:!0,heroic:!0}},反应堆:{name:"反应堆",pinyin:"fyd",race:"T",value:0,type:"special structure",health:0,tag:{}},科技实验室:{name:"科技实验室",pinyin:"kjsys",race:"T",value:0,type:"special structure",health:0,tag:{}},高级科技实验室:{name:"高级科技实验室",pinyin:"gjkjsys",race:"T",value:0,type:"special structure",health:0,tag:{}},收割者:{name:"收割者",pinyin:"sgz",race:"T",value:100,type:"normal",health:60,tag:{light:!0,biological:!0}},恶蝠:{name:"恶蝠",pinyin:"ef",race:"T",value:100,type:"normal",health:135,tag:{light:!0,biological:!0,mechanical:!0}},恶火:{name:"恶火",pinyin:"eh",race:"T",value:100,type:"normal",health:90,tag:{light:!0,mechanical:!0}},陆战队员:{name:"陆战队员",pinyin:"lzdy",race:"T",value:50,type:"normal",health:45,speed:3.15,size:.1,tag:{light:!0,biological:!0},weapon:[{name:"C-14型电磁枪",damage:6,type:"direct",range:5,speed:.61,target:"GA"}],armor:{name:"人类步兵护甲",defense:0}},响尾蛇战车:{name:"响尾蛇战车",pinyin:"xwszc",race:"T",value:250,type:"normal",health:200,tag:{armored:!0,mechanical:!0}},医疗兵:{name:"医疗兵",pinyin:"ylb",race:"T",value:125,type:"normal",health:60,tag:{light:!0,biological:!0}},攻城坦克:{name:"攻城坦克",pinyin:"gctk",race:"T",value:275,type:"normal",health:175,tag:{armored:!0,mechanical:!0}},歌利亚:{name:"歌利亚",pinyin:"gly",race:"T",value:200,type:"normal",health:150,tag:{armored:!0,mechanical:!0}},寡妇雷:{name:"寡妇雷",pinyin:"gfl",race:"T",value:100,type:"normal",health:90,tag:{light:!0,mechanical:!0}},劫掠者:{name:"劫掠者",pinyin:"jlz",race:"T",value:125,type:"normal",health:125,tag:{armored:!0,biological:!0}},医疗运输机:{name:"医疗运输机",pinyin:"ylysj",race:"T",value:200,type:"normal",health:150,tag:{armored:!0,mechanical:!0,air:!0}},秃鹫:{name:"秃鹫",pinyin:"tj",race:"T",value:75,type:"normal",health:75,tag:{light:!0,mechanical:!0}},飓风:{name:"飓风",pinyin:"jf",race:"T",value:250,type:"normal",health:120,tag:{armored:!0,mechanical:!0}},铁鸦:{name:"铁鸦",pinyin:"ty",race:"T",value:300,type:"normal",health:140,tag:{light:!0,mechanical:!0,air:!0}},战狼:{name:"战狼",pinyin:"zl",race:"T",value:300,type:"normal",health:280,tag:{armored:!0,mechanical:!0}},维京战机:{name:"维京战机",pinyin:"wjzj",race:"T",value:225,type:"normal",health:135,tag:{armored:!0,mechanical:!0,air:!0}},"维京战机<机甲>":{name:"维京战机<机甲>",pinyin:"wjzj<jj>",race:"T",value:225,type:"normal",health:135,tag:{armored:!0,mechanical:!0}},解放者:{name:"解放者",pinyin:"jfz",race:"T",value:300,type:"normal",health:180,tag:{armored:!0,mechanical:!0,air:!0}},斯台特曼:{name:"斯台特曼",pinyin:"sttm",race:"T",value:200,type:"normal",health:150,tag:{light:!0,biological:!0,heroic:!0}},思旺:{name:"思旺",pinyin:"sw",race:"T",value:200,type:"normal",health:200,tag:{armored:!0,biological:!0,heroic:!0}},热辣贝蒂:{name:"热辣贝蒂",pinyin:"rlbd",race:"T",value:500,type:"normal",health:750,tag:{armored:!0,mechanical:!0,structure:!0}},怨灵战机:{name:"怨灵战机",pinyin:"ylzj",race:"T",value:250,type:"normal",health:180,tag:{armored:!0,mechanical:!0,air:!0}},黄昏之翼:{name:"黄昏之翼",pinyin:"hhzy",race:"T",value:275,type:"normal",health:155,tag:{light:!0,mechanical:!0,air:!0}},泰凯斯:{name:"泰凯斯",pinyin:"tks",race:"T",value:500,type:"normal",health:240,tag:{light:!0,biological:!0,heroic:!0}},牛头人陆战队员:{name:"牛头人陆战队员",pinyin:"ntrlzdy",race:"T",value:550,type:"normal",health:350,tag:{light:!0,biological:!0}},鱼人陆战队员:{name:"鱼人陆战队员",pinyin:"yrlzdy",race:"T",value:75,type:"normal",health:70,tag:{light:!0,biological:!0}},雷神:{name:"雷神",pinyin:"ls",race:"T",value:500,type:"normal",health:400,tag:{armored:!0,mechanical:!0,massive:!0}},"雷诺(指挥官)":{name:"雷诺(指挥官)",pinyin:"ln(zhg)",race:"T",value:800,type:"normal",health:350,tag:{light:!0,biological:!0,heroic:!0}},"雷诺(狙击手)":{name:"雷诺(狙击手)",pinyin:"ln(jjs)",race:"T",value:650,type:"normal",health:175,tag:{light:!0,biological:!0,heroic:!0}},沃菲尔德将军:{name:"沃菲尔德将军",pinyin:"wfedjj",race:"T",value:0,type:"normal",health:200,tag:{light:!0,biological:!0,heroic:!0}},帝盾卫兵:{name:"帝盾卫兵",pinyin:"ddwb",race:"T",value:250,type:"normal",health:200,tag:{armored:!0,biological:!0}},战列巡航舰:{name:"战列巡航舰",pinyin:"zlxhj",race:"T",value:700,type:"normal",health:550,tag:{armored:!0,mechanical:!0,massive:!0,air:!0}},牛头人兵营:{name:"牛头人兵营",pinyin:"ntrby",race:"T",value:0,type:"normal",health:1e3,tag:{armored:!0,mechanical:!0,structure:!0}},易爆感染体:{name:"易爆感染体",pinyin:"ybgrt",race:"Z",value:100,type:"normal",health:75,tag:{light:!0,biological:!0}},"陆战队员(精英)":{name:"陆战队员(精英)",pinyin:"lzdy(jy)",race:"T",value:125,type:"normal",health:90,tag:{light:!0,biological:!0}},"劫掠者(精英)":{name:"劫掠者(精英)",pinyin:"jlz(jy)",race:"T",value:250,type:"normal",health:250,tag:{armored:!0,biological:!0}},"歌利亚(精英)":{name:"歌利亚(精英)",pinyin:"gly(jy)",race:"T",value:300,type:"normal",health:200,tag:{armored:!0,mechanical:!0}},"战狼(精英)":{name:"战狼(精英)",pinyin:"zl(jy)",race:"T",value:450,type:"normal",health:400,tag:{armored:!0,mechanical:!0}},"维京战机(精英)":{name:"维京战机(精英)",pinyin:"wjzj(jy)",race:"T",value:225,type:"normal",health:180,tag:{armored:!0,mechanical:!0,air:!0}},"维京战机<机甲>(精英)":{name:"维京战机<机甲>(精英)",pinyin:"wjzj<jj>jy)",race:"T",value:225,type:"normal",health:180,tag:{armored:!0,mechanical:!0}},"攻城坦克(精英)":{name:"攻城坦克(精英)",pinyin:"gctk(jy)",race:"T",value:625,type:"normal",health:225,tag:{armored:!0,mechanical:!0}},幼雷兽:{name:"幼雷兽",pinyin:"yls",race:"Z",value:180,type:"normal",health:200,tag:{armored:!0,biological:!0}},被感染的女妖:{name:"被感染的女妖",pinyin:"bgrdny",race:"Z",value:200,type:"normal",health:140,tag:{light:!0,biological:!0,air:!0}},末日巨兽:{name:"末日巨兽",pinyin:"mrjs",race:"Z",value:3e3,type:"normal",health:3500,tag:{armored:!0,biological:!0,mechanical:!0,massive:!0,heroic:!0}},跳虫:{name:"跳虫",pinyin:"tc",race:"Z",value:25,type:"normal",health:35,tag:{light:!0,biological:!0}},爆虫:{name:"爆虫",pinyin:"bc",race:"Z",value:65,type:"normal",health:30,tag:{biological:!0}},蟑螂:{name:"蟑螂",pinyin:"zl",race:"Z",value:100,type:"normal",health:145,tag:{armored:!0,biological:!0}},破坏者:{name:"破坏者",pinyin:"phz",race:"Z",value:200,type:"normal",health:120,tag:{biological:!0}},刺蛇:{name:"刺蛇",pinyin:"cs",race:"Z",value:150,type:"normal",health:90,tag:{light:!0,biological:!0}},被感染的陆战队员:{name:"被感染的陆战队员",pinyin:"bgrdlzdy",race:"Z",value:100,type:"normal",health:75,tag:{light:!0,biological:!0}},异龙:{name:"异龙",pinyin:"yl",race:"Z",value:150,type:"normal",health:120,tag:{light:!0,biological:!0,air:!0}},雷兽:{name:"雷兽",pinyin:"ls",race:"Z",value:500,type:"normal",health:500,tag:{armored:!0,biological:!0,massive:!0}},虫后:{name:"虫后",pinyin:"ch",race:"Z",value:150,type:"normal",health:175,tag:{biological:!0,psionic:!0}},菌毯肿瘤:{name:"菌毯肿瘤",pinyin:"jtzl",race:"Z",value:0,type:"normal",health:50,tag:{light:!0,biological:!0,structure:!0}},守卫:{name:"守卫",pinyin:"sw",race:"Z",value:200,type:"normal",health:150,tag:{armored:!0,biological:!0,air:!0}},潜伏者:{name:"潜伏者",pinyin:"qfz",race:"Z",value:300,type:"normal",health:200,tag:{armored:!0,biological:!0}},感染者:{name:"感染者",pinyin:"grz",race:"Z",value:250,type:"normal",health:90,tag:{armored:!0,biological:!0,psionic:!0}},畸变体:{name:"畸变体",pinyin:"jbt",race:"Z",value:400,type:"normal",health:400,tag:{armored:!0,biological:!0,massive:!0}},腐化者:{name:"腐化者",pinyin:"fhz",race:"Z",value:250,type:"normal",health:200,tag:{armored:!0,biological:!0,air:!0}},巢虫领主:{name:"巢虫领主",pinyin:"cclz",race:"Z",value:500,type:"normal",health:225,tag:{armored:!0,biological:!0,massive:!0,air:!0}},飞蛇:{name:"飞蛇",pinyin:"fs",race:"Z",value:400,type:"normal",health:150,tag:{armored:!0,biological:!0,psionic:!0,air:!0}},爆蚊:{name:"爆蚊",pinyin:"bw",race:"Z",value:37,type:"normal",health:25,tag:{light:!0,biological:!0,air:!0}},莽兽:{name:"莽兽",pinyin:"ms",race:"Z",value:1e3,type:"normal",health:1200,tag:{armored:!0,biological:!0,massive:!0,heroic:!0}},利维坦:{name:"利维坦",pinyin:"lwt",race:"Z",value:2e3,type:"normal",health:1500,tag:{biological:!0,massive:!0,heroic:!0,air:!0}},扎加拉:{name:"扎加拉",pinyin:"zjl",race:"Z",value:400,type:"normal",health:500,tag:{light:!0,biological:!0,psionic:!0,heroic:!0}},斯托科夫:{name:"斯托科夫",pinyin:"stkf",race:"Z",value:500,type:"normal",health:500,tag:{armored:!0,biological:!0,heroic:!0}},"跳虫(精英)":{name:"跳虫(精英)",pinyin:"tc(jy)",race:"Z",value:75,type:"normal",health:120,tag:{light:!0,biological:!0}},"爆虫(精英)":{name:"爆虫(精英)",pinyin:"bc(jy)",race:"Z",value:150,type:"normal",health:75,tag:{biological:!0}},"蟑螂(精英)":{name:"蟑螂(精英)",pinyin:"zl(jy)",race:"Z",value:200,type:"normal",health:250,tag:{armored:!0,biological:!0}},"破坏者(精英)":{name:"破坏者(精英)",pinyin:"phz(jy)",race:"Z",value:400,type:"normal",health:220,tag:{biological:!0}},"刺蛇(精英)":{name:"刺蛇(精英)",pinyin:"cs(jy)",race:"Z",value:275,type:"normal",health:160,tag:{light:!0,biological:!0}},"异龙(精英)":{name:"异龙(精英)",pinyin:"yl(jy)",race:"Z",value:300,type:"normal",health:180,tag:{light:!0,biological:!0,air:!0}},"雷兽(精英)":{name:"雷兽(精英)",pinyin:"ls(jy)",race:"Z",value:700,type:"normal",health:600,tag:{armored:!0,biological:!0,massive:!0}},母舰核心:{name:"母舰核心",pinyin:"mjhx",race:"P",value:0,type:"normal",health:130,shield:60,tag:{armored:!0,mechanical:!0,psionic:!0,heroic:!0,air:!0}},母舰:{name:"母舰",pinyin:"mj",race:"P",value:800,type:"normal",health:350,shield:350,tag:{armored:!0,mechanical:!0,psionic:!0,massive:!0,heroic:!0,air:!0}},毒气炮塔:{name:"毒气炮塔",pinyin:"dqpt",race:"N",value:500,type:"normal",health:250,tag:{armored:!0,mechanical:!0,structure:!0}},凯达琳巨石:{name:"凯达琳巨石",pinyin:"kdljs",race:"P",value:400,type:"normal",health:200,shield:100,tag:{armored:!0,structure:!0}},岗哨机枪:{name:"岗哨机枪",pinyin:"gsjq",race:"N",value:100,type:"normal",health:125,tag:{armored:!0,structure:!0}},行星要塞:{name:"行星要塞",pinyin:"xxys",race:"N",value:1200,type:"normal",health:1500,tag:{armored:!0,mechanical:!0,structure:!0,heroic:!0}},星门:{name:"星门",pinyin:"xm",race:"P",value:0,type:"normal",health:0,tag:{}},作战指挥中心:{name:"作战指挥中心",pinyin:"zzzhzx",race:"T",value:1500,type:"normal",health:1500,tag:{armored:!0,mechanical:!0,structure:!0,heroic:!0}},风暴对地导弹塔:{name:"风暴对地导弹塔",pinyin:"fbddddt",race:"T",value:75,type:"normal",health:150,tag:{armored:!0,mechanical:!0,structure:!0}},粒子光炮:{name:"粒子光炮",pinyin:"lzgp",race:"N",value:2e3,type:"normal",health:1e3,shield:500,tag:{armored:!0,structure:!0,heroic:!0}},奥丁:{name:"奥丁",pinyin:"ad",race:"T",value:2e3,type:"normal",health:3200,tag:{armored:!0,mechanical:!0,massive:!0,heroic:!0}},休伯利安号:{name:"休伯利安号",pinyin:"xblah",race:"T",value:9e3,type:"normal",health:6e3,tag:{armored:!0,mechanical:!0,heroic:!0,air:!0}},"维京战机(皇家卫队)":{name:"维京战机(皇家卫队)",pinyin:"wjzj(hjwd)",race:"T",value:800,type:"normal",health:800,tag:{armored:!0,mechanical:!0,heroic:!0,air:!0}},"维京战机<机甲>(皇家卫队)":{name:"维京战机<机甲>(皇家卫队)",pinyin:"wjzj<jj>hjwd)",race:"T",value:800,type:"normal",health:800,tag:{armored:!0,mechanical:!0,heroic:!0}},"攻城坦克(皇家卫队)":{name:"攻城坦克(皇家卫队)",pinyin:"gctk(hjwd)",race:"T",value:1e3,type:"normal",health:600,tag:{armored:!0,mechanical:!0,heroic:!0}},"雷神(皇家卫队)":{name:"雷神(皇家卫队)",pinyin:"ls(hjwd)",race:"T",value:1500,type:"normal",health:1200,tag:{armored:!0,mechanical:!0,massive:!0,heroic:!0}},"战列巡航舰(皇家卫队)":{name:"战列巡航舰(皇家卫队)",pinyin:"zlxhj(hjwd)",race:"T",value:1700,type:"normal",health:1600,tag:{armored:!0,mechanical:!0,massive:!0,heroic:!0,air:!0}},混合体掠夺者:{name:"混合体掠夺者",pinyin:"hhtldz",race:"N",value:250,type:"normal",health:250,tag:{armored:!0,biological:!0,heroic:!0}},混合体天罚者:{name:"混合体天罚者",pinyin:"hhttfz",race:"N",value:300,type:"normal",health:150,shield:100,tag:{armored:!0,biological:!0,heroic:!0,air:!0}},混合体支配者:{name:"混合体支配者",pinyin:"hhtzpz",race:"N",value:1400,type:"normal",health:1e3,shield:100,tag:{armored:!0,biological:!0,psionic:!0,massive:!0,heroic:!0}},混合体实验体:{name:"混合体实验体",pinyin:"hhtsyt",race:"N",value:1600,type:"normal",health:1e3,shield:300,tag:{armored:!0,biological:!0,massive:!0,heroic:!0}},原始穿刺者:{name:"原始穿刺者",pinyin:"ysccz",race:"Z",value:300,type:"normal",health:200,tag:{armored:!0,biological:!0}},原始守卫:{name:"原始守卫",pinyin:"yssw",race:"Z",value:350,type:"normal",health:350,tag:{armored:!0,biological:!0,air:!0}},毒裂兽:{name:"毒裂兽",pinyin:"dls",race:"Z",value:300,type:"normal",health:250,tag:{armored:!0,biological:!0}},王兽:{name:"王兽",pinyin:"ws",race:"Z",value:2500,type:"normal",health:2400,tag:{armored:!0,biological:!0,massive:!0,heroic:!0}},赫克:{name:"赫克",pinyin:"hk",race:"T",value:150,type:"normal",health:200,tag:{armored:!0,biological:!0}},探机:{name:"探机",pinyin:"tj",race:"P",value:50,type:"normal",health:20,shield:20,tag:{light:!0,mechanical:!0}},SCV:{name:"SCV",pinyin:"scv",race:"T",value:50,type:"normal",health:45,tag:{light:!0,biological:!0,mechanical:!0}},光子炮台:{name:"光子炮台",pinyin:"gzpt",race:"P",value:150,type:"normal",health:150,shield:150,tag:{armored:!0,structure:!0}},工蜂:{name:"工蜂",pinyin:"gf",race:"Z",value:50,type:"normal",health:40,tag:{light:!0,biological:!0}},脊针爬虫:{name:"脊针爬虫",pinyin:"jzpc",race:"Z",value:150,type:"normal",health:300,tag:{armored:!0,biological:!0,structure:!0}},掠食者:{name:"掠食者",pinyin:"lsz",race:"T",value:120,type:"normal",health:135,tag:{light:!0,mechanical:!0}},幽灵:{name:"幽灵",pinyin:"yl",race:"N",value:50,type:"normal",health:100,tag:{light:!0,psionic:!0}},"幽灵<埃蒙>":{name:"幽灵<埃蒙>",pinyin:"yl",race:"N",value:275,type:"normal",health:100,tag:{light:!0,psionic:!0}},后虫:{name:"后虫",pinyin:"hc",race:"Z",value:400,type:"normal",health:120,tag:{biological:!0,air:!0}},蝎虫:{name:"蝎虫",pinyin:"xc",race:"Z",value:600,type:"normal",health:80,tag:{biological:!0,psionic:!0}},科学船:{name:"科学船",pinyin:"kxq",race:"T",value:0,type:"normal",health:200,tag:{light:!0,mechanical:!0,air:!0}},海盗船:{name:"海盗船",pinyin:"hdc",race:"P",value:250,type:"normal",health:120,shield:60,tag:{light:!0,mechanical:!0,air:!0}},"怨灵战机(精英)":{name:"怨灵战机(精英)",pinyin:"ylzj(jy)",race:"T",value:350,type:"normal",health:225,tag:{armored:!0,mechanical:!0,air:!0}},"战列巡航舰(精英)":{name:"战列巡航舰(精英)",pinyin:"zlxhj(jy)",race:"T",value:1200,type:"normal",health:700,tag:{armored:!0,mechanical:!0,massive:!0,air:!0}},"侦察机(精英)":{name:"侦察机(精英)",pinyin:"zcj(jy)",race:"P",value:400,type:"normal",health:250,shield:100,tag:{armored:!0,mechanical:!0,air:!0}},"风暴战舰(精英)":{name:"风暴战舰(精英)",pinyin:"fbzj(jy)",race:"P",value:600,type:"normal",health:300,shield:150,tag:{armored:!0,mechanical:!0,massive:!0,air:!0}},"守卫(精英)":{name:"守卫(精英)",pinyin:"sw(jy)",race:"Z",value:350,type:"normal",health:250,tag:{armored:!0,biological:!0,air:!0}}},_t=["白板","执政官","狂热者","陆战队员","收割者","幽灵","感染虫","SCV","阿巴瑟","工蜂","王虫","蟑螂","副官","追猎者","使徒","矿骡","斯台特曼","雷诺","阿塔尼斯","科学球","母舰核心","行星要塞","拟态虫","探机","泰凯斯","诺娃","思旺","跳虫","蒙斯克","雷神","机械哨兵","异龙","医疗兵","分裂池","响尾蛇","混合体","德哈卡","星港","进化腔","锻炉","扎加拉","大力神","凯瑞甘","凯瑞甘(异虫形态)","米拉","先知","阿尔达瑞斯","斯托科夫","解放者","解放者(防卫模式)","干扰者"],ce={白板:{name:"白板",pinyin:"bb",ability:"魂姿",desc:"我乃江东小白板孙笨! 孙家天下孙家兵, 成就54320!"},执政官:{name:"执政官",pinyin:"zzg",ability:"融合完成",desc:"每回合, 选择一张卡牌, 让它与右侧卡牌合成为一张卡牌, 两张卡牌必须非金色且为不同种族. 合并会保留两张卡牌的单位, 描述, 升级并变为金色卡牌."},狂热者:{name:"狂热者",pinyin:"krz",ability:"冲锋",desc:"你的所有单位在战斗时获得星空提速"},陆战队员:{name:"陆战队员",pinyin:"lzdy",ability:"50块钱好兄弟",desc:"每回合, 花费2晶体矿发现一张低于酒馆等级1级的卡牌, 最低为1星卡牌"},收割者:{name:"收割者",pinyin:"sgz",ability:"精准落地",desc:"你进场的所有卡牌都将定点部署, 而购买自带定点部署的卡牌只需要2晶体矿"},幽灵:{name:"幽灵",pinyin:"yl",ability:"幽灵行动",desc:`可以切换为任意一种模式
1隐身: 战斗阶段, 你的所有单位获得暗影战士升级
2超级EMP: 战斗阶段, 你和敌方所有单位失去所有升级`},感染虫:{name:"感染虫",pinyin:"grc",ability:"同化完成",desc:"每回合, 感染选中的人族卡牌. 该卡牌描述变为'无法三连, 每回合结束时注卵随机一个单位'"},SCV:{name:"SCV",pinyin:"S",ability:"快速施工",desc:"每回合, 修改选中人族卡牌的挂件类型"},阿巴瑟:{name:"阿巴瑟",pinyin:"abs",ability:"突变",desc:"每回合, 花费2晶体矿, 摧毁选择的卡牌, 发现一张高一星的卡牌"},工蜂:{name:"工蜂",pinyin:"gf",ability:"采集萃取",desc:"技术会和开始额外获得1点瓦斯, 偶数回合开始额外获得1晶体矿"},王虫:{name:"王虫",pinyin:"wc",ability:"长程监视",desc:"你出售的单位会被添加到下一场战斗中, 并且出售的第一张卡牌兵力增加50%"},蟑螂:{name:"蟑螂",pinyin:"zl",ability:"断智",desc:"启用技能后对战时, 单位生命值增加40%但无法操作(自动模式时增加30%)"},副官:{name:"副官",pinyin:"fg",ability:"预备方案",desc:"你每回合的第一次刷新免费, 且本回合只要剩余晶体矿, 下回合获得1晶体矿"},追猎者:{name:"追猎者",pinyin:"zlz",ability:"闪现",desc:"每回合第一次购买卡牌刷新酒馆, 1回合内刷新5次后升级次技能, 购买每张卡牌后刷新酒馆"},使徒:{name:"使徒",pinyin:"st",ability:"白衣渡江",desc:"每回合购买的第三张卡牌费用为1(三连不计入其中)"},矿骡:{name:"矿骡",pinyin:"kl",ability:"矿骡雨",desc:"使用技能重新补满晶体矿但下回合晶体矿将只有2点, 该技能无法连续使用"},斯台特曼:{name:"斯台特曼",pinyin:"sttm",ability:"疯子科学家",desc:"任意卡牌进场都将发现随机三个升级中的一个, 但每回合不再会获得瓦斯, 而是升级酒馆等级获得1瓦斯"},雷诺:{name:"雷诺",pinyin:"ln",ability:"我也是雷诺",desc:"使一张6星以下普通卡牌变为金色获得三连后的特效, 同时获得金光闪闪升级, 整局游戏只能使用一次"},阿塔尼斯:{name:"阿塔尼斯",pinyin:"atns",ability:"集结部队",desc:"本局游戏中你的第9张神族卡牌进场后, 让阿塔尼斯与该卡牌合成"},科学球:{name:"科学球",pinyin:"kxq",ability:"科学观察",desc:`任意卡牌进场时, 记录其中价值最高的单位
每回合, 花费1瓦斯, 进场观察样本卡牌, 其中包含你所记录的所有单位. 每局游戏限两次`},母舰核心:{name:"母舰核心",pinyin:"mjhx",ability:"审判从天而降",desc:"第一回合自动花费3晶体矿获得卡牌母舰核心, 玩家进行两次三连后, 母舰核心将变为母舰, 每次三连时, 该卡牌获得数量等于你酒馆等级的虚空辉光舰"},行星要塞:{name:"行星要塞",pinyin:"xxys",ability:"城市化",desc:`每回合花费3晶体矿, 发现一张建筑卡
所有建筑卡初始拥有的自动机炮数量等于当前酒馆等级+1`},拟态虫:{name:"拟态虫",pinyin:"ntc",ability:"完全拟态",desc:`每回合, 花费2晶体矿为选中的卡牌添加单位, 从卡池中随机挑选一张当前酒馆等级的卡牌, 将其初始单位添加到选中卡牌
无法连续为同一位置的卡牌添加`},探机:{name:"探机",pinyin:"tj",ability:"野水晶",desc:`每回合, 花费1晶体矿将选中卡牌的1水晶塔变为虚空水晶塔
任意卡牌进场时, 获得1水晶塔`},泰凯斯:{name:"泰凯斯",pinyin:"tks",ability:"幕后交易",desc:"第一回合将自动花费3晶体矿获得卡牌不法之徒, 此卡牌会持续获得任务, 可以获得奥丁等奖励"},诺娃:{name:"诺娃",pinyin:"nw",ability:"先进装备",desc:"每回合, 发现一张辅助卡, 若暂存区已满则无法获得"},思旺:{name:"思旺",pinyin:"sw",ability:"回收",desc:`移除选中卡牌上的所有机械单位, 每移除一个, 卡牌机械工厂获得1零件
场上没有工厂时, 自动尝试在空位上创建机械工厂`},跳虫:{name:"跳虫",pinyin:"tc",ability:"同卵双狗",desc:`你的虫卵牌无法破卵孵化, 但拥有其他效果
当你的酒馆等级达到4级时, 注卵会尝试创建第二个虫卵牌`},蒙斯克:{name:"蒙斯克",pinyin:"msk",ability:"皇家卫队",desc:`花费9晶体矿, 将每张卡牌的1单位变为皇家单位
可以变为皇家的单位优先级:
战列巡航舰->雷神->攻城坦克->维京战机
每回合开始时, 降低3点技能费用, 使用后重置费用`},雷神:{name:"雷神",pinyin:"ls",ability:"切换模式",desc:`每级酒馆限一次: 为一张6星以下的卡牌选择新的描述, 并尝试令其触发进场特效
(新描述必须是同星级, 同种族卡牌的描述, 且不包含拓展包卡牌; 卡牌三连后描述还原)`},机械哨兵:{name:"机械哨兵",pinyin:"jxsb",ability:"幻象",desc:"每回合, 花费4晶体矿, 复制一张选中的低于5星的卡牌到暂存区, 最多使用3次"},异龙:{name:"异龙",pinyin:"yl",ability:"组织再生",desc:"花费2晶体矿发现一张小于等于当前酒馆等级的虫族卡牌, 每级酒馆只能只用一次"},医疗兵:{name:"医疗兵",pinyin:"ylb",ability:"战场急救",desc:`每回合, 摧毁选中的一张卡牌, 获得1晶体矿并将其中的生物单位平均分配给其他卡牌
单位不包括英雄单位; 获得单位的卡牌不包括虫卵牌`},分裂池:{name:"分裂池",pinyin:"flc",ability:"强制分裂",desc:`孵化效果能作用于非虫族卡牌
每回合, 尝试令选中卡牌立即触发孵化效果`},响尾蛇:{name:"响尾蛇",pinyin:"xws",ability:"挖宝奇兵",desc:`刷新3次发现一张当前酒馆等级的卡牌, 每级酒馆只能会用一次
6星以下能4选1, 6星只能3选1`},混合体:{name:"混合体",pinyin:"hht",ability:"究极生物",desc:`每回合结束时, 你每拥有两张星级相同, 种族分别为神族和虫族的卡牌时, 其中一张卡获得1对应星级的混合体
各星级对应的混合体: (1)混合体掠夺者 (2)混合体天罚者 (3)混合体毁灭者 (4)混合体巨兽 (5)混合体支配者 (6)混合体实验体`},德哈卡:{name:"德哈卡",pinyin:"dhk",ability:"精华采集者",desc:`选择非原始虫群卡牌时, 花费6精华, 将其变为原始刺蛇
选择原始虫群卡牌时, 花费1精华, 为选择的卡牌进化1原始单位
每回合开始时, 获得等于你瓦斯数量的精华`},星港:{name:"星港",pinyin:"xg",ability:"绝对制空权",desc:`每回合开始时, 每张卡牌将n个地面单位变为怨灵战机(n=酒馆等级-1), 其中英雄单位变为战列巡航舰
每回合结束时, 每张卡牌将1怨灵战机变为卡牌内价值最高的非英雄空中单位`},进化腔:{name:"进化腔",pinyin:"jhq",ability:"升级方案",desc:`回合开始时, 发现一种突变
突变(xA->xB): 每张虫族卡牌将x个单位A变为单位B`},锻炉:{name:"锻炉",pinyin:"dl",ability:"升级攻防",desc:`每有1点数, 所有地面单位获得1%伤害和生命值加成
每出售一张非虫卵牌, 获得2点数
(点数不超过50)`},扎加拉:{name:"扎加拉",pinyin:"zjl",ability:"生生不息",desc:"每回合开始时, 若你拥有至少6张卡牌, 尝试摧毁价值最高和最低的卡牌. 如果摧毁成功, 则获得11晶体矿"},大力神:{name:"大力神",pinyin:"dls",ability:"快速部署",desc:`1. 游戏开始时, 挑选一张3星和5星的卡牌, 当酒馆等级提升到对应星级, 获得挑选的卡牌, 你的酒馆在升级3星和5星时升级费用+1.
2. 每回合, 将选中卡牌与指定卡牌或空位交换位置.`},凯瑞甘:{name:"凯瑞甘",pinyin:"krg",ability:"蓄势待发",desc:`升级酒馆后本回合内第一次刷新免费
一回合内购买5张卡牌后变为异虫形态`},"凯瑞甘(异虫形态)":{name:"凯瑞甘(异虫形态)",pinyin:"krg(ycxt)",ability:"赶尽杀绝",desc:`变身时瓦斯以及上限变为0, 同时每张卡牌获得自身的初始单位
任意卡牌进场时, 发现一个三连升级`,ext:!0},米拉:{name:"米拉",pinyin:"ml",ability:"我全都要",desc:"进场的卡牌星级大于上一张进场卡牌时, 获得1晶体矿"},先知:{name:"先知",pinyin:"xz",ability:"窥探命运",desc:`为选中卡牌发现1个三连升级, 每局游戏只能使用一次
每回合第一次放弃升级时返回全部瓦斯, 你的卡牌升级上限+1`},阿尔达瑞斯:{name:"阿尔达瑞斯",pinyin:"aedrs",ability:"静滞立场",desc:"当卡牌被锁定时, 下回合该卡牌的价格降为2晶体矿"},斯托科夫:{name:"斯托科夫",pinyin:"stkf",ability:"神经感染",desc:`每回合, 花费0生命值刷新酒馆, 刷新出的卡牌都是当前酒馆等级的卡牌
每升级一次酒馆, 技能消耗增加3点`},解放者:{name:"解放者",pinyin:"jfz",ability:"战机模式",desc:`每回合, 奇数次刷新不耗费晶体矿, 但是购买卡牌需要4晶体矿
使用技能, 变形为防卫模式, 每回合只能变形一次`},"解放者(防卫模式)":{name:"解放者(防卫模式)",pinyin:"jfz(fwms)",ability:"防卫模式",desc:`商店无法刷新和补充卡牌, 但是购买卡牌只需要2晶体矿
使用技能, 变形为战机模式, 每回合只能变形一次`,ext:!0},干扰者:{name:"干扰者",pinyin:"grz",ability:"净化新星",desc:`战斗开始时, 暂存区的卡牌也会加入战斗
每回合开始时, 若暂存区有X张非辅助卡卡牌, 酒馆等级升级费用额外降低X-2(最低为0)`}},ne=["反甲","力大砖飞","金光闪闪","狙击镜","重构之壳","黄金矿工","修理无人机","内在潜力","阳光滋润","吸血","顽强生命力","毒质变","电磁加速器","灼热打击","重力炸弹","刚毅护盾","缩小光束","原始尖塔","原始甲壳","原始尖刺","折跃援军","星空加速","聚能器","虚空水晶","护盾充能","献祭","轨道空降","暗影战士","完美冻结","搜寻样本","灵能感应","能量迸发","精神控制","潜能超载","生物突变","鲜血狂热","强化药剂","合金护甲","火力压制","玻璃大炮","重型装甲","虚空能量","吞噬","狂暴","深槽脊刺","几丁质甲壳","硬化外壳"],Z={反甲:{name:"反甲",pinyin:"fj",override:!0,category:"combine"},力大砖飞:{name:"力大砖飞",pinyin:"ldzf",override:!1,category:"combine"},金光闪闪:{name:"金光闪闪",pinyin:"jgss",override:!0,category:"combine"},狙击镜:{name:"狙击镜",pinyin:"jjj",override:!1,category:"combine"},重构之壳:{name:"重构之壳",pinyin:"zgzk",override:!1,category:"combine"},黄金矿工:{name:"黄金矿工",pinyin:"hjkg",override:!1,category:"public"},修理无人机:{name:"修理无人机",pinyin:"xlwrj",override:!0,category:"public"},内在潜力:{name:"内在潜力",pinyin:"nzql",override:!0,category:"public"},阳光滋润:{name:"阳光滋润",pinyin:"ygzr",override:!0,category:"public"},吸血:{name:"吸血",pinyin:"xx",override:!0,category:"public"},顽强生命力:{name:"顽强生命力",pinyin:"wqsml",override:!0,category:"public"},毒质变:{name:"毒质变",pinyin:"dzb",override:!1,category:"public"},电磁加速器:{name:"电磁加速器",pinyin:"dcjsq",override:!0,category:"public"},灼热打击:{name:"灼热打击",pinyin:"zrdj",override:!0,category:"public"},重力炸弹:{name:"重力炸弹",pinyin:"zlzd",override:!1,category:"public"},刚毅护盾:{name:"刚毅护盾",pinyin:"gyhd",override:!1,category:"public"},缩小光束:{name:"缩小光束",pinyin:"sxgs",override:!0,category:"public"},原始尖塔:{name:"原始尖塔",pinyin:"ysjt",override:!0,category:"primal"},原始甲壳:{name:"原始甲壳",pinyin:"ysjq",override:!0,category:"primal"},原始尖刺:{name:"原始尖刺",pinyin:"ysjc",override:!0,category:"primal"},折跃援军:{name:"折跃援军",pinyin:"zyyj",override:!0,category:"protoss"},星空加速:{name:"星空加速",pinyin:"xkjs",override:!1,category:"protoss"},聚能器:{name:"聚能器",pinyin:"jnq",override:!0,category:"protoss"},虚空水晶:{name:"虚空水晶",pinyin:"xksj",override:!0,category:"protoss"},护盾充能:{name:"护盾充能",pinyin:"hdcn",override:!1,category:"protoss"},献祭:{name:"献祭",pinyin:"xj",override:!1,category:"special"},轨道空降:{name:"轨道空降",pinyin:"gdkj",override:!1,category:"special"},暗影战士:{name:"暗影战士",pinyin:"ayzs",override:!1,category:"special"},完美冻结:{name:"完美冻结",pinyin:"wmdj",override:!0,category:"special"},搜寻样本:{name:"搜寻样本",pinyin:"sxyb",override:!0,category:"special"},灵能感应:{name:"灵能感应",pinyin:"lngy",override:!0,category:"special"},能量迸发:{name:"能量迸发",pinyin:"nlbf",override:!0,category:"special"},精神控制:{name:"精神控制",pinyin:"jskz",override:!0,category:"special"},潜能超载:{name:"潜能超载",pinyin:"qncz",override:!0,category:"special"},生物突变:{name:"生物突变",pinyin:"swtb",override:!0,category:"special"},鲜血狂热:{name:"鲜血狂热",pinyin:"xxkr",override:!0,category:"special"},强化药剂:{name:"强化药剂",pinyin:"qhyj",override:!0,category:"terran"},合金护甲:{name:"合金护甲",pinyin:"hjhj",override:!0,category:"terran"},火力压制:{name:"火力压制",pinyin:"hlyz",override:!0,category:"terran"},玻璃大炮:{name:"玻璃大炮",pinyin:"bldp",override:!0,category:"terran"},重型装甲:{name:"重型装甲",pinyin:"zxzj",override:!0,category:"terran"},虚空能量:{name:"虚空能量",pinyin:"xknl",override:!1,category:"virtual"},吞噬:{name:"吞噬",pinyin:"ts",override:!0,category:"zerg"},狂暴:{name:"狂暴",pinyin:"kb",override:!1,category:"zerg"},深槽脊刺:{name:"深槽脊刺",pinyin:"scjc",override:!0,category:"zerg"},几丁质甲壳:{name:"几丁质甲壳",pinyin:"jdzjq",override:!0,category:"zerg"},硬化外壳:{name:"硬化外壳",pinyin:"yhwk",override:!0,category:"zerg"}},L=["混沌洪流","无限融合","狂热冲锋","能量提速","自动装填","紧急征召","收割行动","强化药剂","幽灵报道","暗影猎杀","寄生细胞","双生虫卵","备用钻头","自动修理","进化分支","改造突变","过量采集","采集蜂群","充气甲壳","超距视界","再生护甲","荆棘外壳","护盾封存","能量视界","暗影追踪","闪现充能","灵能传送","共鸣之刃","超量采集","附属钻头","机械气罐","爆裂核心","金光普照","限制解除","光影集结","能量阵列","搜寻样本","电磁干扰","核心超载","虫洞传送","虚空意志","形体降临","地下交易","补给空投","挖宝奇兵","升变","黄金矿工","能量扩散","人海战术","时间停止","暗影刷新","过量补给","终极发现","精英学院","强化升级","水晶聚能","研发计划","基因改造","净化数据网","机械感染","虚空风暴","能量预兆","鲜血仪式","灵能特训","作战资源方案","达拉姆的荣耀","废弃试验品","战术装备","死亡阴影","相位提速","点石成金"],B={混沌洪流:{name:"混沌洪流",pinyin:"hdhl",type:"执政官",desc:"使用技能时, 发现一个执政官特殊升级"},无限融合:{name:"无限融合",pinyin:"wxrh",type:"执政官",desc:"使用技能后复原技能并获得3晶体矿"},狂热冲锋:{name:"狂热冲锋",pinyin:"krcf",type:"狂热者",desc:"立即提升酒馆等级至4"},能量提速:{name:"能量提速",pinyin:"nlts",type:"狂热者",desc:"每拥有1水晶塔, 战斗开始时所有单位额外获得2%星空加速"},自动装填:{name:"自动装填",pinyin:"zdzt",type:"陆战队员",desc:"使用技能后复原技能"},紧急征召:{name:"紧急征召",pinyin:"jjzz",type:"陆战队员",desc:"每回合, 招募选择的商店卡牌, 本局游戏中, 招募的卡牌价格为1"},收割行动:{name:"收割行动",pinyin:"sgxd",type:"收割者",desc:"购买定点部署卡牌消耗的晶体矿变为1"},强化药剂:{name:"强化药剂",pinyin:"qhyj",type:"收割者",desc:"每次战斗胜利时, 所有生物单位获得12%攻速提升"},幽灵报道:{name:"幽灵报道",pinyin:"ylbd",type:"幽灵",desc:`获得卡牌幽灵报道
变更主动技能: 每回合, 消耗2晶体矿发现一个幽灵专属升级`},暗影猎杀:{name:"暗影猎杀",pinyin:"ayls",type:"幽灵",desc:"战斗开始时, 隐身形态的所有友方单位获得狙击镜升级, 超级EMP形态的所有敌方单位虚空投影降至0"},寄生细胞:{name:"寄生细胞",pinyin:"jsxb",type:"感染虫",desc:"技能可以感染所有种族的卡牌"},双生虫卵:{name:"双生虫卵",pinyin:"sscl",type:"感染虫",desc:"感染的卡牌会注卵三次"},备用钻头:{name:"备用钻头",pinyin:"byzt",type:"SCV",desc:`每回合开始时, 获得3维修点数
消耗维修点数变更选择卡牌的挂件`},自动修理:{name:"自动修理",pinyin:"zdxl",type:"SCV",desc:"使用技能后, 自动消耗1晶体矿使技能复原, 晶体矿不足时无法复原"},进化分支:{name:"进化分支",pinyin:"jhfz",type:"阿巴瑟",desc:"每回合, 消耗1晶体矿, 将选择的卡牌进化为更高星级的卡牌并触发进场特效, 保留单位和升级"},改造突变:{name:"改造突变",pinyin:"gztb",type:"阿巴瑟",desc:"战斗胜利时, 获得2生物质, 失败时获得1生物质\\n消耗3生物质, 将选择的商店卡牌进化为星级为6的卡牌或为选择的场上卡牌添加升级生物突变"},过量采集:{name:"过量采集",pinyin:"glcj",type:"工蜂",desc:"所有玩家奇数回合开始额外获得1点瓦斯, 偶数回合开始额外获得1点晶体矿, 工蜂获得双倍瓦斯和晶体矿"},采集蜂群:{name:"采集蜂群",pinyin:"cjfq",type:"工蜂",desc:"获得主动技能: 消耗1点瓦斯获得4点晶体矿"},充气甲壳:{name:"充气甲壳",pinyin:"cqjq",type:"王虫",desc:"出售的所有卡牌兵力都会增加50%"},超距视界:{name:"超距视界",pinyin:"cjsj",type:"王虫",desc:"每回合出售的第一张卡牌会返回暂存区(虫卵卡牌无法返回)"},再生护甲:{name:"再生护甲",pinyin:"zshj",type:"蟑螂",desc:`回合结束时, 恢复所有玩家的生命值10点
每次战斗失败时, 所有生物单位战斗开始时获得4点护甲`},荆棘外壳:{name:"荆棘外壳",pinyin:"jjwk",type:"蟑螂",desc:"战斗开始时, 所有单位获得反甲升级"},护盾封存:{name:"护盾封存",pinyin:"hdfc",type:"副官",desc:"所有剩余晶体矿都会保留至下回合, 回合结束时只要剩余晶体矿, 战败受到的伤害降低20点"},能量视界:{name:"能量视界",pinyin:"nlsj",type:"副官",desc:"免费刷新后, 获得1晶体矿"},暗影追踪:{name:"暗影追踪",pinyin:"ayzz",type:"追猎者",desc:"购买或出售卡牌都会刷新酒馆"},闪现充能:{name:"闪现充能",pinyin:"sxcn",type:"追猎者",desc:"每回合获得5次免费刷新"},灵能传送:{name:"灵能传送",pinyin:"lncs",type:"使徒",desc:"替换技能: 获得当前商店的所有卡牌, 每级酒馆仅限一次"},共鸣之刃:{name:"共鸣之刃",pinyin:"gmzr",type:"使徒",desc:"替换技能: 每回合购买的第一张卡牌临时添加到下一场战斗中, 并在下回合开始时获得其复制"},超量采集:{name:"超量采集",pinyin:"clcj",type:"矿骡",desc:"替换技能: 晶体矿上限变为18并补满所有晶体矿, 每回合开始时, 晶体矿上限降低1"},附属钻头:{name:"附属钻头",pinyin:"fszt",type:"矿骡",desc:"替换技能: 每回合开始时, 晶体矿上限增加1, 晶体矿上限最高20"},机械气罐:{name:"机械气罐",pinyin:"jxqg",type:"斯台特曼",desc:"出售卡牌时, 获得1瓦斯"},爆裂核心:{name:"爆裂核心",pinyin:"blhx",type:"斯台特曼",desc:"获得主动技能: 每回合, 摧毁选中的卡牌并获得3晶体矿, 相邻卡牌获得摧毁卡牌的所有升级"},金光普照:{name:"金光普照",pinyin:"jgpz",type:"雷诺",desc:"移除原技能, 6星一下的卡牌进场时变为金色并获得金光闪闪升级"},限制解除:{name:"限制解除",pinyin:"xzjc",type:"雷诺",desc:"技能不再限制卡牌等级, 但无法连续使用技能"},光影集结:{name:"光影集结",pinyin:"gyjj",type:"阿塔尼斯",desc:"替换技能: 每回合, 改变选中神族卡牌的描述并添加2水晶塔, 集结并折跃卡牌内价值最高的单位, 集结条件为卡牌星级"},能量阵列:{name:"能量阵列",pinyin:"nlzl",type:"阿塔尼斯",desc:"获得5倍能量强度"},搜寻样本:{name:"搜寻样本",pinyin:"sxyb",type:"科学球",desc:"移除技能, 消耗3晶体矿获得卡牌科学观察"},电磁干扰:{name:"电磁干扰",pinyin:"dcgr",type:"科学球",desc:"观察样本可以为选中卡牌添加并不再消耗瓦斯, 可以使用三次"},核心超载:{name:"核心超载",pinyin:"hxcz",type:"母舰核心",desc:"获得主动技能: 本回合, 卡牌的价格变为2, 购买卡牌时会自动补充其复制, 整局游戏只能使用一次"},虫洞传送:{name:"虫洞传送",pinyin:"cdcs",type:"母舰核心",desc:"立即三连母舰核心"},虚空意志:{name:"虚空意志",pinyin:"xkyz",type:"混合体",desc:"获得主动技能: 每回合, 为选择卡牌添加虚空投影和虚空能量"},形体降临:{name:"形体降临",pinyin:"xtjl",type:"混合体",desc:"每回合, 为选择卡牌添加1个当前酒馆等级的混合体"},地下交易:{name:"地下交易",pinyin:"dxjy",type:0,desc:"获得3晶体矿"},补给空投:{name:"补给空投",pinyin:"bjkt",type:0,desc:"随机获得一张当前酒馆等级的卡牌"},挖宝奇兵:{name:"挖宝奇兵",pinyin:"wbqb",type:0,desc:"获得卡牌挖宝奇兵"},升变:{name:"升变",pinyin:"sb",type:0,desc:"降低酒馆升级费用4"},黄金矿工:{name:"黄金矿工",pinyin:"hjkg",type:0,desc:"为随机卡牌添加黄金矿工"},能量扩散:{name:"能量扩散",pinyin:"nlks",type:0,desc:"获得10次免费刷新(只在本回合生效)"},人海战术:{name:"人海战术",pinyin:"rhzs",type:0,desc:"发现一张1星卡牌"},时间停止:{name:"时间停止",pinyin:"sjzt",type:0,desc:"下次战斗开始时, 所有敌对单位冻结在时空中, 无法移动或攻击, 持续15秒"},暗影刷新:{name:"暗影刷新",pinyin:"aysx",type:0,desc:"刷新酒馆, 陈列当前酒馆等级+1星级的卡牌"},过量补给:{name:"过量补给",pinyin:"glbj",type:1,desc:"获得随机晶体矿补给(最多20)"},终极发现:{name:"终极发现",pinyin:"zjfx",type:1,desc:"发现一张6星卡牌"},精英学院:{name:"精英学院",pinyin:"jyxy",type:1,desc:"每回合结束时, 将场上所有单位精英化"},强化升级:{name:"强化升级",pinyin:"qhsj",type:1,desc:"立即升级酒馆等级至6"},水晶聚能:{name:"水晶聚能",pinyin:"sjjn",type:1,desc:"本局游戏中, 若出售卡牌内拥有水晶塔或虚空水晶塔, 额外获得1晶体矿(无法叠加)",unique:!0},研发计划:{name:"研发计划",pinyin:"yfjh",type:1,desc:"本局游戏中, 每进场4张卡牌, 发现一张人族卡牌(无法叠加)",unique:!0},基因改造:{name:"基因改造",pinyin:"jygz",type:1,desc:"本局游戏中, 虫卵牌孵化时额外获得6晶体矿(无法叠加)",unique:!0},净化数据网:{name:"净化数据网",pinyin:"jhsjw",type:1,desc:"下回合开始时, 将7号位非金色卡牌变为金色并获得三连效果"},机械感染:{name:"机械感染",pinyin:"jxgr",type:1,desc:"机械单位可以被孵化"},虚空风暴:{name:"虚空风暴",pinyin:"xkfb",type:1,desc:"每刷新3次酒馆, 具有虚空投影的1-5星卡牌复制卡牌内1个随机单位(无法叠加)",unique:!0},能量预兆:{name:"能量预兆",pinyin:"nlyz",type:1,desc:"战斗阶段召唤随机单位加入战斗(无法叠加)",unique:!0},鲜血仪式:{name:"鲜血仪式",pinyin:"xxys",type:1,desc:"本回合, 购买卡牌不再消耗晶体矿, 改为消耗生命值"},灵能特训:{name:"灵能特训",pinyin:"lntx",type:2,desc:"每回合获得10次免费刷新(只在当前回合生效)"},作战资源方案:{name:"作战资源方案",pinyin:"zzzyfa",type:2,desc:"本局游戏中, 每张卡的费用都变为2晶体矿"},达拉姆的荣耀:{name:"达拉姆的荣耀",pinyin:"dlmdry",type:2,desc:"为所有卡牌添加2阿塔尼斯并触发2次集结"},废弃试验品:{name:"废弃试验品",pinyin:"fqsyp",type:2,desc:"发现两个中级预言"},战术装备:{name:"战术装备",pinyin:"zszb",type:2,desc:"卡牌升级上限增加3, 并为场上所有卡牌添加3个随机升级"},死亡阴影:{name:"死亡阴影",pinyin:"swyy",type:2,desc:"为所有卡牌添加虚空投影和虚空能量"},相位提速:{name:"相位提速",pinyin:"xwts",type:2,desc:"出售的卡牌每有一个单位, 当前回合战斗开始时所有单位都获得1%攻速提升(最高100%)"},点石成金:{name:"点石成金",pinyin:"dscj",type:2,desc:"将所有非金色卡牌变为金色, 并获得三连效果与金光闪闪升级"}},E={核心:["原始蟑螂","不死队","小捞油水","原始刺蛇","原始异龙","虚空大军","鲜血猎手","暴掠龙","适者生存","毁灭者","原始点火虫","原始雷兽","马拉什","黑暗预兆","阿拉纳克","天罚行者","德哈卡","凯瑞甘","虚空构造体","折跃援军","发电站","供能中心","龙骑兵团","万叉奔腾","折跃信标","艾尔之刃","折跃部署","暗影卫队","重回战场","折跃攻势","净化者军团","凯拉克斯","虚空舰队","势不可挡","黄金舰队","尤尔兰","光复艾尔","菲尼克斯","净化一切","阿尔达瑞斯","阿塔尼斯","死神火车","好兄弟","挖宝奇兵","实验室安保","征兵令","恶火小队","空投地雷","步兵连队","飙车流","科考小队","陆军学院","空军学院","交叉火力","枪兵坦克","斯台特曼","护航中队","泰凯斯","外籍军团","钢铁洪流","游骑兵","沃菲尔德","帝国舰队","虫群先锋","蟑螂小队","屠猎者","埋地刺蛇","变异军团","孵化蟑螂","爆虫滚滚","飞龙骑脸","凶残巨兽","注卵虫后","孵化所","地底伏击","孵化刺蛇","感染深渊","腐化大龙","空中管制","虫群大军","终极进化","凶猛巨兽","扎加拉","斯托科夫"],核心衍生:["虫卵"],母舰核心衍生:["母舰核心"],科学球衍生:["观察样本"],行星要塞衍生:["毒气炮塔","凯达琳巨石","岗哨机枪","行星要塞","星门","自动机炮","作战中心","导弹基地","粒子光炮","再生钢"],泰凯斯衍生:["不法之徒"],辅助卡:["生化实验室","紧急回收","星灵科技","尖端科技","超负荷"],思旺衍生:["机械工厂"],跳虫衍生:["虫卵(跳虫)"],特典:["cloudplayer","我叫小明","豆浆油条KT1","豆浆油条","战斗号角","酒馆后勤处"],天空之怒:["黄昏之翼","净化之光","守卫巢穴","死亡舰队"],并肩作战:["艾尔游骑兵","生物质发电","生化危机","虚空裂痕"],拉克希尔:["死亡之翼","虚空援军","深渊行者","黑暗祭坛"],短兵相接:["帝国敢死队","黑暗教长","雷兽窟","混合体巨兽"],快速启动:["以火治火","六脉神剑","优质基因","埃蒙仆从"],独辟蹊径:["复制中心","晋升仪式","基因突变","风暴英雄"],军备竞赛:["帝国精锐","英雄叉","机械感染","死亡之握"],不法之徒:["黑市商人","秘密实验","基因编辑","人格上传"],幽灵衍生:["幽灵报道"]},ae=["天空之怒","并肩作战","拉克希尔","短兵相接","快速启动","独辟蹊径","军备竞赛","不法之徒"],Me=["核心","特典","天空之怒","并肩作战","拉克希尔","短兵相接","快速启动","独辟蹊径","军备竞赛","不法之徒"],kt=["反甲","力大砖飞","金光闪闪","狙击镜","重构之壳","黄金矿工","修理无人机","内在潜力","阳光滋润","吸血","顽强生命力","毒质变","电磁加速器","灼热打击","重力炸弹","刚毅护盾","缩小光束","原始尖塔","原始甲壳","原始尖刺","折跃援军","星空加速","聚能器","虚空水晶","护盾充能","轨道空降","暗影战士","完美冻结","强化药剂","合金护甲","火力压制","玻璃大炮","重型装甲","虚空能量","吞噬","狂暴","深槽脊刺","几丁质甲壳","硬化外壳"],xt=["灵能感应","能量迸发","精神控制","潜能超载"],he=["核心","母舰核心衍生","科学球衍生","行星要塞衍生","泰凯斯衍生","辅助卡","思旺衍生","跳虫衍生","特典","天空之怒","并肩作战","拉克希尔","短兵相接","快速启动","独辟蹊径","军备竞赛","不法之徒"],Pt=["核心","母舰核心衍生","科学球衍生","行星要塞衍生","泰凯斯衍生","辅助卡","思旺衍生","跳虫衍生","特典","天空之怒","并肩作战","拉克希尔","短兵相接","快速启动","独辟蹊径","军备竞赛","不法之徒","幽灵衍生"],ue=["塔达林母舰","虚空裂隙","百夫长","凤凰","天霸","先锋","黑暗执政官","混合体巨兽","沃拉尊","死亡之握水晶","零件","精华","原始蟑螂","不死队","自动机炮","修理无人机","原始刺蛇","原始异龙","鲜血猎手","浩劫","暴掠龙","亚格卓拉","毁灭者","原始点火虫","原始雷兽","原始暴龙兽","马拉什","混合体毁灭者","阿拉纳克","天罚行者","德哈卡","德哈卡分身","征召兵","武装机器人","赛兰迪丝","莎拉·凯瑞甘","刀锋女王","虚空构造体","泽拉图","先知","水晶塔","虚空水晶塔","追猎者","狂热者","使徒","龙骑士","机械哨兵","不朽者","高阶圣堂武士","折跃棱镜","黑暗圣堂武士","掠夺者","巨像","凯拉克斯","虚空辉光舰","执政官","航母","风暴战舰","侦察机","尤尔兰","莫汗达尔","泰坦棱镜","泰坦棱镜<已收起>","菲尼克斯","旋风狂热者","科罗拉里昂","卡尔达利斯","仲裁者","英雄不朽者","阿塔尼斯","激励者","追猎者(精英)","狂热者(精英)","旋风狂热者(精英)","使徒(精英)","黑暗圣堂武士(精英)","巨像(精英)","虚空辉光舰(精英)","执政官(精英)","女妖","诺娃","火蝠","火蝠(精英)","幽魂","恶蝠游骑兵","劫掠者(皇家卫队)","反应堆","科技实验室","高级科技实验室","收割者","恶蝠","恶火","陆战队员","响尾蛇战车","医疗兵","攻城坦克","歌利亚","寡妇雷","劫掠者","医疗运输机","秃鹫","飓风","铁鸦","战狼","维京战机","维京战机<机甲>","解放者","斯台特曼","思旺","热辣贝蒂","怨灵战机","黄昏之翼","泰凯斯","牛头人陆战队员","鱼人陆战队员","雷神","雷诺(指挥官)","雷诺(狙击手)","沃菲尔德将军","帝盾卫兵","战列巡航舰","易爆感染体","陆战队员(精英)","劫掠者(精英)","歌利亚(精英)","战狼(精英)","维京战机(精英)","维京战机<机甲>(精英)","攻城坦克(精英)","幼雷兽","被感染的女妖","末日巨兽","跳虫","爆虫","蟑螂","破坏者","刺蛇","被感染的陆战队员","异龙","雷兽","虫后","菌毯肿瘤","守卫","潜伏者","感染者","畸变体","腐化者","巢虫领主","飞蛇","爆蚊","莽兽","利维坦","扎加拉","斯托科夫","跳虫(精英)","爆虫(精英)","蟑螂(精英)","破坏者(精英)","刺蛇(精英)","异龙(精英)","雷兽(精英)","母舰核心","母舰","毒气炮塔","凯达琳巨石","岗哨机枪","行星要塞","星门","作战指挥中心","风暴对地导弹塔","粒子光炮","奥丁","休伯利安号","维京战机(皇家卫队)","维京战机<机甲>(皇家卫队)","攻城坦克(皇家卫队)","雷神(皇家卫队)","战列巡航舰(皇家卫队)","混合体掠夺者","混合体天罚者","混合体支配者","混合体实验体","原始穿刺者","原始守卫","毒裂兽","王兽","赫克","探机"],At=["塔达林母舰","虚空裂隙","百夫长","凤凰","天霸","先锋","黑暗执政官","混合体巨兽","沃拉尊","死亡之握水晶","零件","精华","原始蟑螂","不死队","自动机炮","修理无人机","原始刺蛇","原始异龙","鲜血猎手","浩劫","暴掠龙","亚格卓拉","毁灭者","原始点火虫","原始雷兽","原始暴龙兽","马拉什","混合体毁灭者","阿拉纳克","天罚行者","德哈卡","德哈卡分身","征召兵","武装机器人","赛兰迪丝","莎拉·凯瑞甘","刀锋女王","虚空构造体","泽拉图","先知","水晶塔","虚空水晶塔","追猎者","狂热者","使徒","龙骑士","机械哨兵","不朽者","高阶圣堂武士","折跃棱镜","黑暗圣堂武士","掠夺者","巨像","凯拉克斯","虚空辉光舰","执政官","航母","风暴战舰","侦察机","尤尔兰","莫汗达尔","泰坦棱镜","泰坦棱镜<已收起>","菲尼克斯","旋风狂热者","科罗拉里昂","卡尔达利斯","仲裁者","英雄不朽者","阿塔尼斯","激励者","追猎者(精英)","狂热者(精英)","旋风狂热者(精英)","使徒(精英)","黑暗圣堂武士(精英)","巨像(精英)","虚空辉光舰(精英)","执政官(精英)","女妖","诺娃","火蝠","火蝠(精英)","幽魂","恶蝠游骑兵","劫掠者(皇家卫队)","反应堆","科技实验室","高级科技实验室","收割者","恶蝠","恶火","陆战队员","响尾蛇战车","医疗兵","攻城坦克","歌利亚","寡妇雷","劫掠者","医疗运输机","秃鹫","飓风","铁鸦","战狼","维京战机","维京战机<机甲>","解放者","斯台特曼","思旺","热辣贝蒂","怨灵战机","黄昏之翼","泰凯斯","牛头人陆战队员","鱼人陆战队员","雷神","雷诺(指挥官)","雷诺(狙击手)","沃菲尔德将军","帝盾卫兵","战列巡航舰","易爆感染体","陆战队员(精英)","劫掠者(精英)","歌利亚(精英)","战狼(精英)","维京战机(精英)","维京战机<机甲>(精英)","攻城坦克(精英)","幼雷兽","被感染的女妖","末日巨兽","跳虫","爆虫","蟑螂","破坏者","刺蛇","被感染的陆战队员","异龙","雷兽","虫后","菌毯肿瘤","守卫","潜伏者","感染者","畸变体","腐化者","巢虫领主","飞蛇","爆蚊","莽兽","利维坦","扎加拉","斯托科夫","跳虫(精英)","爆虫(精英)","蟑螂(精英)","破坏者(精英)","刺蛇(精英)","异龙(精英)","雷兽(精英)","母舰核心","母舰","毒气炮塔","凯达琳巨石","岗哨机枪","行星要塞","星门","作战指挥中心","风暴对地导弹塔","粒子光炮","奥丁","休伯利安号","维京战机(皇家卫队)","维京战机<机甲>(皇家卫队)","攻城坦克(皇家卫队)","雷神(皇家卫队)","战列巡航舰(皇家卫队)","混合体掠夺者","混合体天罚者","混合体支配者","混合体实验体","原始穿刺者","原始守卫","毒裂兽","王兽","赫克","探机","SCV","光子炮台","工蜂","脊针爬虫","掠食者","幽灵","幽灵<埃蒙>","后虫","蝎虫","科学船","海盗船","怨灵战机(精英)","战列巡航舰(精英)","侦察机(精英)","风暴战舰(精英)","守卫(精英)"];function P(r){return`${r}(精英)`}function Q(r,e){return r.includes(P(e))}function wt(r){return`${r}(皇家卫队)`}function jt(r){return r.endsWith("(皇家卫队)")}function _(r){return r.type==="normal"}function Ct(r){return r.type==="special structure"}function F(r,e,t,i){var n;(n=r[e.msg])==null||n.call(t,e,i)}function o(r,e){return Array.from({length:e},()=>r)}function J(r,e){return Array.from({length:e},()=>r)}function z(r){if(typeof r=="object"&&r){if(r instanceof Array)return r.map(z);{const e={};for(const t in r)e[t]=z(r[t]);return e}}else return r}function M(r){return!!r}function G(r){return r?{text:r}:{}}function K(r,e=(i,n)=>i>n,t=i=>m[i].value){if(r.length===0)return{unit:null,index:-1,value:-1};const i=r.map(t),n=i.reduce((a,s,c)=>e(s,a.value)?{index:c,value:s}:a,{index:0,value:i[0]});return{...n,unit:r[n.index]}}function se(r,e,t=()=>!0){return r.shuffle(kt.filter(t)).slice(0,e)}function A(r,e,t,i=()=>!0,n="never",a=void 0){return{config:{init:{task:[0,0]}},listener:{[r](s){this.attrib.get("task")<e&&i(this,s)&&(this.attrib.alter("task",1),this.attrib.get("task")===e&&(n==="instant"&&this.attrib.set("task",0),t(this),this.$ref$Player.post({msg:"task-done",target:this})))},"round-end"(){n==="roundend"&&this.attrib.set("task",0)}},note:s=>[`任务进度: ${s.attrib.get("task")} / ${e}`],text:typeof a=="string"?[a,a]:a}}function We(r,e){return{listener:{"round-end"(){r<=this.$ref$Player.all().map(t=>t.units.filter(i=>["科技实验室","高级科技实验室"].includes(i)).length).reduce((t,i)=>t+i,0)&&e(this)}}}}function ke(){return{listener:{"post-enter"(){this.around().filter(r=>r.race==="T").forEach(r=>r.switch_infr())}}}}function zt(){return{反应堆:{listener:{"round-end"(r,[e]){this.infr()==="反应堆"&&this.obtain_unit(o(e,this.gold?2:1))}},text:([r])=>[`反应堆生产${r}`,`反应堆生产${r}`]},快速生产:{listener:{"fast-produce"(r,[e,t,i]){this.obtain_unit(o(e,this.gold?Number(i):Number(t)))}},text:([r,e,t])=>[`快速生产: 获得${e}${r}`,`快速生产: 获得${t}${r}`]},科挂:{listener:{"round-end"(r,[e,t,i,n]){Number(e)<=this.$ref$Player.all().map(a=>a.units.filter(s=>["科技实验室","高级科技实验室"].includes(s)).length).reduce((a,s)=>a+s,0)&&this.obtain_unit(o(t,this.gold?Number(n):Number(i)))}},text:([r,e,t,i])=>[`每回合结束时, 若拥有至少${r}科技挂件, 则获得${t}${e}`,`每回合结束时, 若拥有至少${r}科技挂件, 则获得${i}${e}`]},死神火车0:A("card-entered",2,r=>r.$ref$Player.obtain_resource({mineral:r.gold?2:1})),好兄弟0:{refer:"快速生产:陆战队员:4:6"},好兄弟1:{refer:"反应堆:陆战队员"},挖宝奇兵0:A("store-refreshed",5,r=>{var e;r.$ref$Player.push_discover((e=r.$ref$Player.$ref$Game.pool.discover(t=>t.level===r.$ref$Player.level,3))==null?void 0:e.map(t=>({type:"card",card:t})))}),实验室安保0:{refer:"反应堆:陆战队员"},实验室安保1:ke(),征兵令0:{listener:{"post-enter"(){this.around().filter(r=>r.race==="T").forEach(r=>{this.obtain_unit(r.filter((e,t)=>t%3!==0&&_(m[e])))})}}},恶火小队0:{refer:"反应堆:恶火"},恶火小队1:{refer:"科挂:2:歌利亚:1:2"},恶火小队2:{refer:"快速生产:攻城坦克:1:1"},空投地雷0:{listener:{"card-entered"(){this.obtain_unit(o("寡妇雷",this.gold?2:1))}}},空投地雷1:{refer:"快速生产:寡妇雷:2:3"},步兵连队0:{refer:"快速生产:劫掠者:3:5"},步兵连队1:{refer:"反应堆:劫掠者"},飙车流0:{refer:"快速生产:秃鹫:3:5"},飙车流1:A("card-entered",3,r=>{var e;return(e=r.left())==null?void 0:e.upgrade_infr()},(r,{target:e})=>e.race==="T"),科考小队0:ke(),科考小队1:A("store-refreshed",2,r=>r.obtain_unit(o("歌利亚",r.gold?2:1)),()=>!0,"roundend"),陆军学院0:{refer:"科挂:3:战狼:1:2"},陆军学院1:{refer:"快速生产:维京战机<机甲>:3:5"},空军学院0:{refer:"快速生产:维京战机:3:5"},空军学院1:{listener:{"task-done"(){this.obtain_unit(o("解放者",this.gold?2:1))}}},交叉火力0:{refer:"科挂:4:攻城坦克:1:2"},交叉火力1:{refer:"快速生产:歌利亚:3:5"},枪兵坦克0:{listener:{"round-end"(){this.$ref$Player.all_of("T").forEach(r=>{r.infr()==="反应堆"&&r.obtain_unit(o("陆战队员",this.gold?4:2))})}}},斯台特曼0:{listener:{"fast-produce"(){this.around().forEach(r=>{r.replace(r.find("歌利亚",this.gold?2:1),P),r.replace(r.find(["维京战机","维京战机<机甲>"],this.gold?2:1),P)})}}},斯台特曼1:{listener:{"post-enter"(){const r=this.left();(r==null?void 0:r.race)==="T"&&r.upgrade_infr()}}},护航中队0:{refer:"快速生产:黄昏之翼:1:2"},护航中队1:{listener:{"card-entered"(){this.obtain_unit(o("怨灵战机",this.gold?2:1))}}},泰凯斯0:{refer:"反应堆:陆战队员(精英)"},泰凯斯1:{listener:{"round-end"(){this.$ref$Player.all_of("T").forEach(r=>{r.replace(r.find("陆战队员",this.gold?5:3),P),r.replace(r.find("劫掠者",this.gold?5:3),P)})}}},泰凯斯2:{listener:{"round-end"(){this.obtain_unit(o("医疗运输机",this.gold?2:1))}}},外籍军团0:{refer:"反应堆:牛头人陆战队员"},外籍军团1:{listener:{"post-enter"(){this.around().forEach(r=>{let e=0,t=0;r.units.forEach(h=>{h==="陆战队员"?t++:h==="陆战队员(精英)"&&e++});const i=e%3;let n=e-i,a=0,s=n/3;6-i*2<=t&&(a+=6-i*2,t-=6-i*2,n+=i,s++);const c=t%6;s+=(t-c)/6,a+=t-c,r.filter((h,d)=>[...r.find("陆战队员(精英)",n),...r.find("陆战队员",a)].includes(d)),r.obtain_unit(o("牛头人陆战队员",s))})}}},钢铁洪流0:{refer:"快速生产:雷神:1:2"},钢铁洪流1:We(5,r=>{r.$ref$Player.all_of("T").forEach(e=>{e.replace(e.find("攻城坦克",r.gold?2:1),P),e.replace(e.find("战狼",r.gold?2:1),P)})}),游骑兵0:{listener:{"infr-changed"({target:r}){r.obtain_unit(o("雷诺(狙击手)",this.gold?2:1))}}},游骑兵1:{refer:"反应堆:雷诺(狙击手)"},沃菲尔德0:{listener:{"round-end"(){this.$ref$Player.all().forEach(r=>{r.replace(r.find("陆战队员(精英)",this.gold?2:1),"帝盾卫兵")})}}},沃菲尔德1:{config:{unique:"normal"},listener:{"card-selled"({target:r}){r.race==="T"&&(this.$ref$Player.attrib.get("沃菲尔德")>=(this.gold?2:1)||(this.$ref$Player.attrib.alter("沃菲尔德",1),this.obtain_unit(r.units.filter(e=>_(m[e])))))}},note(r,e){const t=r.$ref$Player.attrib.get("沃菲尔德");return[e?t<(r.gold?2:1)?`启用 ${t}`:`停用 ${t}`:"禁用"]}},帝国舰队0:A("card-selled",3,r=>r.obtain_unit(o("战列巡航舰",r.gold?2:1)),()=>!0,"instant"),帝国舰队1:{refer:"科挂:4:黄昏之翼:2:4"},cloudplayer0:{listener:{"post-enter"(){for(;this.$ref$Player.all().filter(r=>r.value()>this.value()).length>2;)this.obtain_unit([this.$ref$Player.$ref$Game.lcg.one_of(this.$ref$Player.$ref$Game.config.ActiveUnit.filter(jt))])}}},牛牛冲鸭0:{listener:{"round-end"(){this.around().forEach(r=>{r.obtain_unit(["牛头人陆战队员"])})}}},黄昏之翼0:{refer:"快速生产:黄昏之翼:1:2"},黄昏之翼1:{refer:"反应堆:黄昏之翼"},艾尔游骑兵0:{listener:{"fast-produce"(){var r;(r=this.left())==null||r.obtain_unit(o("水晶塔",this.gold?2:1))}}},艾尔游骑兵1:{listener:{"round-end"(){this.obtain_unit(o("陆战队员",(this.gold?8:4)*this.around().map(r=>r.filter(e=>e==="水晶塔",1).length).reduce((r,e)=>r+e,0)))}}},帝国敢死队0:{refer:"快速生产:诺娃:2:2"},帝国敢死队1:{refer:"反应堆:诺娃"},帝国敢死队2:{listener:{"task-done"(){this.obtain_unit(o("诺娃",this.gold?2:1))}}},以火治火0:{listener:{"round-end"(){this.$ref$Player.all_of("T").forEach(r=>{r.infr()==="反应堆"&&r.obtain_unit(o("火蝠",this.gold?2:1))})}}},以火治火1:{listener:{"fast-produce"(){this.$ref$Player.all_of("T").forEach(r=>{r.replace(r.find("火蝠",this.gold?3:2),P)})}}},复制中心0:{listener:{"fast-produce"(){const r=this.$ref$Player.hand.filter(M).map(e=>g[e.card].unit).map(e=>Object.keys(e).map(t=>m[t]).filter(t=>_(t)&&!t.tag.heroic&&t.tag.biological).map(t=>o(t.name,e[t.name]??0))).flat(2);this.obtain_unit(this.$ref$Player.$ref$Game.lcg.shuffle(r).slice(0,this.gold?2:1))}}},帝国精锐0:{refer:"快速生产:恶蝠游骑兵:1:2"},帝国精锐1:{listener:{"round-end"(){this.obtain_unit(o("恶蝠游骑兵",Math.floor(this.$ref$Player.all().map(r=>r.find("反应堆").length).reduce((r,e)=>r+e,0)/(this.gold?2:3))))}}},黑市商人0:{listener:{"post-enter"(){const r=this.$ref$Player.$ref$Game.lcg.shuffle(E.辅助卡.map(e=>g[e])).slice(0,2);this.$ref$Player.push_discover(r.map(e=>({type:"card",card:e})),{nodrop:!0})}}}}}function de(r,e,t=()=>!0,i=()=>{},n=0){return{listener:{[r](a){t(this,a)&&this.hatch(n)},"req-hatch"({id:a}){(a===-1||a===n)&&(this.$ref$Player.hatch(this,e(this)),i(this))}}}}function N(r,e,t,i,n=0){return de(r,a=>o(e,a.gold?i:t),()=>!0,()=>{},n)}function V(r,e,t=()=>!0){return{listener:{[r](){t(this)&&this.$ref$Player.spawn(e(this))}}}}function Et(){function r(){this.around().filter(e=>e.race==="Z").forEach(e=>{const t=e.units.map((n,a)=>({unit:m[n],index:a})).sort((n,a)=>n.unit.value===a.unit.value?n.unit.value-a.unit.value:a.index-n.index),i=t.filter(({unit:n})=>!n.tag.heroic);i.length!==0&&this.replace(t.slice(t.length-(this.gold?2:1)).filter(({unit:n})=>n.value<i[0].unit.value).map(({index:n})=>n),i[0].unit.name)})}return{虫卵0:de("round-start",e=>e.units.map(t=>m[t]).filter(e.$ref$Player.config.ZergEggRestrictBiological?t=>_(t)&&t.tag.biological:t=>_(t)).map(t=>t.name),e=>e.around().filter(t=>t.race==="Z").length===2||e.$ref$Player.config.AlwaysHatch,e=>{e.$ref$Player.destroy(e)}),虫群先锋0:{listener:{"round-end"(){this.obtain_unit(o("跳虫",this.gold?4:2))}}},蟑螂小队0:{listener:{"round-start"(){this.replace(this.find("蟑螂",this.gold?2:1),"破坏者")}}},蟑螂小队1:V("post-sell",e=>o("蟑螂",e.gold?4:2)),屠猎者0:{listener:{"round-end"(){this.replace(this.find("刺蛇"),P)}}},屠猎者1:{listener:{"tavern-upgraded"(){this.obtain_unit(o("刺蛇(精英)",this.gold?2:1))}}},埋地刺蛇0:V("post-sell",e=>o("刺蛇",e.gold?6:3)),变异军团0:{listener:{spawn(){this.obtain_unit(o("被感染的陆战队员",this.gold?2:1))}}},孵化蟑螂0:N("round-end","蟑螂",1,2),爆虫滚滚0:de("round-end",e=>o("爆虫",Math.floor(e.find(t=>["爆虫","爆虫(精英)"].includes(t)).length/(e.gold?15:20)))),爆虫滚滚1:{config:{unique:"normal"},listener:{"card-selled"({target:e}){this.obtain_unit([...o("爆虫",e.find("跳虫").length),...o("爆虫(精英)",e.find("跳虫(精英)").length)])}}},飞龙骑脸0:N("post-sell","异龙",2,4),凶残巨兽0:V("post-sell",e=>o("雷兽",e.gold?2:1)),注卵虫后0:V("round-start",e=>[...o("蟑螂",e.gold?2:1),...o("刺蛇",e.gold?2:1)]),孵化所0:{config:{unique:"normal"},listener:{"obtain-unit"({time:e,units:t,way:i}){e!=="post"||i!=="hatch"||this.obtain_unit(o(t[t.length-1],this.gold?3:2))}}},地底伏击0:N("post-enter","潜伏者",1,2),孵化刺蛇0:N("round-end","刺蛇(精英)",1,2),感染深渊0:{listener:{"round-end"(){this.$ref$Player.spawn(o("被感染的陆战队员",this.$ref$Player.all().map(e=>{const t=e.find("陆战队员",this.gold?4:2);return e.filter((i,n)=>t.includes(n)),t.length}).reduce((e,t)=>e+t,0)))}}},感染深渊1:{listener:{"round-start"(){this.$ref$Player.all().forEach(e=>{e.replace(e.find("被感染的陆战队员",this.gold?2:1),"畸变体")})}}},腐化大龙0:{listener:{"round-start"(){this.replace(this.find("腐化者",this.gold?4:2),"巢虫领主")}}},腐化大龙1:V("post-sell",e=>o("巢虫领主",e.gold?4:2)),空中管制0:N("post-enter","爆蚊",3,6,0),空中管制1:N("post-enter","异龙(精英)",1,2,1),虫群大军0:{listener:{"round-end"(){this.$ref$Player.all_of("Z").length>=4&&this.$ref$Player.spawn(o("雷兽",this.gold?2:1))}}},终极进化0:{listener:{"post-enter"(){this.around().forEach(e=>{e.replace(e.find(["蟑螂","蟑螂(精英)"],this.gold?2:1),"莽兽")})}}},凶猛巨兽0:{listener:{"post-enter"(){this.$ref$Player.all_of("Z").forEach(e=>{e.obtain_unit(o("腐化者",this.gold?4:2))})}}},凶猛巨兽1:{listener:{"round-end"(){this.around().filter(e=>e.race==="Z").forEach(e=>{e.obtain_unit(o("守卫",this.gold?4:2))})}}},扎加拉0:{config:{unique:"normal"},listener:{hatch({units:e}){this.obtain_unit(e,"hatch"),this.gold&&this.obtain_unit(["巢虫领主"])}}},斯托科夫0:{config:{unique:"normal"},note:(e,t)=>[t?e.gold||e.$ref$Player.persisAttrib.get("斯托科夫")?"注卵":"禁用":"停用"],listener:{"card-entered"({target:e}){if(e.race==="Z"||e.level>=6)return;const t=this.$ref$Player.persisAttrib.get("斯托科夫");this.$ref$Player.persisAttrib.set("斯托科夫",this.gold?0:1-t),(this.gold||t===1)&&this.$ref$Player.spawn(e.units.map(i=>m[i]).filter(i=>_(i)&&!i.tag.heroic).map(i=>i.name),"left")}}},守卫巢穴0:{listener:{"round-end"(){this.$ref$Player.spawn(o("守卫",this.gold?2:1)),this.$ref$Player.all().forEach(e=>{e.replace(e.find(["异龙","异龙(精英)"],this.gold?2:1),"守卫")})}}},生化危机0:We(2,e=>{e.$ref$Player.spawn([...o("牛头人陆战队员",e.gold?2:1),...o("科技实验室",e.gold?4:2)])}),雷兽窟0:{listener:{spawn(){this.replace(this.find("幼雷兽",this.gold?2:1),"雷兽")}}},雷兽窟1:N("round-end","幼雷兽",1,2),优质基因0:{listener:{"round-end"(){const e=this.$ref$Player.all().filter(i=>i.name==="虫卵");if(e.length===0)return;const{unit:t}=K(e.map(i=>i.units).flat().filter(i=>this.gold||!m[i].tag.heroic));e.forEach(i=>this.$ref$Player.destroy(i)),t&&this.$ref$Player.all_of("Z").forEach(i=>{i.obtain_unit([t])})}}},基因突变0:{listener:{"post-enter":r,"post-sell":r}},机械感染0:N("round-end","被感染的女妖",1,2),机械感染1:{config:{unique:"normal"},listener:{"card-selled"({target:e}){e.value()>=3600&&e.name!=="虫卵"&&e.race==="Z"&&this.obtain_unit(["末日巨兽"])}}},基因编辑0:{listener:{"post-enter"(){var i;const e=this.left();if(!e||e.occupy.length===0||e.level<1||e.level>6)return;const t=e.level;this.$ref$Player.destroy(e),this.$ref$Player.push_discover((i=this.$ref$Player.$ref$Game.pool.discover(n=>n.level===t,3))==null?void 0:i.map(n=>({type:"card",card:n})))}}}}}function le(r,e,t=0){return{listener:{"round-end"(){const i=Math.min(2,Math.floor(this.power()/r));for(let n=0;n<i;n++)this.regroup(t)},"req-regroup"({id:i}){(t===i||i===-1)&&e(this)}}}}function Nt(){return{集结:{listener:{"round-end"(r,[e,t]){const i=Math.min(2,Math.floor(this.power()/Number(e)));for(let n=0;n<i;n++)this.regroup(Number(t))},"req-regroup"({id:r},[e,t,i,n,a,s]){(Number(t)===r||r===1)&&(i==="获得"?this.obtain_unit(o(n,this.gold?Number(s):Number(a))):this.$ref$Player.warp(o(n,this.gold?Number(s):Number(a))))}},text:([r,e,t,i,n,a])=>[`集结(${r}): ${t}${n}${i}`,`集结(${r}): ${t}${a}${i}`]},折跃援军0:{listener:{"post-sell"(){this.$ref$Player.warp([...o("狂热者",this.gold?2:1),...o("追猎者",this.gold?4:2)])}}},供能中心0:{listener:{"tavern-upgraded"(){this.obtain_unit(o("水晶塔",this.gold?2:1))}}},龙骑兵团0:{listener:{"round-end"(){this.obtain_unit(o("零件",this.gold?4:2))}}},龙骑兵团1:{listener:{"post-sell"(){this.$ref$Player.warp(o("龙骑士",this.find("零件").length))}}},万叉奔腾0:{refer:"集结:2:0:获得:狂热者:1:2"},折跃信标0:{config:{unique:"left"},note:(r,e)=>[e?"启用":"停用"],listener:{warp(r){r.into=this}}},艾尔之刃0:{listener:{"post-enter"(){this.around().filter(r=>r.race==="P").forEach(r=>r.obtain_unit(o("水晶塔",this.gold?2:1)))}}},折跃部署0:{listener:{"round-end"(){this.$ref$Player.warp(o("追猎者",this.gold?3:2))}}},折跃部署1:{listener:{"round-start"(){this.$ref$Player.warp(o("狂热者",this.gold?2:1))}}},暗影卫队0:{listener:{"post-enter"(){this.obtain_upgrade("暗影战士")}}},暗影卫队1:{refer:"集结:3:0:获得:黑暗圣堂武士:1:2"},暗影卫队2:{listener:{"round-end"(){this.power()>=6&&this.obtain_unit(["黑暗圣堂武士"])}}},重回战场0:{listener:{"post-enter"(){this.$ref$Player.all_of("P").forEach(r=>{r.replace(r.find(e=>!!m[e].tag.biological,this.gold?2:1),e=>m[e].tag.heroic?"英雄不朽者":"不朽者")})}}},重回战场1:{listener:{"post-sell"(){this.$ref$Player.warp(o("不朽者",this.gold?2:1))}}},折跃攻势0:{listener:{warp(){this.obtain_unit(o("追猎者",this.gold?2:1))}}},净化者军团0:le(5,r=>{const e=[];r.$ref$Player.all_of("P").forEach(t=>{const i=t.find(a=>Q(r.$ref$Player.$ref$Game.config.ActiveUnit,a)&&!m[a].tag.massive);r.$ref$Player.$ref$Game.lcg.shuffle(i);const n=i.slice(0,r.gold?2:1);e.push(...t.filter((a,s)=>n.includes(s)).map(P))}),r.$ref$Player.warp(e)}),凯拉克斯0:{listener:{"round-end"(){this.$ref$Player.warp(o(["不朽者","巨像","掠夺者"][this.$ref$Player.$ref$Game.lcg.int(2)],this.gold?2:1))}}},虚空舰队0:{refer:"集结:5:0:折跃:虚空辉光舰:1:2"},势不可挡0:{listener:{"post-enter"(){this.$ref$Player.warp(o("执政官(精英)",this.gold?2:1))}}},势不可挡1:{refer:"集结:5:0:折跃:执政官:1:2"},势不可挡2:{listener:{"round-end"(){this.power()>=15&&this.$ref$Player.warp(["执政官(精英)"])}}},黄金舰队0:{refer:"集结:5:0:获得:侦察机:1:2"},黄金舰队1:{refer:"集结:7:1:获得:风暴战舰:1:2"},尤尔兰0:{config:{init:{供能:[5,8]},deinit:{供能:[-5,-8]}}},尤尔兰1:{listener:{"obtain-unit"({time:r,units:e}){r==="post"&&(e.includes("水晶塔")||e.includes("虚空水晶塔"))&&this.obtain_unit(o("莫汗达尔",this.gold?2:1))}}},尤尔兰2:{listener:{"obtain-unit"(r){r.time==="prev"&&r.way==="warp"&&(r.units=r.units.map(e=>m[e].tag.mechanical?"尤尔兰":e))}}},光复艾尔0:{listener:{"obtain-upgrade"(){this.replace(this.find("泰坦棱镜<已收起>"),"泰坦棱镜")}}},光复艾尔1:{config:{unique:"left",uniqueDisabled(r){return r.find("泰坦棱镜").length>0}},note(r,e){return[e?"启用":"禁用",r.find("泰坦棱镜").length>0?"已展开":r.find("泰坦棱镜<已收起>").length>0?"已收起":"无棱镜"]},listener:{"card-selled"({target:r}){r.race==="P"&&(this.replace(this.find("泰坦棱镜"),"泰坦棱镜<已收起>"),this.obtain_unit(r.units.filter(e=>_(m[e])||e==="水晶塔").filter(e=>this.gold||!m[e].tag.heroic)))}}},菲尼克斯0:{listener:{"post-enter"(){this.around().forEach(r=>{r.replace(r.find(["狂热者","使徒"]),"旋风狂热者"),r.replace(r.find(["狂热者(精英)","使徒(精英)"]),"旋风狂热者(精英)")})}}},菲尼克斯1:{refer:"集结:5:0:获得:掠夺者:1:2"},酒馆后勤处0:{listener:{"post-enter"(){this.$ref$Player.all().forEach(r=>{r.regroup(-1),r.regroup(-1)})}}},净化一切0:{refer:"集结:4:0:折跃:狂热者(精英):1:2"},净化一切1:{listener:{"round-end"(){this.$ref$Player.warp(o("巨像(精英)",(this.gold?2:1)*Math.min(2,Math.floor(this.power()/7))))}}},阿尔达瑞斯0:{config:{unique:"normal"},listener:{"round-end"(){this.$ref$Player.all_of("P").length>=5&&this.obtain_unit(o("英雄不朽者",this.gold?2:1))}}},阿塔尼斯0:{listener:{"round-end"(){this.obtain_unit(o("旋风狂热者(精英)",2).concat(o("阿塔尼斯",this.gold?2:0)))}}},阿塔尼斯1:{config:{unique:"left"},listener:{"round-end"(){this.$ref$Player.all().forEach(r=>{r.regroup(-1)})}}},净化之光0:{listener:{"round-end"(){this.obtain_unit(o("虚空辉光舰",this.gold?2:1))}}},净化之光1:le(4,r=>{r.$ref$Player.all().forEach(e=>{e.replace(e.find("虚空辉光舰",r.gold?2:1),P)})}),生物质发电0:{listener:{"card-selled"({target:r}){r.level>=3&&r.race==="Z"&&this.obtain_unit(o("水晶塔",this.gold?2:1))}}},黑暗教长0:{listener:{"post-enter"(){this.obtain_upgrade("暗影战士")}}},黑暗教长1:{refer:"集结:3:0:获得:黑暗圣堂武士(精英):1:2"},六脉神剑0:{listener:{"card-entered"(){this.find("先知").length<this.power()&&this.$ref$Player.warp(o("先知",this.gold?2:1))}}},晋升仪式0:le(4,r=>{r.replace(r.find("不朽者",r.gold?2:1),"英雄不朽者"),r.replace(r.find(e=>e!=="高阶圣堂武士"&&!!m[e].tag.biological,r.gold?2:1),"高阶圣堂武士")}),英雄叉0:{listener:{"obtain-unit"(r){r.time==="prev"&&r.way==="warp"&&(r.units=r.units.map(e=>e==="狂热者(精英)"?"卡尔达利斯":e))}}},人格上传0:{listener:{"card-selled"({target:r}){r.value()>this.value()&&this.obtain_unit(o("菲尼克斯",this.gold?3:1))}}}}}function te(r,e){return{listener:{"post-sell"(){const t=this.right(this.attrib.get("oldpos"));if(!t)return;const i=this.find("精华").length;t.obtain_unit(o(e,Math.floor(i/r))),t.belong==="primal"&&t.obtain_unit(o("精华",i))}}}}function H(r,e,t){return{listener:{"obtain-darkness"(){this.obtain_unit(o(r,this.gold?t:e))}}}}function re(r){return G()}function Zt(){return{原始蟑螂0:te(1,"原始蟑螂"),不死队0:H("不死队",1,2),不死队1:re(),小捞油水0:{listener:{"post-sell"(){this.$ref$Player.do_refresh()}}},原始刺蛇0:te(1,"原始刺蛇"),原始刺蛇1:{listener:{"round-end"(){this.obtain_unit([...o("原始刺蛇",this.gold?2:1),...o("精华",this.gold?4:2)])}}},原始异龙0:{listener:{"card-entered"({target:r}){var e;(e=r.right())==null||e.obtain_unit(o("精华",this.gold?2:1))}}},原始异龙1:{listener:{"round-end"(){this.$ref$Player.mineral<1||this.obtain_unit(o("原始异龙",Math.floor(this.$ref$Player.all().map(r=>r.filter(e=>e=="精华").length).reduce((r,e)=>r+e,0)/2)))}}},虚空大军0:{listener:{"round-end"(){const r=this.gold?2:1,e=this.$ref$Player.count();this.obtain_unit([...o("歌利亚",e.T?r:0),...o("刺蛇",e.Z?r:0),...o("龙骑士",e.P?r:0)])}}},鲜血猎手0:H("鲜血猎手",1,2),鲜血猎手1:re(),暴掠龙0:te(2,"暴掠龙"),暴掠龙1:{listener:{"round-end"(){this.obtain_unit([...o("暴掠龙",this.gold?2:1),...o("精华",this.gold?4:2)])}}},适者生存0:{listener:{"round-end"(){const r=this.$ref$Player.all().map(e=>e.units.map((t,i)=>({unit:m[t],index:i})).filter(t=>_(t.unit)&&t.unit.tag.biological&&Q(this.$ref$Player.$ref$Game.config.ActiveUnit,t.unit.name)).map(t=>({card:e,index:t.index}))).flat();this.$ref$Player.$ref$Game.lcg.shuffle(r).slice(0,this.gold?8:5).forEach(({card:e,index:t})=>{e.replace([t],P)})}}},毁灭者0:{listener:{"post-sell"(){var r;(r=this.left(this.attrib.get("oldpos")))==null||r.obtain_unit(o("毁灭者",Math.min(this.gold?30:10,this.attrib.get("dark"))))}}},原始点火虫0:{listener:{"round-end"(){this.obtain_unit(o("原始点火虫",Math.max(0,2*Math.min(10,this.find("精华").length)-this.find("原始点火虫").length)))}}},原始雷兽0:te(4,"原始暴龙兽"),原始雷兽1:{listener:{"round-end"(){this.obtain_unit([...o("原始雷兽",this.gold?2:1),...o("精华",this.$ref$Player.all_of("N").length)])}}},马拉什0:{listener:{"round-end"(){this.around().forEach(r=>r.set_void())}}},黑暗预兆0:{listener:{"round-end"(){const r=this.$ref$Player.count();r.T&&r.Z&&r.P&&r.N&&this.obtain_unit(o("混合体毁灭者",this.gold?4:2))}}},阿拉纳克0:{listener:{"post-enter"(){const r=this.$ref$Player.all().filter(e=>e!==this);r.length!==0&&(r.length>2&&this.$ref$Player.$ref$Game.lcg.shuffle(r),r.slice(0,2).forEach(e=>{this.seize(e,{fake:!0,withUpgrade:!0})}))}}},天罚行者0:{listener:{"post-enter"(){const r=this.$ref$Player.all().filter(e=>e.level<=4&&e.attrib.has("dark")).map(e=>{const t=e.attrib.get("dark");return t&&e.gain_darkness(-t),t}).reduce((e,t)=>e+t,0);this.obtain_unit(o("天罚行者",Math.floor(r/5))),this.gain_darkness(r)}}},天罚行者1:{listener:{"round-end"(){this.obtain_unit(o("天罚行者",(this.gold?2:1)*Math.min(2,Math.floor(this.attrib.get("dark")/10))))}}},德哈卡0:{listener:{"card-selled"({target:r}){r.find("精华").length>=3&&this.obtain_unit(o("德哈卡分身",this.gold?4:2))}}},德哈卡1:{config:{unique:"left"},listener:{"round-end"(){this.$ref$Player.mineral>=1&&this.attrib.set("启用",1)},"round-start"(){var r;this.attrib.get("启用")&&(this.attrib.set("启用",0),this.$ref$Player.push_discover((r=this.$ref$Player.$ref$Game.pool.discover(e=>e.belong==="primal"&&e.level<5,3))==null?void 0:r.map(e=>({type:"card",card:e}))))}}},我叫小明0:{listener:{"post-enter"(){const r=this.left();r&&(r.level>=1&&r.level<=6&&r.occupy.length>0&&this.$ref$Player.obtain_card(r.occupy[0]),r.obtain_upgrade("星空加速"),r.seize(this))}}},豆浆油条KT10:{listener:{"post-enter"(){[this,...this.around()].forEach(r=>{r.obtain_upgrade(se(this.$ref$Player.$ref$Game.lcg,1)[0])})}}},豆浆油条0:{listener:{"round-end"(){this.$ref$Player.all().filter(r=>r.index()>this.index()).forEach(r=>r.set_void())}}},战斗号角0:{listener:{"card-selled"({target:r}){const{unit:e}=K(r.units.filter(t=>_(m[t])));e&&this.obtain_unit([e])}}},凯瑞甘0:{listener:{"post-enter"(){if(this.around().filter(e=>e.name==="凯瑞甘").length>0)return;const r=this.left();r&&this.seize(r,{fake:!0})}}},凯瑞甘1:{listener:{"post-enter"(){const r=this.around().filter(t=>t.name==="凯瑞甘");if(r.length===0){this.obtain_upgrade("献祭");return}const e=r[0];e.name="刀锋女王",e.clear_desc(),e.add_desc("刀锋女王0"),e.fix_upgrade(),e.replace(e.find("莎拉·凯瑞甘",1),"刀锋女王"),this.$ref$Player.destroy(this)}}},刀锋女王0:G(["唯一: 与你战斗的玩家虚空投影加成效果降低30%(最低为0)","唯一: 与你战斗的玩家虚空投影加成效果降低30%(最低为0)"]),虚空构造体0:{config:{unique:"normal"},listener:{"get-extra-void"(r){r.void+=this.gold?40:20}}},死亡舰队0:H("毁灭者",1,2),死亡舰队1:{listener:{"round-end"(){const r=this.gold?5:10;this.attrib.get("dark")>=r&&(this.gain_darkness(-r),this.obtain_unit(["塔达林母舰"]))}}},虚空裂痕0:H("百夫长",1,2),虚空裂痕1:re(),虚空裂痕2:{listener:{"round-end"(){this.$ref$Player.mineral>=1&&this.obtain_unit(o("百夫长",this.gold?4:2))}}},死亡之翼0:{listener:{seize({target:r}){this===r&&this.obtain_unit(o("天霸",this.gold?2:1))}}},死亡之翼1:{listener:{"card-combined"({target:r}){this!==r&&r.seize(this)}}},虚空援军0:{listener:{"post-enter"(){this.$ref$Player.gas<1||(this.$ref$Player.obtain_resource({gas:-1}),this.obtain_upgrade(se(this.$ref$Player.$ref$Game.lcg,1)[0]))}}},虚空援军1:{listener:{"round-end"(){const r=this.$ref$Player.all().map(e=>({card:e,value:e.value()})).sort((e,t)=>t.value-e.value);r[0].card!==this&&r[0].card.seize(this,{withUpgrade:!0})}}},深渊行者0:re(),深渊行者1:{listener:{seize(){this.obtain_unit(o("先锋",this.gold?2:1))}}},黑暗祭坛0:H("凤凰",1,2),黑暗祭坛1:{listener:{"round-end"(){const r=this.$ref$Player.all().map(e=>({card:e,value:e.value()})).sort((e,t)=>e.value-t.value);r[0].card!==this&&this.seize(r[0].card)}}},混合体巨兽0:{listener:{"round-end"(){const r=this.$ref$Player.count();r.T&&r.Z&&r.P&&r.N&&this.obtain_unit(o("混合体巨兽",this.gold?2:1))}}},埃蒙仆从0:{listener:{"round-end"(){const r=this.$ref$Player.all_of("Z"),e=this.$ref$Player.all_of("P");r[0]===this?r.shift():e[0]===this&&e.shift(),r.length>0&&e.length>0&&(this.$ref$Player.destroy(r[0]),this.$ref$Player.destroy(e[0]),this.$ref$Player.all().filter(t=>t.attrib.get("void")).forEach(t=>{t.obtain_unit(o("混合体毁灭者",this.gold?3:2))}))}}},风暴英雄0:{listener:{"obtain-upgrade"(){this.obtain_unit([this.$ref$Player.$ref$Game.lcg.one_of(["马拉什","阿拉纳克","利维坦","虚空构造体","科罗拉里昂"])])}}},死亡之握0:{config:{unique:"normal"},listener:{"round-end"(){this.$ref$Player.store.filter(M).map(r=>g[r.card].unit).forEach(r=>{this.obtain_unit(this.$ref$Player.$ref$Game.lcg.shuffle(Object.keys(r).map(e=>m[e]).filter(e=>_(e)&&!e.tag.heroic).map(e=>e.name)).slice(0,this.gold?2:1))})}}},死亡之握1:{config:{unique:"normal"},listener:{"store-refreshed"(){this.obtain_unit(this.$ref$Player.$ref$Game.lcg.shuffle([...new Set(this.units.filter(r=>!m[r].tag.heroic))]).slice(0,this.gold?2:1))}}},秘密实验0:{listener:{"post-enter"(){["T","P","Z"].map(e=>this.$ref$Player.all_of(e)).filter(e=>e.length>0).map(e=>e[0]).forEach(e=>{e.obtain_unit(["混合体掠夺者"])})}}}}}function W(r,e,t,i=1,n=1){return{listener:{"round-end"(){const a=this.gold?e:r,s=Math.floor(this.find("自动机炮").length/a);this.filter("自动机炮",s*a),this.obtain_unit(o(t,a*(this.gold?n:i)))}}}}function S(r,e,t=1){return{listener:{"round-end"(){const i=this.find("零件",r);i.length===r&&(this.filter((n,a)=>i.includes(a)),this.obtain_unit(o(e,t)))}}}}function Tt(){return{黄金矿工0:{listener:{"round-start"(){this.$ref$Player.obtain_resource({mineral:1})}},text:["每回合开始时, 获得1晶体矿","每回合开始时, 获得1晶体矿"]},黄金矿工1:{listener:{"post-sell"(){this.$ref$Player.obtain_resource({mineral:2})}},text:["出售时, 获得3晶体矿","出售时, 获得3晶体矿"]},原始尖塔:{listener:{"card-selled"({target:r}){r.race==="N"&&r!==this&&this.obtain_unit(["原始异龙"])}},text:["出售一张中立卡时, 获得1原始异龙","出售一张中立卡时, 获得1原始异龙"]},献祭:{listener:{"obtain-unit"(r){r.time==="prev"&&(this.attrib.alter("sacrifice",r.units.map(e=>m[e].health+(m[e].shield??0)).reduce((e,t)=>e+t,0)*1.5),this.attrib.alter("sacrificeValue",r.units.map(e=>m[e].value).reduce((e,t)=>e+t,0)),r.units=[])}},text:["新添加的单位同样会献祭","新添加的单位同样会献祭"]},被感染的:{listener:{"round-end"(){const r=this.$ref$Player.$ref$Game.lcg.one_of(this.units.filter(e=>_(m[e])));r&&this.$ref$Player.spawn([r])}},text:["无法三连, 每回合结束时注卵随机一个单位","无法三连, 每回合结束时注卵随机一个单位"]},被感染的3:{listener:{"round-end"(){const r=this.$ref$Player.$ref$Game.lcg.one_of(this.units.filter(e=>_(m[e])));r&&this.$ref$Player.spawn(o(r,3))}},text:["无法三连, 每回合结束时注卵随机一个单位三次","无法三连, 每回合结束时注卵随机一个单位三次"]},幽灵报道0:{listener:{"round-end"(){this.obtain_unit(o("幽灵",2))}}},幽灵报道1:{listener:{"card-entered"(){const r=["T","P","Z","N"],e=this.$ref$Player.count(),t=Math.max(...r.map(i=>e[i]));if(e[this.race]!==t){for(const i of this.$ref$Player.all())if(e[i.race]===t){this.race=i.race;break}}}}},科学观察0:G(),母舰核心0:G(),母舰核心1:G(),"母舰核心(PVE)0":G(),"母舰核心(PVE)1":G(),毒气炮塔0:W(3,2,"毒气炮塔"),毒气炮塔1:{listener:{"post-sell"(){this.$ref$Player.obtain_resource({mineral:this.gold?2:1})}}},凯达琳巨石0:W(5,4,"凯达琳巨石"),凯达琳巨石1:{listener:{"round-end"(){this.obtain_unit(o("自动机炮",this.$ref$Player.all_of("P").length))}}},岗哨机枪0:W(1,1,"岗哨机枪",2,2),岗哨机枪1:{listener:{"card-entered"(){this.obtain_unit(o("岗哨机枪",this.gold?3:2))}}},行星要塞0:W(5,4,"行星要塞"),行星要塞1:{config:{unique:"normal"},listener:{"card-selled"({target:r}){r.race==="N"&&this.obtain_unit(r.filter(e=>!Ct(m[e])&&!!m[e].tag.structure))}}},星门0:{listener:{"round-end"(){this.obtain_unit(o("零件",this.gold?2:1)),this.replace(this.find("自动机炮"),"零件")}}},星门1:S(6,"星门"),自动机炮0:{listener:{"round-end"(){this.obtain_unit(o("自动机炮",this.gold?2:1))}}},自动机炮1:{listener:{"post-sell"(){const r=this.around(this.attrib.get("oldpos"));if(!r.length)return;const e=this.find("自动机炮").length;r[0].obtain_unit(o("自动机炮",e))}}},作战中心0:S(6,"作战指挥中心"),作战中心1:A("card-entered",2,r=>r.obtain_unit(o("零件",r.gold?2:1)),()=>!0,"roundend"),导弹基地0:W(1,1,"风暴对地导弹塔",2,2),导弹基地1:{listener:{"task-done"(){this.obtain_unit(o("风暴对地导弹塔",this.gold?3:2))}}},粒子光炮0:{listener:{"round-end"(){this.around().forEach(r=>{this.obtain_unit(r.filter("自动机炮",this.gold?2:1))}),this.replace(this.find("自动机炮"),"零件")}}},粒子光炮1:S(9,"粒子光炮"),再生钢0:W(2,2,"热辣贝蒂"),再生钢1:{listener:{"obtain-upgrade"(){this.$ref$Player.push_discover(this.$ref$Player.$ref$Game.lcg.shuffle(E.行星要塞衍生.map(r=>g[r])).slice(0,3).map(r=>({type:"card",card:r}))),this.obtain_unit(o("热辣贝蒂",this.gold?2:1))}}},不法之徒_反应堆_0:{refer:"反应堆:陆战队员"},不法之徒_反应堆_1:{refer:"反应堆:陆战队员(精英)"},不法之徒0:A("store-refreshed",4,r=>{r.descs=r.descs.map(e=>e==="不法之徒0"?"不法之徒1":e),r.$ref$Player.upgrade_cost=Math.max(0,r.$ref$Player.upgrade_cost-4),r.obtain_unit(["反应堆"]),r.add_desc("不法之徒_反应堆_0")},()=>!0,"instant",`任务: 刷新4次酒馆
奖励: 酒馆升级费用降低4并获得反应堆, 生产陆战队员`),不法之徒1:A("card-entered",2,r=>{r.descs=r.descs.map(e=>e==="不法之徒1"?"不法之徒2":e),r.obtain_unit(o("陆战队员",4))},()=>!0,"instant",`任务: 进场2张卡牌
奖励: 获得4个陆战队员`),不法之徒2:A("store-refreshed",4,r=>{var e;r.descs=r.descs.map(t=>t==="不法之徒2"?"不法之徒3":t),r.obtain_upgrade("强化药剂"),r.$ref$Player.push_discover((e=r.$ref$Player.$ref$Game.pool.discover(t=>t.level===r.$ref$Player.level,3))==null?void 0:e.map(t=>({type:"card",card:t})))},()=>!0,"instant",`任务: 刷新4次酒馆
奖励: 获得强化药剂升级, 获得当前酒馆等级的卡牌`),不法之徒3:A("store-refreshed",6,r=>{var e;r.descs=r.descs.map(t=>t==="不法之徒3"?"不法之徒4":t),r.descs=r.descs.map(t=>t==="不法之徒_反应堆_0"?"不法之徒_反应堆_1":t),r.$ref$Player.push_discover((e=r.$ref$Player.$ref$Game.pool.discover(t=>t.level===r.$ref$Player.level,3))==null?void 0:e.map(t=>({type:"card",card:t})))},()=>!0,"instant",`任务: 刷新6次酒馆
奖励: 获得当前酒馆等级的卡牌, 反应堆生产陆战队员(精英)`),不法之徒4:A("card-entered",4,r=>{r.descs=r.descs.map(e=>e==="不法之徒4"?"不法之徒5":e),r.$ref$Player.obtain_resource({mineral:4}),r.obtain_unit(o("攻城坦克",2))},()=>!0,"instant",`任务: 进场4张卡牌
奖励: 获得4晶体矿和2攻城坦克`),不法之徒5:A("card-entered",6,r=>{r.descs=r.descs.map(e=>e==="不法之徒5"?"不法之徒6":e),r.obtain_unit(["奥丁"])},()=>!0,"instant",`任务: 进场6张卡牌
奖励: 获得1奥丁`),不法之徒6:A("card-entered",4,r=>{r.obtain_unit(["雷神"])},()=>!0,"instant",`任务: 进场4张卡牌
奖励: 获得1雷神`),生化实验室0:{listener:{"post-deploy"({target:r}){this.$ref$Player.spawn(o("被感染的陆战队员",r.filter(e=>e!=="被感染的陆战队员"&&!!m[e].tag.biological).length))}}},紧急回收0:{listener:{"post-deploy"({target:r}){const e=r.findu(i=>_(m[i])&&!m[i].tag.heroic),t=r.around().filter(i=>i.name!=="虫卵"&&i.name!=="被感染的虫卵");this.$ref$Player.destroy(r),t.length>0&&t[0].obtain_unit(e)}}},星灵科技:{listener:{"round-end"(){this.$ref$Player.warp(o("陆战队员",this.gold?2:1))}},text:["每回合结束时, 折跃1陆战队员","每回合结束时, 折跃2陆战队员"]},星灵科技0:{listener:{"post-deploy"({target:r}){r.race!=="P"&&r.add_desc("星灵科技")}}},尖端科技0:{listener:{"post-deploy"({target:r}){r.obtain_upgrade("轨道空降")}}},超负荷0:{listener:{"post-deploy"({target:r}){this.$ref$Player.destroy(r,{extraEnter:!0})}}},机械工厂0:S(70,"休伯利安号"),机械工厂1:S(45,"战列巡航舰",9),机械工厂2:S(30,"雷神",6),机械工厂3:S(16,"攻城坦克",6),"虫卵(跳虫)0":{listener:{"post-sell"(){var e;(e=this.$ref$Player.locate("虫卵")[0])==null||e.obtain_unit(this.units)}}}}}function It(){const r={...zt(),...Et(),...Nt(),...Zt(),...Tt()},e=i=>{const n=i.split(":");return[r[n[0]],n.slice(1)]},t=i=>{let[n,a]=e(i);for(;n.refer;)[n,a]=e(n.refer);return[n,a]};for(const i in r){const n=/^(.+)(\d)$/.exec(i);n&&n[1]in g&&!r[i].text&&(r[i].text=g[n[1]].desc[Number(n[2])])}for(const i in r)if(!r[i].text){const n=r[i].refer;if(n){const[a]=e(n);r[i].text=a.text}}return t}const U=It(),St={"post-enter"(){this.attrib.get("structure")&&this.obtain_unit(o("自动机炮",this.$ref$Player.level))},"round-start"(){this.upgrades.includes("潜能超载")&&this.$ref$Player.destroy(this)},"round-end"(){this.race==="T"&&this.infr()==="高级科技实验室"&&this.fast_prod()},"post-sell"(){const r=this.find("虚空水晶塔").length;if(r>0){for(const e of this.around(this.attrib.get("oldpos")))if(e.race==="P"){e.obtain_unit(o("虚空水晶塔",r));break}}}};class oe{constructor(e,t,i=!0){this.$ref$Player=e,this.config={MaxUnit:e.config.MaxUnitPerCard,MaxUpgrade:e.config.MaxUpgradePerCard},this.attrib=new q,this.name=t.name,this.race=t.race,this.level=t.level,this.gold=!!t.attr.gold,this.color=t.attr.nocombine?"amber":t.attr.red?"red":"normal",this.belong=t.belong,this.belong==="virtual"&&this.attrib.set("void",1),t.type==="structure"&&this.attrib.set("structure",1),this.occupy=[],this.units=[],this.upgrades=[],this.descs=[],i&&this.load_unit(t)}rindex(){return this.$ref$Player.present.findIndex(e=>(e==null?void 0:e.card)===this)}index(){const e=this.rindex();return e===7?this.attrib.get("oldpos"):e}left(e=-1){var t;return e===-1&&(e=this.index()),e>0&&((t=this.$ref$Player.present[e-1])==null?void 0:t.card)||null}right(e=-1){var t;return e===-1&&(e=this.index()),e<6&&((t=this.$ref$Player.present[e+1])==null?void 0:t.card)||null}around(e=-1){return[this.left(e),this.right(e)].filter(M)}find(e,t){const i=typeof e=="string"?n=>n===e:e instanceof Array?n=>e.includes(n):e;return this.units.map((n,a)=>({u:n,i:a})).filter(({u:n})=>i(n)).map(({i:n})=>n).slice(0,t)}findu(e,t){const i=typeof e=="string"?n=>n===e:e instanceof Array?n=>e.includes(n):e;return this.units.filter(n=>i(n)).slice(0,t)}filter(e,t=-1){const i=[],n=typeof e=="string"?a=>a===e:e;return t===-1&&(t=this.units.length),this.units=this.units.filter((a,s)=>n(a,s)&&i.length<t?(i.push(a),!1):!0),i}replace(e,t){const i=typeof t=="string"?()=>t:t;e.forEach(n=>{n>=0&&n<this.units.length&&(this.units[n]=i(this.units[n]))})}post(e){const t={...e,player:this.$ref$Player.index(),card:this.rindex()};return this.$ref$Player.$ref$Game.post(t),t}answer(e){F(St,e,this);for(const t of this.descs)if(this.$ref$Player.check_unique_active(t,this.index())){const[i,n]=U(t),a=i.listener;a&&F(a,e,this,n)}}obtain_unit(e,t="normal"){const i=this.post({msg:"obtain-unit",units:e,way:t,time:"prev"});i.units=i.units.slice(0,this.config.MaxUnit-this.units.length),this.units=[...this.units,...i.units],i.units.length>0&&this.post({msg:"obtain-unit",units:i.units,way:t,time:"post"})}obtain_upgrade(e){if(!(this.upgrades.length>=this.config.MaxUpgrade||!Z[e].override&&this.upgrades.includes(e))){switch(this.upgrades.push(e),e){case"折跃援军":this.obtain_unit([...o("水晶塔",2),...o("狂热者",2),...o("激励者",2)]);break;case"修理无人机":this.obtain_unit(o("修理无人机",this.$ref$Player.level+3));break;case"黄金矿工":this.gold=!0,this.color="normal",this.clear_desc(),this.add_desc("黄金矿工0"),this.add_desc("黄金矿工1"),this.fix_upgrade();break;case"献祭":{const i=n=>n==="莎拉·凯瑞甘"||n==="刀锋女王"?1e4:m[n].value;if(this.units.length<=1)this.attrib.set("sacrifice",0),this.attrib.set("extraValue",0);else{const{index:n}=K(this.units,(h,d)=>h>d,i),a=this.filter((h,d)=>d!==n).map(h=>m[h]),s=a.map(h=>h.health+(h.shield||0)).reduce((h,d)=>h+d,0)*1.5,c=a.map(h=>this.$ref$Player.get_unit_value(h.name)).reduce((h,d)=>h+d,0);this.attrib.set("sacrifice",s),this.attrib.set("extraValue",c)}this.add_desc("献祭");break}case"原始尖塔":this.add_desc("原始尖塔");break}this.post({msg:"obtain-upgrade",upgrade:e})}}infr(){const e=["反应堆","科技实验室","高级科技实验室"],t=this.units.findIndex(i=>e.includes(i));return t===-1?!1:this.units[t]}self_power(){return(this.find(e=>["水晶塔","虚空水晶塔"].includes(e)).length+this.attrib.get("供能"))*this.$ref$Player.config.ProtossPowerMultiplier}power(){return(this.$ref$Player.config.ProtossPowerAll?this.$ref$Player.all():this.around().concat(this)).map(e=>e.self_power()).reduce((e,t)=>e+t,0)}infr_changed(){this.$ref$Player.post({msg:"infr-changed",target:this}),this.fast_prod()}fast_prod(){this.post({msg:"fast-produce"})}switch_infr(){const e=this.infr();e&&e!=="高级科技实验室"&&(this.units[this.units.indexOf(e)]=e==="反应堆"?"科技实验室":"反应堆",this.infr_changed())}upgrade_infr(){const e=this.infr();e&&e!=="高级科技实验室"&&(this.units[this.units.indexOf(e)]="高级科技实验室",this.infr_changed())}hatch(e){this.post({msg:"req-hatch",id:e})}regroup(e){this.post({msg:"req-regroup",id:e})}gain_darkness(e){this.attrib.has("dark")&&(this.attrib.alter("dark",e),e>0&&this.post({msg:"obtain-darkness",darkness:e}))}set_void(){this.attrib.set("void",1)}seize(e,t){t!=null&&t.fake||this.$ref$Player.post({msg:"seize",target:e,from:this}),this.obtain_unit(e.units),t!=null&&t.withUpgrade&&e.upgrades.forEach(i=>this.obtain_upgrade(i)),this.$ref$Player.destroy(e)}add_desc(e){var i;this.descs.push(e);const[t]=U(e);if((i=t.config)!=null&&i.init)for(const n in t.config.init)this.attrib.alter(n,t.config.init[n][this.gold?1:0])}fix_upgrade(){this.upgrades.forEach(e=>{switch(e){case"献祭":this.add_desc("献祭");break;case"原始尖塔":this.add_desc("原始尖塔");break}})}load_desc(e,t=!0){e.desc.map((i,n)=>`${e.name}${n}`).forEach(i=>{this.add_desc(i)}),t&&this.fix_upgrade()}load_unit(e,t=!0,i=()=>!0){const n=Object.keys(e.unit).filter(i).map(a=>o(a,e.unit[a])).flat();t?this.units=[...this.units,...n].slice(0,this.config.MaxUnit):this.obtain_unit(n)}clear_desc(){var e;for(const t of this.descs){const[i]=U(t);if((e=i.config)!=null&&e.deinit)for(const n in i.config.deinit)this.attrib.alter(n,i.config.deinit[n][0])}this.descs=[]}value(){return this.units.map(e=>this.$ref$Player.get_unit_value(e)).reduce((e,t)=>e+t,this.attrib.get("extraValue"))}extraNote(){const e=[];switch(this.attrib.get("structure")&&e.push("建筑卡"),this.belong){case"primal":e.push("属于原始虫群");break;case"virtual":e.push("属于虚影");break}if(this.race==="T"){const t=this.infr();t&&e.push(t)}if((this.race==="P"||this.power()>0)&&e.push(`能量强度: ${this.power()}`),this.attrib.has("dark")&&e.push(`黑暗值: ${this.attrib.get("dark")}`),this.attrib.get("void")){const t=this.$ref$Player.count();e.push(`虚空投影: ${Object.keys(t).map(i=>t[i]?1:0).reduce((i,n)=>i+n,-1)*15+this.$ref$Player.get_extra_void()}%`)}return this.attrib.has("sacrifice")&&e.push(`献祭的生命值: ${this.attrib.get("sacrifice")}`),e}}const xe={传送:{desc:"所有幽灵能使用紧急传送并且增加30点生命值上限",multi:!1},穿甲弹:{desc:"所有幽灵能发射穿甲弹并且增加30点生命值上限",multi:!1},潜能:{desc:"所有幽灵生命值减少10%, 能够使用潜能",multi:!1},病毒弹:{desc:"所有幽灵能使用病毒弹并且增加30点生命上限",multi:!1},攻速:{desc:"所有幽灵生命值减少10%, 攻速翻倍",multi:!1},EMP:{desc:"所有幽灵生命值减少10%, 能发射EMP弹",multi:!1},近战:{desc:"所有幽灵武器变为近战并且增加70%生命值",multi:!1},强化剂:{desc:"所有幽灵能使用超级强化剂并且增加30点生命值上限",multi:!1},生命:{desc:"所有幽灵增加80点生命值上限",multi:!0},射程:{desc:"所有幽灵武器射程+2",multi:!0}},Pe={1:"混合体掠夺者",2:"混合体天罚者",3:"混合体毁灭者",4:"混合体巨兽",5:"混合体支配者",6:"混合体实验体"},Ae={原始蟑螂:"原始点火虫",原始刺蛇:"原始穿刺者",原始异龙:"原始守卫",暴掠龙:"毒裂兽",原始雷兽:"原始暴龙兽",德哈卡分身:"德哈卡"};function we(r,e){function t(n,a){function s(x){const $=x.int(100,21);return $<=30?"守卫":$<=35?"破坏者":$<=50?"跳虫":$<=60?"蟑螂":$<=70?"异龙":$<=80?"爆虫":$<=90?"刺蛇":"虫后"}function c(x){const $=x.int(30,1);return $<=5?"雷兽":$<=10?"潜伏者":$<=20?"异龙(精英)":"刺蛇(精英)"}function h(x){const $=x.int(10,1);return $<=1?"利维坦":$<=2?"王兽":$<=4?"莽兽":$<=6?"飞蛇":$<=8?"感染者":"巢虫领主"}const d=n.int(a,1),v=d<=5?3:d<=20?2:1;return{from:s(n),to:v===3?h(n):v===2?c(n):s(n),count:v===3?1:v===2?n.int(2,1):n.int(5,2)}}const i=[];for(;i.length<3;){const n=t(r,e);i.findIndex(a=>a.from===n.from&&a.to===n.to)===-1&&i.push(n)}return i}function Gt(){const r={白板:{},执政官:{init(){this.enable=!0},listener:{"round-enter"(){this.enable=!0}},ability(e){if(!this.enable)return;const t=e.query_selected_present(),i=t==null?void 0:t.right();if(!t||!i||t.race===i.race||t.color!=="normal"||i.color!=="normal")return;const n=t.descs;switch(i.name=`${i.name}x${t.name}`,i.color="amber",i.belong="none",i.race=i.race==="N"?t.race:t.race!=="N"?"N":i.race,i.occupy.push(...t.occupy),i.seize(t,{fake:!0,withUpgrade:!0}),i.attrib.load(t.attrib,["任务"]),n.forEach(a=>i.add_desc(a)),this.attrib.mode??0){case 0:this.enable=!1;break;case 1:e.push_discover(xt.map(a=>({type:"upgrade",upgrade:Z[a]})),{target:i.index()}),this.enable=!1;break;case 2:e.obtain_resource({mineral:3});break}}},狂热者:{},陆战队员:{init(){this.enable=!0},listener:{"round-enter"(){this.enable=!0},"get-buy-cost"(e){this.attrib.mode===2&&this.record[e.cardt]&&(e.cost=1)},refreshed(e,t){if(this.attrib.mode===2){const i=this.record;t.store.forEach(n=>{n&&(n.special=!!i[n.card])})}}},ability(e){var t;if(this.enable)if(this.attrib.mode===2){const i=this.record,n=e.query_selected_store();if(!n||i[n])return;i[n]=1,e.store[e.selected.place]=null,e.obtain_card(n),e.store.forEach(a=>{a&&(a.special=!!i[a.card])}),this.enable=!1}else{if(e.mineral<2)return;e.obtain_resource({mineral:-2}),e.push_discover((t=e.$ref$Game.pool.discover(i=>i.level===Math.max(1,e.level-1),3))==null?void 0:t.map(i=>({type:"card",card:i}))),this.attrib.mode!==1&&(this.enable=!1)}},record(){if(this.attrib.mode===2){const e=this.record;return Object.keys(e)}else return[]}},收割者:{init(e){e.config.AlwaysInsert=!0},listener:{"get-buy-cost"(e){g[e.cardt].attr.insert&&(e.cost=Math.min(this.attrib.mode===1?1:2,e.cost))}}},幽灵:{init(){this.progress.cur=1,this.progress.max=2,this.record={}},listener:{"round-enter"(){this.enable=!0},"discover-finish"({ctx:e}){if(e.id!==this.attrib.discoverId)return;delete this.attrib.discoverId;const t=this.record,i=e.item[e.choice].str;t[i]=(t[i]??0)+1},"get-unit-value"(e){if(e.unit==="幽灵"){const t=this.record,i=Object.keys(t).map(n=>t[n]).reduce((n,a)=>n+a,0);e.value+=70*i}}},ability(e){if(this.attrib.mode!==1)this.progress.cur=3-this.progress.cur;else{if(e.mineral<2)return;e.obtain_resource({mineral:-2});const t=this.record,i=Object.keys(xe).filter(n=>xe[n].multi||!t[n]);this.attrib.discoverId=e.push_discover(e.$ref$Game.lcg.shuffle(i).slice(0,3).map(n=>({type:"custom",str:n})),{fake:!0}),this.enable=!1}},record(){const e=this.record;return Object.keys(e).map(t=>`${t}: ${e[t]}`)}},感染虫:{init(){this.enable=!0},listener:{"round-enter"(){this.enable=!0}},ability(e){if(!this.enable)return;const t=e.query_selected_present();t&&(this.attrib.mode!==1&&t.race!=="T"||(t.filter(i=>i==="反应堆"),t.name=`被感染的${t.name}`,t.color="amber",t.race="Z",t.clear_desc(),t.add_desc(this.attrib.mode===2?"被感染的3":"被感染的"),t.fix_upgrade(),this.enable=!1))}},SCV:{init(){this.enable=!0},listener:{"round-start"(){this.attrib.mode===1&&(this.progress.cur+=3),this.enable=!0}},ability(e){if(!this.enable)return;const t=e.query_selected_present();!t||t.race!=="T"||[!1,"高级科技实验室"].includes(t.infr())||(t.switch_infr(),this.attrib.mode===1?(this.progress.cur-=1,this.enable=this.progress.cur>0):(this.enable=!1,this.attrib.mode===2&&e.mineral>=1&&(e.obtain_resource({mineral:-1}),this.enable=!0)))}},阿巴瑟:{init(){this.enable=!0},listener:{"round-start"(){this.enable=!0},"discover-finish"({ctx:e},t){if(e.id!==this.attrib.discoverId)return;const i=t.query_selected_present();i&&(i.clear_desc(),i.load_desc(e.item[e.choice].card,!0),i.post({msg:"post-enter"}))}},ability(e){var t,i;if(this.enable)switch(this.attrib.mode??0){case 0:{const n=e.query_selected_present();if(!n||e.mineral<2)return;e.obtain_resource({mineral:-2});const a=Math.min(6,n.level+1);e.destroy(n),e.push_discover((t=e.$ref$Game.pool.discover(s=>s.level===a,3))==null?void 0:t.map(s=>({type:"card",card:s}))),this.enable=!1;break}case 1:{const n=e.query_selected_present();if(!n||e.mineral<1)return;e.obtain_resource({mineral:-1});const a=Math.min(6,n.level+1);this.attrib.discoverId=e.push_discover((i=e.$ref$Game.pool.discover(s=>s.level===a,3))==null?void 0:i.map(s=>({type:"card",card:s})),{fake:!0}),this.enable=!1;break}case 2:{if(this.progress.cur<3)return;const n=e.query_selected_present();if(n)n.upgrades.length<n.config.MaxUpgrade&&(n.obtain_upgrade("生物突变"),this.progress.cur-=3);else if(e.query_selected_store()){const c=["核心",...ae].map(d=>E[d]).flat().map(d=>g[d]).filter(d=>d.level===6),h=e.$ref$Game.lcg.one_of(c);h&&(e.store[e.selected.place]={card:h.name,special:!1},this.progress.cur-=3)}}}}},工蜂:{listener:{"round-enter"({round:e},t){e%2===1?t.obtain_resource({gas:1}):t.obtain_resource({mineral:1}),this.attrib.mode===1&&t.$ref$Game.player.forEach(i=>{i&&i.life>0&&(e%2===1?i.obtain_resource({gas:1}):i.obtain_resource({mineral:1}))})}},ability(e){this.attrib.mode===2&&e.gas>=1&&e.obtain_resource({mineral:4,gas:-1})}},王虫:{init(){this.progress.cur=0,this.progress.max=1},listener:{"round-start"(){this.attrib.mode!==1&&(this.progress.cur=0)},"card-selled"({target:e},t){this.attrib.mode!==1&&(this.progress.cur+=1),this.progress.cur===1&&this.attrib.mode===2&&e.occupy.length>0&&t.obtain_card(e.occupy[0])}}},蟑螂:{},副官:{init(){},listener:{"round-enter"(e,t){t.attrib.alter("free-refresh",1),this.attrib.mode===1?t.obtain_resource({mineral:t.attrib.get("副官")}):t.obtain_resource({mineral:t.attrib.get("副官")?1:0})},"round-leave"(e,t){t.nextAttrib.set("副官",t.mineral)},refreshed(e,t){e.cost===0&&this.attrib.mode===2&&t.mineral<t.mineral_max&&t.obtain_resource({mineral:1})}}},追猎者:{init(){this.progress.cur=0,this.progress.max=5},listener:{"round-enter"(){this.enhance||(this.attrib.first=1)},refreshed(){this.enhance||(this.progress.cur+=1,this.progress.cur===this.progress.max&&(this.progress.cur=-1,this.enhance=!0))},bought(e,t){(this.enhance||this.attrib.first)&&(this.attrib.first=0,t.do_refresh())},"card-selled"(e,t){this.attrib.mode===1&&t.do_refresh()}}},使徒:{init(){this.progress.max=2},listener:{"round-enter"(){this.attrib.mode||(this.progress.cur=0)},bought(e){this.attrib.mode||e.action!=="combine"&&(this.progress.cur+=1,this.enhance=this.progress.cur===this.progress.max)},"get-buy-cost"(e){if(!this.attrib.mode){if(e.action==="combine")return;this.progress.cur===this.progress.max&&(e.cost=Math.min(e.cost,1))}}},ability(e){this.attrib.mode===1&&(e.store.filter(M).forEach(t=>{e.obtain_card(t.card)}),this.enable=!1)},record(){return this.attrib.mode===2?[this.record??""]:[]}},矿骡:{init(){this.attrib.used=0},listener:{"round-enter"(e,t){this.attrib.mode?this.progress.cur+=3:this.attrib.used?(t.mineral-=t.mineral_max-2,this.attrib.used=0):this.enable=!0}},ability(e){this.enable&&(this.attrib.mode||e.mineral>=e.mineral_max||(e.obtain_resource({mineral:e.mineral_max-e.mineral}),this.enable=!1,this.attrib.used=1))}},斯台特曼:{listener:{"round-enter"(e,t){e.round>1&&t.obtain_resource({gas:-1})},"tavern-upgraded"(e,t){t.obtain_resource({gas:1})},"card-entered"({target:e},t){t.push_discover(se(t.$ref$Game.lcg,3).map(i=>Z[i]).map(i=>({type:"upgrade",upgrade:i})),{target:e.index()})}},ability(e){const t=e.query_selected_present();if(!t)return;const i=t.upgrades,n=t.around();e.destroy(t),e.obtain_resource({mineral:3}),n.forEach(a=>{i.forEach(s=>{a.obtain_upgrade(s)})})}},雷诺:{init(){this.enable=!0},listener:{"round-enter"(){this.attrib.mode===2&&(this.enable=!this.attrib.used,this.attrib.used=0)}},ability(e){if(!this.enable)return;const t=e.query_selected_present();t&&(this.attrib.mode!==2&&t.level>=6||(t.gold=!0,t.obtain_upgrade("金光闪闪"),this.enable=!1,this.attrib.used=1))}},阿塔尼斯:{init(){this.progress.cur=0,this.progress.max=9},listener:{"round-enter"(){this.attrib.mode===1&&(this.enable=!0)},"card-entered"({target:e},t){this.attrib.mode!==1&&this.progress.cur<this.progress.max&&e.race==="P"&&(this.progress.cur+=1,this.progress.cur===this.progress.max&&(this.progress.cur=-1,e.name="大主教的卫队",e.level=7,e.color="amber",e.load_desc(g.阿塔尼斯),e.load_unit(g.阿塔尼斯)))}},ability(e){if(!this.enable)return;const t=e.query_selected_present();if(!t||t.race!=="P")return;const{unit:i}=K(t.units.filter(n=>_(m[n])));i&&(t.clear_desc(),t.add_desc(`集结:${t.level}:0:折跃:${i}:1:2`),t.fix_upgrade(),t.obtain_unit(o("水晶塔",2)),this.enable=!1)}},科学球:{init(){this.progress.max=2,this.progress.cur=2,this.enable=!0,this.record={}},listener:{"card-entered"({target:e},t){const{unit:i}=K(e.units),n=this.record;if(i)if(this.attrib.mode!==1)n[i]=(n[i]??0)+1;else{if(e.name==="科学观察")return;const a=t.locate("科学观察");a.length>0&&(a[0].obtain_unit([i]),this.progress.cur+=1)}},"card-selled"({target:e},t){const{unit:i}=K(e.units);if(i&&this.attrib.mode===1){const n=t.locate("科学观察");n.length>0&&(n[0].obtain_unit([i]),this.progress.cur+=1)}}},ability(e){if(this.enable&&this.attrib.mode!==1){if(this.attrib.mode===2){const t=e.query_selected_present();if(t){const i=this.record;t.obtain_unit(Object.keys(i).map(n=>o(n,i[n])).flat())}}else{if(e.gas<1||!e.can_enter("观察样本"))return;const t=e.enter("观察样本");if(t){const i=this.record;t.obtain_unit(Object.keys(i).map(n=>o(n,i[n])).flat()),e.obtain_resource({gas:-1})}}this.progress.cur-=1,this.enable=this.progress.cur>0}},record(){if(this.attrib.mode===1)return[];{const e=this.record;return Object.keys(e).map(t=>`${t}: ${e[t]}`)}}},母舰核心:{init(){this.progress.cur=0,this.progress.max=2},listener:{"round-enter"({round:e},t){e===1&&(t.obtain_resource({mineral:-3}),t.enter(t.$ref$Game.config.Pve?"母舰核心(PVE)":"母舰核心"))},"card-combined"(e,t){const i=t.locate(["母舰核心","母舰核心(PVE)"]);i.length&&(i.forEach(n=>{n.gold&&t.$ref$Game.config.Pve?n.obtain_unit([...o("侦察机(精英)",t.level),...o("虚空辉光舰(精英)",t.level),...o("风暴战舰(精英)",t.level)]):n.obtain_unit(o("虚空辉光舰",t.level))}),this.progress.cur<this.progress.max&&(this.progress.cur+=1,this.progress.cur===this.progress.max&&i.forEach(n=>{n.replace(n.find("母舰核心",1),"母舰")})))},"get-buy-cost"(e,t){t.attrib.get("母舰核心:核心超载")&&(e.cost=Math.min(2,e.cost))},bought(e,t){t.attrib.get("母舰核心:核心超载")&&(t.store[e.place]={card:e.cardt,special:!1})}},ability(e){this.enable&&(e.attrib.set("母舰核心:核心超载",1),this.enable=!1)}},行星要塞:{listener:{"round-enter"(){this.enable=!0}},ability(e){this.enable&&(e.mineral<3||(e.obtain_resource({mineral:-3}),e.push_discover(e.$ref$Game.lcg.shuffle(E.行星要塞衍生.map(t=>g[t])).slice(0,3).map(t=>({type:"card",card:t}))),this.enable=!1))}},拟态虫:{init(){this.attrib.pos=-1},listener:{"round-enter"(){this.enable=!0}},ability(e){if(!this.enable)return;const t=e.query_selected_present();if(!t||e.mineral<2||t.index()===this.attrib.pos)return;const i=e.$ref$Game.pool.discover(n=>n.level===e.level,1);i&&(t.load_unit(i[0],!1,n=>_(m[n])),this.attrib.pos=t.index(),e.$ref$Game.pool.drop(i),e.obtain_resource({mineral:-2}),this.enable=!1)}},探机:{listener:{"card-entered"({target:e}){e.obtain_unit(["水晶塔"])},"round-enter"(){this.enable=!0}},ability(e){if(!this.enable)return;const t=e.query_selected_present();!t||e.mineral<1||t.find("水晶塔").length<1||(t.replace(t.find("水晶塔",1),"虚空水晶塔"),e.obtain_resource({mineral:-1}),this.enable=!1)}},泰凯斯:{listener:{"round-enter"({round:e},t){if(e===1){t.obtain_resource({mineral:-3});const i=t.enter("不法之徒");i==null||i.add_desc("不法之徒0")}}}},诺娃:{listener:{"round-enter"(e,t){t.push_discover(t.$ref$Game.lcg.shuffle(E.辅助卡.map(i=>g[i])).slice(0,2).map(i=>({type:"card",card:i})))}}},思旺:{ability(e){const t=e.query_selected_present();if(!t||e.locate("机械工厂").length===0&&!e.enter("机械工厂"))return;const i=e.locate("机械工厂");i.length&&i[0].obtain_unit(o("零件",t.filter(n=>!!m[n].tag.mechanical).length))}},跳虫:{init(e){e.config.ZergEggCard="虫卵(跳虫)"},listener:{"tavern-upgraded"({level:e},t){e===4&&(t.config.ZergEggCount=2)}}},蒙斯克:{init(){this.progress.cur=12,this.enable=!0},listener:{"round-enter"(){this.progress.cur>0&&(this.progress.cur-=3)}},ability(e){e.mineral<this.progress.cur||(e.all().forEach(t=>{t.replace([...t.find("战列巡航舰",1),...t.find("雷神",1),...t.find("攻城坦克",1),...t.find(["维京战机","维京战机<机甲>"],1)].slice(0,1),wt)}),e.obtain_resource({mineral:-this.progress.cur}),this.progress.cur=9)}},雷神:{init(){this.enable=!0},listener:{"tavern-upgraded"(){this.enable=!0},"discover-finish"({ctx:e},t){var a;if(e.id!==this.attrib.discoverId||(delete this.attrib.discoverId,e.choice===-1))return;const i=(a=t.present[this.attrib.target])==null?void 0:a.card;if(!i)return;i.clear_desc();const n=e.item[e.choice];n.type==="card"&&(i.load_desc(n.card,!0),i.post({msg:"post-enter"}),this.enable=!1)}},ability(e){if(!this.enable)return;const t=e.query_selected_present();if(!t||t.level>=6)return;this.attrib.target=t.index();const i=E.核心.map(n=>g[n]).filter(n=>n.race===t.race&&n.level===t.level);this.attrib.discoverId=e.push_discover(i.filter(n=>n.name!==t.name).map(n=>({type:"card",card:n})),{extra:"取消",fake:!0})}},机械哨兵:{init(){this.progress.max=3,this.progress.cur=3},listener:{"round-enter"(){this.enable=this.progress.cur>0}},ability(e){if(!this.enable)return;const t=e.query_selected_present();!t||t.level>=5||t.occupy.length===0||e.mineral<4||(e.obtain_resource({mineral:-4}),e.obtain_card(t.occupy[0]),this.progress.cur-=1,this.enable=!1)}},异龙:{init(){this.enable=!0},listener:{"tavern-upgraded"(){this.enable=!0}},ability(e){var t;this.enable&&(e.mineral<2||(e.obtain_resource({mineral:-2}),this.enable=!1,e.push_discover((t=e.$ref$Game.pool.discover(i=>i.race==="Z"&&i.level<=e.level,4,!1))==null?void 0:t.map(i=>({type:"card",card:i})))))}},医疗兵:{listener:{"round-enter"(){this.enable=!0}},ability(e){if(!this.enable)return;const t=e.query_selected_present();if(!t)return;const i=t.units.map(a=>m[a]).filter(a=>_(a)&&a.tag.biological&&!a.tag.heroic);e.destroy(t);const n=e.all();for(const[a,s]of n.entries())s.obtain_unit(i.filter((c,h)=>h%n.length===a).map(c=>c.name));e.obtain_resource({mineral:1}),this.enable=!1}},分裂池:{init(e){e.config.AlwaysHatch=!0},listener:{"round-enter"(){this.enable=!0}},ability(e){if(!this.enable)return;const t=e.query_selected_present();t&&(t.hatch(-1),this.enable=!1)}},响尾蛇:{init(){this.progress.cur=0,this.progress.max=3},listener:{"tavern-upgraded"(){this.progress.cur===3&&(this.progress.cur=0)},"store-refreshed"(e,t){if(this.progress.cur<this.progress.max&&(this.progress.cur+=1,this.progress.cur===this.progress.max)){const n=["核心",...ae].map(a=>E[a]).flat().map(a=>g[a]).filter(a=>a.level===t.level);t.$ref$Game.lcg.shuffle(n),t.push_discover(n.slice(0,t.level===6?3:4).map(a=>({type:"card",card:a})),{nodrop:!0})}}}},混合体:{listener:{"round-leave"(e,t){var i;for(let n=1;n<=6;n++){const a=t.all_of("P").filter(c=>c.level===n),s=t.all_of("Z").filter(c=>c.level===n);for(;a.length>0&&s.length>0;)(i=t.$ref$Game.lcg.one_of([a.shift(),s.shift()]))==null||i.obtain_unit([Pe[n]])}}},ability(e){if(!this.enable)return;const t=e.query_selected_present();if(t){switch(this.attrib.mode){case 1:t.set_void(),t.obtain_upgrade("虚空能量");break;case 2:t.obtain_unit([Pe[e.level]]);break}this.enable=!1}}},德哈卡:{init(){this.progress.cur=0,this.enable=!0},listener:{"round-enter"(e,t){this.progress.cur+=t.gas}},ability(e){const t=e.query_selected_present();if(t)if(t.belong==="primal"){if(this.progress.cur<1)return;const i=t.find(a=>a in Ae),n=e.$ref$Game.lcg.one_of(i);typeof n=="number"&&(t.replace([n],a=>Ae[a]),this.progress.cur-=1)}else{if(this.progress.cur<6)return;t.clear_desc(),t.name="原始刺蛇",t.level=2,t.race="N",t.belong="primal",t.color!=="normal"&&(t.color="normal",t.gold=!0),t.load_desc(g.原始刺蛇,!0),this.progress.cur-=6}}},星港:{listener:{"round-enter"(e,t){t.all().forEach(i=>{i.replace(i.find(n=>_(m[n])&&!!m[n].tag.air,t.level-1),n=>m[n].tag.heroic?"战列巡航舰":"怨灵战机")})},"round-leave"(e,t){t.all().forEach(i=>{const{unit:n}=K(i.units.filter(a=>!m[a].tag.heroic&&m[a].tag.air));n&&i.replace(i.find("怨灵战机",1),n)})}}},进化腔:{listener:{"round-enter"({round:e},t){if(e===1)return;this.attrib.rate=100;const i=we(t.$ref$Game.lcg,this.attrib.rate);this.attrib.discoverId=t.push_discover(i.map(n=>({type:"custom",str:`${n.count}${n.from} -> ${n.count}${n.to}`})),{extra:t.mineral>=1?"刷新":void 0,fake:!0,data:i})},"discover-finish"({ctx:e},t){if(e.id!==this.attrib.discoverId)return;const i=e.data;if(delete this.attrib.discoverId,e.choice===-1){if(t.mineral<1){this.attrib.discoverId=t.push_discover(i.map(a=>({type:"custom",str:`${a.count}${a.from} -> ${a.count}${a.to}`})),{extra:t.mineral>=1?"刷新":void 0,fake:!0,data:i});return}t.obtain_resource({mineral:-1}),this.attrib.rate=Math.max(0,this.attrib.rate-5);const n=we(t.$ref$Game.lcg,this.attrib.rate);this.attrib.discoverId=t.push_discover(n.map(a=>({type:"custom",str:`${a.count}${a.from} -> ${a.count}${a.to}`})),{extra:t.mineral>=1?"刷新":void 0,fake:!0,data:n})}else{const n=i[e.choice],a=[n.from],s=[n.to,n.to];Q(t.$ref$Game.config.ActiveUnit,a[0])&&a.push(P(a[0])),Q(t.$ref$Game.config.ActiveUnit,s[0])&&(s[1]=P(s[0])),t.all_of("Z").forEach(c=>{c.replace(c.find(a,n.count),h=>h===a[0]?s[0]:s[1])})}}}},锻炉:{init(){this.progress.cur=0},listener:{"card-selled"({target:e}){e.name!=="虫卵"&&e.name!=="被感染的虫卵"&&(this.progress.cur=Math.min(50,this.progress.cur+2))}}},扎加拉:{listener:{"round-enter"(e,t){if(t.all().length>=6){const i=Math.max(...t.all().map(a=>a.value()));t.destroy(t.all().filter(a=>a.value()===i)[0]);const n=Math.min(...t.all().map(a=>a.value()));t.destroy(t.all().filter(a=>a.value()===n)[0]),t.obtain_resource({mineral:11})}}}},大力神:{init(){this.record={}},listener:{"round-enter"({round:e},t){var i,n;switch(this.enable=!0,e){case 1:this.attrib.dis5=t.push_discover((i=t.$ref$Game.pool.discover(a=>a.level===5,3))==null?void 0:i.map(a=>({type:"card",card:a})),{fake:!0,dropall:!0}),this.attrib.dis3=t.push_discover((n=t.$ref$Game.pool.discover(a=>a.level===3,3))==null?void 0:n.map(a=>({type:"card",card:a})),{fake:!0,dropall:!0});break}},"tavern-upgraded"({level:e},t){const i=this.record;switch(e){case 2:case 4:t.upgrade_cost+=1;break;case 3:t.obtain_card(i[3]);break;case 5:t.obtain_card(i[5]);break}},"discover-finish"({ctx:e}){const t=this.record;e.id===this.attrib.dis3?t[3]=e.item[e.choice].card.name:e.id===this.attrib.dis5&&(t[5]=e.item[e.choice].card.name)},"insert-finish"({ctx:e},t){if(e.id!==this.attrib.swapId||e.choice===this.attrib.swapedIndex)return;const i=t.present[this.attrib.swapedIndex];t.present[this.attrib.swapedIndex]=t.present[e.choice],t.present[e.choice]=i,this.enable=!1}},ability(e){if(!this.enable)return;const t=e.query_selected_present();t&&(this.attrib.swapedIndex=t.index(),this.attrib.swapId=e.push_insert(null))},record(){const e=this.record;return Object.keys(e).map(t=>`${t}: ${e[t]}`)}},凯瑞甘:{init(){this.progress.cur=0,this.progress.max=5},listener:{"tavern-upgraded"(e,t){t.attrib.alter("free-refresh",1)},"round-enter"(){this.progress.cur=0},bought({action:e},t){e!=="combine"&&(this.progress.cur+=1,this.progress.cur===this.progress.max&&t.set_role("凯瑞甘(异虫形态)"))}}},"凯瑞甘(异虫形态)":{init(e){this.enhance=!0,e.gas=0,e.gas_max=0,e.all().forEach(t=>{t.occupy.length>0&&t.load_unit(g[t.occupy[0]],!0)})},listener:{"card-entered"({target:e},t){t.push_discover(t.$ref$Game.lcg.shuffle(ne.map(i=>Z[i]).filter(i=>i.category==="combine")).slice(0,3).map(i=>({type:"upgrade",upgrade:i})),{target:e.index()})}}},米拉:{init(){this.progress.cur=6},listener:{"card-entered"({target:e},t){e.level>this.progress.cur&&t.obtain_resource({mineral:1}),this.progress.cur=e.level}}},先知:{init(){this.enable=!0},listener:{"round-enter"(){this.enhance=!0},"upgrade-cancelled"(e,t){this.enhance&&(this.enhance=!1,t.obtain_resource({gas:1}))}},ability(e){if(!this.enable)return;const t=e.query_selected_present();!t||t.upgrades.length===t.config.MaxUpgrade||(e.push_discover(e.$ref$Game.lcg.shuffle(ne.map(i=>Z[i]).filter(i=>i.category==="combine")).slice(0,3).map(i=>({type:"upgrade",upgrade:i})),{target:t.index()}),this.enable=!1)}},阿尔达瑞斯:{listener:{"get-buy-cost"(e,t){const i=t.store[e.place];i&&i.special&&(e.cost=Math.min(e.cost,2),e.time==="real"&&(i.special=!1))},refreshed(e,t){t.store.forEach(i=>{i&&(i.special=!1)})},"round-leave"(e,t){t.locked&&t.store.forEach(i=>{i&&(i.special=!0)})}}},斯托科夫:{init(){this.progress.cur=0},listener:{"round-enter"(e,t){this.enable=t.life>this.progress.cur},"tavern-upgraded"(){this.progress.cur+=3}},ability(e){this.enable&&(e.life-=this.progress.cur,e.do_refresh(t=>e.$ref$Game.pool.discover(i=>i.level===e.level,t)),this.enable=!1)}},解放者:{init(e){this.enable=!1,this.attrib.fr=1,e.attrib.alter("free-refresh",1)},listener:{"round-enter"(e,t){this.enable=!0,this.attrib.fr=1,t.attrib.alter("free-refresh",1)},refreshed({cost:e},t){e>0?(this.attrib.fr=1,t.attrib.alter("free-refresh",1)):this.attrib.fr=0},"get-buy-cost"(e){e.cost=4}},ability(e){this.attrib.fr&&e.attrib.alter("free-refresh",-1),delete this.attrib.fr,e.set_role("解放者(防卫模式)",!0)}},"解放者(防卫模式)":{init(e){this.enable=!1,e.config.RefreshDisabled=!0},listener:{"round-enter"(){this.enable=!0},"get-buy-cost"(e){e.cost=Math.min(e.cost,2)}},ability(e){e.config.RefreshDisabled=!1,e.set_role("解放者",!0)}},干扰者:{listener:{"round-enter"(e,t){const i=t.hand.filter(M).map(n=>g[n.card]).filter(n=>n.type!=="support").length;t.upgrade_cost=Math.max(t.upgrade_cost-Math.max(i-2,0),0)}}}};for(const e in r){const t=r[e];t.init=t.init||(()=>{}),t.listener=t.listener||{},t.ability=t.ability||(()=>{}),t.record=t.record||(()=>[])}return r}const Kt=Gt();function Mt(){const r={混沌洪流:{init(){this.role.attrib.mode=1}},无限融合:{init(){this.role.attrib.mode=2}},狂热冲锋:{init(){for(this.role.attrib.mode=1;this.level<4;)this.do_tavern_upgrade()}},能量提速:{init(){this.role.attrib.mode=2}},自动装填:{init(){this.role.attrib.mode=1}},紧急征召:{init(){this.role.attrib.mode=2,this.role.record={}}},收割行动:{init(){this.role.attrib.mode=1}},强化药剂:{init(){this.role.attrib.mode=2,this.role.attrib.speed=0},listener:{"battle-result"({win:e}){this.role.attrib.mode===2&&e&&(this.role.attrib.speed+=12)}},count(){return this.role.attrib.speed}},幽灵报道:{init(){this.role.attrib.mode=1,this.role.progress.max=-1,this.role.progress.cur=-1,this.role.enable=!0,this.enter("幽灵报道")}},暗影猎杀:{init(){this.role.attrib.mode=2}},寄生细胞:{init(){this.role.attrib.mode=1}},双生虫卵:{init(){this.role.attrib.mode=2}},备用钻头:{init(){this.role.attrib.mode=1,this.role.progress.cur=3}},自动修理:{init(){this.role.attrib.mode=2}},进化分支:{init(){this.role.attrib.mode=1}},改造突变:{init(){this.role.attrib.mode=2,this.role.progress.cur=0},listener:{"battle-result"({win:e}){e?this.role.progress.cur+=2:this.role.progress.cur+=1}}},过量采集:{init(){this.role.attrib.mode=1}},采集蜂群:{init(){this.role.attrib.mode=2,this.role.enable=!0}},充气甲壳:{init(){this.role.attrib.mode=1}},超距视界:{init(){this.role.attrib.mode=2}},再生护甲:{init(){this.role.attrib.mode=1,this.role.attrib.shield=0},listener:{"round-end"(){this.life=Math.min(100,this.life+10)},"battle-result"({win:e}){e||(this.role.attrib.shield+=4)}},count(){return this.role.attrib.shield??0}},荆棘外壳:{init(){this.role.attrib.mode=2}},护盾封存:{init(){this.role.attrib.mode=1}},能量视界:{init(){this.role.attrib.mode=2}},暗影追踪:{init(){this.role.attrib.mode=1,this.role.enhance=!0,this.role.progress.cur=-1}},闪现充能:{init(){this.role.attrib.mode=2,this.attrib.alter("free-refresh",5)},listener:{"round-enter"(){this.attrib.alter("free-refresh",5)}}},灵能传送:{init(){this.role.attrib.mode=1,this.role.progress.cur=-1,this.role.enable=!0},listener:{"tavern-upgraded"(){this.role.enable=!0}}},共鸣之刃:{init(){this.role.attrib.mode=2,this.role.progress.cur=-1,this.role.enhance=!0},listener:{"round-enter"(){this.role.enhance=!0,this.role.record&&(this.obtain_card(this.role.record),this.role.record=null)},bought({cardt:e}){this.role.enhance&&(this.role.record=e,this.role.enhance=!1)}}},超量采集:{init(){this.role.attrib.mode=1,this.role.enable=!1,this.mineral_max=18,this.mineral=18,this.config.MineralLimitDelta=-1}},附属钻头:{init(){this.role.attrib.mode=2,this.role.enable=!1,this.config.MineralLimitDelta=2,this.config.MaxMineral=20}},机械气罐:{init(){this.role.attrib.mode=1},listener:{"card-selled"(){this.obtain_resource({gas:1})}}},爆裂核心:{init(){this.role.attrib.mode=2,this.role.enable=!0},listener:{"round-enter"(){this.role.enable=!0}}},金光普照:{init(){this.role.attrib.mode=1,this.role.enable=!1},listener:{"card-entered"({target:e}){e.level<6&&(e.gold=!0,e.obtain_upgrade("金光闪闪"))}}},限制解除:{init(){this.role.attrib.mode=2,this.role.attrib.used=0}},光影集结:{init(){this.role.attrib.mode=1,this.role.enable=!0,this.role.progress.cur=-1,this.role.progress.max=-1}},能量阵列:{init(){this.role.attrib.mode=2,this.config.ProtossPowerMultiplier=5}},搜寻样本:{init(){this.role.attrib.mode=1,this.role.progress.cur=0,this.role.progress.max=-1,this.role.enable=!1,this.obtain_resource({mineral:-3});const e=this.enter("科学观察");e&&e.obtain_upgrade("搜寻样本")}},电磁干扰:{init(){this.role.attrib.mode=2,this.role.progress.cur=3,this.role.progress.max=3}},核心超载:{init(){this.role.enable=!0}},虫洞传送:{init(){this.enter("母舰核心(PVE)"),this.combine("母舰核心(PVE)",!0)}},虚空意志:{init(){this.role.attrib.mode=1,this.role.enable=!0},listener:{"round-enter"(){this.role.enable=!0}}},形体降临:{init(){this.role.attrib.mode=2,this.role.enable=!0},listener:{"round-enter"(){this.role.enable=!0}}},地下交易:{init(){this.obtain_resource({mineral:3})}},补给空投:{init(){const e=this.$ref$Game.pool.discover(t=>t.level===this.level,1);e&&this.obtain_card(e[0].name)}},挖宝奇兵:{init(){const e=this.$ref$Game.pool.discover(t=>t.name==="挖宝奇兵",1);e&&this.obtain_card(e[0].name)}},升变:{init(){this.upgrade_cost=Math.max(0,this.upgrade_cost-4)}},黄金矿工:{init(){var e;(e=this.$ref$Game.lcg.one_of(this.all()))==null||e.obtain_upgrade("黄金矿工")}},能量扩散:{init(){this.attrib.alter("free-refresh",10)}},人海战术:{init(){var e;this.push_discover((e=this.$ref$Game.pool.discover(t=>t.level===1,4))==null?void 0:e.map(t=>({type:"card",card:t})))}},时间停止:{},暗影刷新:{init(){this.do_refresh(e=>this.$ref$Game.pool.discover(t=>t.level===Math.min(6,this.level+1),e,!1))}},过量补给:{init(){this.obtain_resource({mineral:this.$ref$Game.lcg.int(20,1)})}},终极发现:{init(){var e;this.push_discover((e=this.$ref$Game.pool.discover(t=>t.level===6,4))==null?void 0:e.map(t=>({type:"card",card:t})))}},精英学院:{listener:{"round-end"(){this.all().forEach(e=>{e.replace(e.find(t=>Q(this.$ref$Game.config.ActiveUnit,t)),P)})}}},强化升级:{init(){for(;this.level<6;)this.do_tavern_upgrade()}},水晶聚能:{listener:{"card-selled"({target:e}){e.find(["水晶塔","虚空水晶塔"]).length>0&&this.obtain_resource({mineral:1})}}},研发计划:{init(){this.persisAttrib.set("研发计划",0)},listener:{"card-entered"(){var e;this.persisAttrib.alter("研发计划",1)===4&&(this.persisAttrib.set("研发计划",0),this.push_discover((e=this.$ref$Game.pool.discover(t=>t.race==="T",3))==null?void 0:e.map(t=>({type:"card",card:t}))))}},count(){return this.persisAttrib.get("研发计划")}},基因改造:{listener:{hatch({from:e}){e.name==="虫卵"&&this.obtain_resource({mineral:6})}}},净化数据网:{init(){this.nextAttrib.set("净化数据网",1)},listener:{"round-start"(){var e;if(this.attrib.get("净化数据网")){const t=(e=this.present[6])==null?void 0:e.card;t&&(t.gold=!0)}}}},机械感染:{init(){this.config.ZergEggRestrictBiological=!1,this.config.ZergHatchRestrictBiological=!1}},虚空风暴:{init(){this.persisAttrib.set("虚空风暴",0)},listener:{"store-refreshed"(){this.persisAttrib.alter("虚空风暴",1)===3&&(this.persisAttrib.set("虚空风暴",0),this.all().filter(e=>e.attrib.get("void")&&e.level>=1&&e.level<=5).forEach(e=>{const t=this.$ref$Game.lcg.one_of(e.units.filter(i=>_(m[i])));t&&e.obtain_unit([t])}))}},count(){return this.persisAttrib.get("虚空风暴")}},能量预兆:{},鲜血仪式:{init(){this.config.BuyResource="life",this.nextAttrib.set("鲜血仪式",1)},listener:{"round-start"(){this.attrib.get("鲜血仪式")&&(this.attrib.set("鲜血仪式",0),this.config.BuyResource="mineral")}}},灵能特训:{init(){this.attrib.alter("free-refresh",10)},listener:{"round-enter"(){this.attrib.alter("free-refresh",10)}}},作战资源方案:{listener:{"get-buy-cost"(e){e.cost=Math.min(2,e.cost)}}},达拉姆的荣耀:{init(){this.all().forEach(e=>{e.obtain_unit(o("阿塔尼斯",2)),e.regroup(-1),e.regroup(-1)})}},废弃试验品:{init(){const e=L.map(t=>B[t]).filter(t=>t.type===1);this.push_discover(this.$ref$Game.lcg.shuffle(e).slice(0,4).map(t=>({type:"prophesy",prophesy:t}))),this.push_discover(this.$ref$Game.lcg.shuffle(e).slice(0,4).map(t=>({type:"prophesy",prophesy:t})))}},战术装备:{init(){this.config.MaxUpgradePerCard+=3,this.all().forEach(e=>{e.config.MaxUpgrade+=3;for(let t=0;t<3;t++)e.obtain_upgrade(se(this.$ref$Game.lcg,1,i=>i!=="轨道空降")[0])})}},死亡阴影:{init(){this.all().forEach(e=>{e.set_void(),e.obtain_upgrade("虚空能量")})}},相位提速:{init(){this.attrib.set("相位提速",0)},listener:{"round-enter"(){this.attrib.set("相位提速",0)},"card-selled"({target:e}){this.attrib.set("相位提速",Math.min(100,this.attrib.get("相位提速")+e.units.length))}},count(){return this.attrib.get("相位提速")}},点石成金:{init(){this.all().forEach(e=>{e.gold=!0,e.obtain_upgrade("金光闪闪")})}}};for(const e in r){const t=r[e];t.init=t.init||(()=>{}),t.listener=t.listener||{}}return r}const ye=Mt(),Wt={$upgrade(){this.level<6&&this.mineral>=this.upgrade_cost&&(this.mineral-=this.upgrade_cost,this.do_tavern_upgrade())},$refresh(){if(this.config.RefreshDisabled||this.mineral<this.get_refresh_cost())return;const r=this.get_refresh_cost();r===0?this.attrib.alter("free-refresh",-1):this.mineral-=r,this.do_refresh(void 0,r)},$finish(){this.curStatus()==="normal"&&this.$ref$Game.roundEnd()},$ability(){this.role.enable&&this.role_impl().ability.call(this.role,this)},$lock(){this.locked=!0},$unlock(){this.locked=!1},$select:function({area:r,place:e}){this.selected={area:r,place:e}},$choice:function({category:r,place:e}){var t;switch(r){case"insert":{const i=this.insertItem.shift();if(!i)return;this.status.pop(),i.fake||this.enter(i.card,e),this.post({msg:"insert-finish",ctx:{...i,choice:e}});break}case"deploy":{const i=this.deployCard.shift();if(!i)return;this.status.pop(),this.enter(i,e);break}case"discover":{const i=this.discoverItem.shift();if(!i)return;this.status.pop();const n=[];if(i.fake)i.dropall&&n.push(...i.item.filter(a=>a.type==="card").map(a=>a.card));else if(i.nodrop||i.item.forEach((a,s)=>{s===e&&!i.dropall||a.type==="card"&&n.push(a.card)}),e!==-1){const a=i.item[e];if(a.type==="card")this.obtain_card(a.card.name,!i.nodrop);else if(a.type==="upgrade"){if("target"in i){const s=(t=this.present[i.target])==null?void 0:t.card;s&&this.can_obt_upgrade(s)&&s.obtain_upgrade(a.upgrade.name)}}else if(a.type==="prophesy"){if(a.prophesy.unique&&this.prophesy.includes(a.prophesy.name))return;ye[a.prophesy.name].init.call(this),this.prophesy.push(a.prophesy.name)}}this.$ref$Game.pool.drop(n),this.post({msg:"discover-finish",ctx:{...i,choice:e}});break}default:return}},"discover-finish"({ctx:r}){var e;r.id===this.attrib.get("upgrade-discover-id",-1)&&(this.attrib.set("upgrade-discover-id",-1),r.choice===-1&&(this.obtain_resource({gas:1}),this.post({msg:"upgrade-cancelled",target:(e=this.present[r.target??0])==null?void 0:e.card})))},$action:function({area:r,action:e,place:t}){var i,n,a;switch(r){case"store":{const s=(i=this.store[t])==null?void 0:i.card;if(!s||!this.can_buy(s,e,t))return;switch(e){case"enter":if(!this.can_enter(s))return;break;case"combine":if(!this.can_combine(s))return;break;case"stage":if(!this.can_stage())return;break}switch(this.do_buy(s,e,t),e){case"enter":this.require_enter(s);break;case"combine":this.combine(s);break;case"stage":this.obtain_card(s);break}this.store[t]=null,this.post({msg:"bought",action:e,cardt:s,place:t});break}case"hand":{const s=(n=this.hand[t])==null?void 0:n.card;if(!s)return;switch(e){case"enter":if(!this.can_enter(s))return;break;case"combine":if(!this.can_combine(s))return;break}switch(this.hand[t]=null,e){case"enter":this.require_enter(s);break;case"combine":this.combine(s);break;case"sell":g[s].type!=="support"&&this.obtain_resource({mineral:1});break}break}case"present":{const s=(a=this.present[t])==null?void 0:a.card;if(!s)return;switch(e){case"sell":this.sell(s);break;case"upgrade":{if(!this.can_pres_upgrade(s))return;const c=[],h=[];ne.filter(y=>!s.upgrades.includes(y)).map(y=>Z[y]).forEach(y=>{switch(y.category){case"primal":case"virtual":s.belong===y.category&&h.push(y);break;case"terran":s.race==="T"&&h.push(y);break;case"zerg":s.race==="Z"&&h.push(y);break;case"protoss":s.race==="P"&&h.push(y);break;case"public":c.push(y);break}}),this.$ref$Game.lcg.shuffle(h);const d=s.upgrades.length===0,v=h.slice(0,d?s.belong==="primal"?3:2:1),x=this.$ref$Game.lcg.shuffle(c).slice(0,4-v.length).concat(v);this.obtain_resource({gas:-2});const $=this.push_discover(x.map(y=>({type:"upgrade",upgrade:y})),{extra:"放弃",target:s.index()});typeof $=="number"&&this.attrib.set("upgrade-discover-id",$);break}}break}}},$cheat:function(r){var e;switch(r.type){case"card":this.obtain_card(r.cardt,!1);break;case"unit":if(!this.present[r.place])return;(e=this.present[r.place])==null||e.card.obtain_unit(r.units);break;case"resource":this.obtain_resource({mineral:100,gas:100});break}},"round-start"(){this.curStatus()==="middle"&&(this.status.push("normal"),this.attrib=this.nextAttrib,this.nextAttrib=new q,this.upgrade_cost>0&&(this.upgrade_cost-=1),this.config.MineralLimitDelta&&(this.config.MineralLimitDelta>0?this.mineral_max=Math.min(this.config.MaxMineral,this.mineral_max+this.config.MineralLimitDelta):this.mineral_max=Math.max(0,this.mineral_max+this.config.MineralLimitDelta)),this.mineral=this.mineral_max,this.gas<this.config.MaxGas&&(this.gas+=1),this.config.RefreshDisabled||(this.locked||(this.$ref$Game.pool.drop(this.store.filter(r=>r!==null).map(r=>g[r.card])),this.store.fill(null)),this.locked=!1,this.fill_store()))},"round-enter"({round:r}){this.$ref$Game.config.Pve&&(r===1?this.role.name!=="白板"&&this.push_discover(L.map(e=>B[e]).filter(e=>e.type===this.role.name).map(e=>({type:"prophesy",prophesy:e}))):r===4?this.push_discover(this.$ref$Game.lcg.shuffle(L.map(e=>B[e]).filter(e=>e.type===0)).slice(0,4).map(e=>({type:"prophesy",prophesy:e}))):r===8?this.push_discover(this.$ref$Game.lcg.shuffle(L.map(e=>B[e]).filter(e=>e.type===1)).slice(0,4).map(e=>({type:"prophesy",prophesy:e}))):r===12&&this.push_discover(this.$ref$Game.lcg.shuffle(L.map(e=>B[e]).filter(e=>e.type===2)).slice(0,4).map(e=>({type:"prophesy",prophesy:e}))))},"round-leave"(){this.curStatus()==="normal"&&this.status.pop()}};class qt{constructor(e,t){this.$ref$Game=e,this.config={MaxUnitPerCard:200,MaxUpgradePerCard:5,AlwaysInsert:!1,AlwaysHatch:!1,ZergEggCount:1,ZergEggCard:"虫卵",ZergEggRestrictBiological:!0,ZergHatchRestrictBiological:!0,ProtossPowerMultiplier:1,ProtossPowerAll:!1,BuyResource:"mineral",StoreCount:[0,3,4,4,5,5,6],TavernUpgrade:[0,5,7,8,9,11,0],MaxMineral:10,MineralLimitDelta:1,MaxGas:6,RefreshDisabled:!1},this.attrib=new q,this.nextAttrib=new q,this.persisAttrib=new q,this.life=100,this.level=1,this.upgrade_cost=5+1,this.status=["middle"],this.insertItem=[],this.deployCard=[],this.discoverItem=[],this.mineral=0,this.mineral_max=3-1,this.gas=0-1,this.gas_max=6,this.selected={area:"none",place:-1},this.locked=!1,this.role={attrib:{},name:t,enable:!1,progress:{cur:-1,max:-1},enhance:!0,record:null},this.prophesy=[],this.store=J(null,3),this.hand=J(null,6),this.present=J(null,7),this.process=null,this.set_role(t)}curStatus(){return this.status[this.status.length-1]}index(){return this.$ref$Game.player.indexOf(this)}post(e){const t={...e,player:this.index()};return this.$ref$Game.post(t),t}answer(e){var t,i;F(Wt,e,this),this.prophesy.forEach(n=>{F(ye[n].listener,e,this)}),F(this.role_impl().listener,e,this.role,this),"card"in e?e.card===-1?(t=this.process)==null||t.answer(e):(i=this.present[e.card])==null||i.card.answer(e):this.present.forEach(n=>{n&&n.card.answer(e)})}check_unique_active(e,t){var n;const[i]=U(e);if((n=i.config)!=null&&n.unique){let a=this.present.map((s,c)=>({card:(s==null?void 0:s.card)||null,pos:c})).filter(s=>s.card).filter(s=>s.card.descs.includes(e));return i.config.uniqueDisabled&&(a=a.filter(s=>{var c,h;return(h=(c=i.config)==null?void 0:c.uniqueDisabled)==null?void 0:h.call(c,s.card)})),i.config.unique==="normal"&&a.sort((s,c)=>s.card.gold!==c.card.gold?s.card.gold?-1:1:s.pos-c.pos),a.length>0&&a[0].pos===t}else return!0}all(){return this.present.filter(M).map(e=>e.card)}all_of(e){return this.all().filter(t=>t.race===e)}count(){const e={T:0,P:0,Z:0,N:0};return this.all().forEach(t=>{e[t.race]+=1}),e}fill_store(e){var n;const t=this.store.filter(a=>!a).length,i=e?e(t):this.$ref$Game.pool.discover(a=>a.level<=this.level,t,!1);if(i)for(let a=0;a<this.store.length;a++)this.store[a]||(this.store[a]={card:(n=i.shift())==null?void 0:n.name,special:!1})}do_tavern_upgrade(){this.level+=1,this.upgrade_cost=this.config.TavernUpgrade[this.level],this.store.length<this.config.StoreCount[this.level]&&this.store.push(null),this.post({msg:"tavern-upgraded",level:this.level})}do_refresh(e,t=0){this.config.RefreshDisabled||(this.$ref$Game.pool.drop(this.store.filter(i=>i!==null).map(i=>g[i.card])),this.store.fill(null),this.fill_store(e),this.post({msg:"refreshed",cost:t}),this.post({msg:"store-refreshed"}))}set_role(e,t=!1){this.role={attrib:t?this.role.attrib:{},name:e,enable:!1,progress:{cur:-1,max:-1},enhance:!1,record:t?this.role.record:null},this.role_impl().init.call(this.role,this)}query_selected_present(){var e;return this.selected.area==="present"&&((e=this.present[this.selected.place])==null?void 0:e.card)||null}query_selected_store(){var e;return this.selected.area==="store"?((e=this.store[this.selected.place])==null?void 0:e.card)??null:null}obtain_card(e,t=!0){this.can_stage()?this.stage(e):this.can_combine(e)?this.combine(e):this.can_enter(e)?this.require_enter(e):t&&this.$ref$Game.pool.drop([g[e]])}obtain_resource(e){e.mineral&&(this.mineral+=e.mineral),e.gas&&(this.gas=Math.min(this.gas+e.gas,this.gas_max))}role_impl(){return Kt[this.role.name]}locate(e){return typeof e=="string"?this.all().filter(t=>t.name===e):this.all().filter(t=>e.includes(t.name))}locate_combine_target(e){return this.all().filter(t=>t.name===e&&t.color==="normal"&&!t.gold).slice(0,2)}can_buy(e,t,i){const n=this.get_buy_cost(t,e,i);switch(this.config.BuyResource){case"mineral":return this.mineral>=n;case"life":return this.life>n}}do_buy(e,t,i){const n=this.get_buy_cost(t,e,i,"real");switch(this.config.BuyResource){case"mineral":this.obtain_resource({mineral:-n});break;case"life":this.life-=n;break}}can_enter(e){return g[e].type==="support"?this.present.filter(i=>i).length>0:this.present.filter(i=>!i).length>0}can_combine(e){return this.locate_combine_target(e).length===2}can_stage(){return this.hand.filter(e=>!e).length>0}can_obt_upgrade(e){return e.upgrades.length<e.config.MaxUpgrade}can_pres_upgrade(e){return this.can_obt_upgrade(e)&&this.gas>=2}can_tavern_upgrade(){return this.level<6&&this.mineral>=this.upgrade_cost}can_refresh(){return!this.config.RefreshDisabled&&this.mineral>=this.get_refresh_cost()}push_insert(e){const t=this.persisAttrib.get("insert-counter");this.persisAttrib.alter("insert-counter",1),this.status.push("insert");const i=e?{id:t,fake:!1,card:e}:{id:t,fake:!0};return this.insertItem.push(i),t}push_deploy(e){this.status.push("deploy"),this.deployCard.push(e)}push_discover(e,t){if(!e||e.length===0)return-1;const i=this.persisAttrib.get("discover-counter");this.persisAttrib.alter("discover-counter",1),this.status.push("discover");const n={item:e,id:i,...t};return this.discoverItem.push(n),i}require_enter(e){const t=g[e];t.type==="support"?this.push_deploy(e):this.config.AlwaysInsert||t.attr.insert?this.push_insert(e):this.enter(e)}stage(e){this.hand[this.hand.findIndex(t=>!t)]={card:e}}enter(e,t=-1){var a;const i=g[e];if(i.type==="support"){const s=(a=this.present[t])==null?void 0:a.card;if(s){const c=new oe(this,i);return c.load_desc(i),this.process=c,c.post({msg:"post-deploy",target:s}),c.clear_desc(),this.process=null,null}}if(t===-1&&(t=this.present.findIndex(s=>!s),t===-1))return null;if(this.present[t]){const s=this.present.indexOf(null,t+1);if(s===-1){const c=this.present.lastIndexOf(null);this.present.splice(c,1),this.present.splice(t,0,null)}else this.present.splice(s,1),this.present.splice(t,0,null)}const n=new oe(this,i);return n.occupy.push(e),this.present[t]={card:n},n.load_desc(i),this.post({msg:"card-entered",target:n}),n.post({msg:"post-enter"}),n}combine(e,t=!1){var h;const i=this.locate_combine_target(e);if(i.length<2)return!1;const n=g[e],a=new oe(this,n,!1);a.config={MaxUnit:Math.max(i[0].config.MaxUnit,i[1].config.MaxUnit),MaxUpgrade:Math.max(i[0].config.MaxUpgrade,i[1].config.MaxUpgrade)},a.gold=!0,a.occupy=[...i[0].occupy,...i[1].occupy],a.attrib.load(i[0].attrib,["task"]),a.attrib.load(i[1].attrib,["task"]);const s=i[0].infr(),c=i[1].infr();if(a.race==="T"&&s&&c?c==="高级科技实验室"?a.units=[...i[0].units.filter(d=>!["反应堆","科技实验室","高级科技实验室"].includes(d),...i[1].units)]:a.units=[...i[0].units,...i[1].units.filter(d=>!["反应堆","科技实验室","高级科技实验室"].includes(d))]:a.units=[...i[0].units,...i[1].units],a.units=a.units.slice(0,a.config.MaxUnit),a.upgrades=[...i[0].upgrades,...i[1].upgrades.filter(d=>!i[0].upgrades.includes(d)||Z[d].override)],this.$ref$Game.config.PoolPack.includes(n.pack)&&a.occupy.push(e),this.present[i[0].index()]={card:a},this.present[i[1].index()]=null,a.load_desc(n),this.post({msg:"card-combined",target:a}),a.post({msg:"post-enter"}),!t){const d=(h=this.$ref$Game.pool.discover(v=>v.level===Math.min(6,this.level+1),3))==null?void 0:h.map(v=>({type:"card",card:v}));if(a.upgrades.length<a.config.MaxUpgrade){const v=ne.map(x=>Z[x]).filter(x=>x.category==="combine").filter(x=>!a.upgrades.includes(x.name));v.length>0&&(d==null||d.push({type:"upgrade",upgrade:this.$ref$Game.lcg.shuffle(v)[0]}))}this.push_discover(d,{target:a.index()})}return a}sell(e){const t=e.index();e.attrib.set("oldpos",t),this.present[t]=null,this.process=e;const i=e.level>0||e.name==="虫卵",n=e.level>=4?2:1;i&&e.post({msg:"post-sell"}),e.clear_desc(),this.$ref$Game.pool.drop(e.occupy.map(a=>g[a])),i&&(this.post({msg:"card-selled",target:e}),this.obtain_resource({mineral:1}),e.name!=="虫卵"&&e.around(t).forEach(a=>{a.gain_darkness(n)})),this.process=null}destroy(e,t){const i=e.index();e.attrib.set("oldpos",i),this.present[i]=null,this.process=e,t!=null&&t.extraEnter&&e.post({msg:"post-enter"});const n=e.level>0,a=e.level>=4?2:1;e.clear_desc(),this.$ref$Game.pool.drop(e.occupy.map(s=>g[s])),n&&e.around(i).forEach(s=>{s.gain_darkness(a)}),this.process=null}hatch(e,t){if(this.config.ZergHatchRestrictBiological&&(t=t.filter(n=>m[n].tag.biological)),t.length===0)return;const i=this.post({msg:"hatch",from:e,units:t});e.around(e.attrib.get("oldpos",-1)).forEach(n=>{(n.race==="Z"||this.config.AlwaysHatch)&&n.obtain_unit(i.units,"hatch")})}spawn(e,t="all"){if(e.length===0)return;const i=this.present.filter(M).map(n=>n.card).filter(n=>n.name==="虫卵");for(;i.length<this.config.ZergEggCount;){const n=this.enter(this.config.ZergEggCard);if(!n)break;n.name="虫卵",i.push(n)}i.sort((n,a)=>n.index()-a.index()),i.length>0&&(t==="left"?i[0].obtain_unit(e):i.forEach(n=>{n.obtain_unit(e)}),this.post({msg:"spawn",units:e}))}warp(e){if(e.length===0)return;const t=this.post({msg:"warp",units:e,into:null});if(t.into===null){const i=this.all_of("P");if(!i.length)return;this.$ref$Game.lcg.shuffle(i),t.into=i[0]}t.into&&t.into.obtain_unit(e,"warp")}get_buy_cost(e,t,i,n="dry"){return this.post({msg:"get-buy-cost",time:n,cost:3,action:e,cardt:t,place:i}).cost}get_refresh_cost(){return this.attrib.get("free-refresh")?0:1}get_extra_void(){return this.post({msg:"get-extra-void",void:0}).void}get_unit_value(e){return this.post({msg:"get-unit-value",unit:e,value:m[e].value}).value}}const Jt={1:18,2:15,3:13,4:11,5:9,6:6};class Ut{constructor(e,t,i,n){this.$ref$lcg=t,this.heap={},this.allow=i,e.forEach(a=>{E[a].forEach(s=>{const c=g[s];a==="特典"&&!n?this.$ref$lcg.float()<=.15&&(this.heap[s]=1):this.heap[s]=Jt[c.level]})})}discover(e,t,i=!0){const n={},a=[],s=[];return Object.keys(this.heap).forEach(c=>{const h=c,d=g[h];e(d)?i?(a.push(d),s.push(...J(d,(this.heap[h]||1)-1))):a.push(...J(d,this.heap[h]??0)):n[h]=this.heap[h]}),a.length+s.length<t?null:(this.heap=n,this.$ref$lcg.shuffle(a),a.length<t?(this.$ref$lcg.shuffle(s),a.push(...s.slice(0,t-a.length)),this.drop(s.slice(t-a.length))):this.drop(s),this.drop(a.slice(t)),a.slice(0,t))}drop(e){e.forEach(t=>{if(!this.allow.includes(t.pack))return;const i=(this.heap[t.name]??0)+1;this.heap[t.name]=i})}}class qe{constructor(e){this.seed=e}next(){return this.seed=25214903917*this.seed&(1<<48)-1,this.seed}float(){return this.next()/(1<<48)}int(e,t=0){return t+Math.floor(this.float()*(e-t+1))}shuffle(e){for(let t=e.length-1;t>0;t--){const i=this.int(t);[e[t],e[i]]=[e[i],e[t]]}return e}one_of(e){return e.length>0?e[this.int(e.length-1)]:null}}function Rt(r){const[e,t]=U(r);return e.text instanceof Function?e.text(t):e.text??[]}let je=class{constructor(e,t){this.$ignore$Server=t,this.config=z(e),this.attrib=new q,this.lcg=new qe(this.config.Seed||1),this.round=0,this.pool=new Ut(this.config.Pack,this.lcg,this.config.PoolPack,this.config.Pve),this.player=J(null,this.config.Role.length).map((i,n)=>new qt(this,this.config.Role[n]))}input(e){if(e.msg==="$select"){const t=this.player[e.player];if(e.area===(t==null?void 0:t.selected.area)&&e.place===t.selected.place)return}console.log(e),this.post(e),this.emit()}post(e){var t;"player"in e?(t=this.player[e.player])==null||t.answer(e):this.player.forEach(i=>{i&&i.answer(e)})}getState(){return{config:z(this.config),round:this.round,player:this.player.map((t,i)=>t?{config:z(t.config),life:t.life,level:t.level,upgrade_cost:t.upgrade_cost,status:t.curStatus(),discover:t.discoverItem[0]||null,mineral:t.mineral,mineral_max:t.mineral_max,gas:t.gas,gas_max:t.gas_max,selected:z(t.selected),locked:t.locked,role:{name:t.role.name,ability:ce[t.role.name].ability,desc:ce[t.role.name].desc,enable:t.role.enable,progress:t.role.progress.cur===-1?null:z(t.role.progress),enhance:t.role.enhance,record:t.role_impl().record.apply(t.role)},action:[{action:"upgrade",enable:t.can_tavern_upgrade()&&t.curStatus()==="normal",msg:{msg:"$upgrade",player:i}},{action:"refresh",enable:t.can_refresh()&&t.curStatus()==="normal",msg:{msg:"$refresh",player:i},special:!!t.attrib.get("free-refresh")},{action:t.locked?"unlock":"lock",enable:t.curStatus()==="normal",msg:{msg:t.locked?"$unlock":"$lock",player:i}},{action:"finish",enable:t.curStatus()==="normal",msg:{msg:"$finish",player:i}}],abilityAction:{enable:t.role.enable&&t.curStatus()==="normal",msg:{msg:"$ability",player:i}},store:t.store.map((n,a)=>{if(!n)return null;const s=t.can_combine(n.card)?"combine":"enter";return{card:n.card,special:n.special,actions:[{action:s,enable:t.can_buy(n.card,s,a)&&(t.can_combine(n.card)||t.can_enter(n.card))&&t.curStatus()==="normal",msg:{msg:"$action",player:i,action:s,area:"store",place:a},acckey:"e"},{action:"stage",enable:t.can_buy(n.card,"stage",a)&&t.can_stage()&&t.curStatus()==="normal",msg:{msg:"$action",player:i,action:"stage",area:"store",place:a},acckey:"v"}]}}),hand:t.hand.map((n,a)=>{if(!n)return null;const s=t.can_combine(n.card)?"combine":"enter";return n?{card:n.card,actions:[{action:s,enable:(s==="enter"?t.can_enter(n.card):!0)&&t.curStatus()==="normal",msg:{msg:"$action",player:i,action:s,area:"hand",place:a},acckey:"e"},{action:"sell",enable:t.curStatus()==="normal",msg:{msg:"$action",player:i,action:"sell",area:"hand",place:a},acckey:"s"}]}:null}),present:t.present.map((n,a)=>{const s=[];return t.curStatus()==="insert"?s.push({action:"insert",enable:!0,msg:{msg:"$choice",player:i,category:"insert",place:a},acckey:"x"}):t.curStatus()==="deploy"?s.push({action:"deploy",enable:!0,msg:{msg:"$choice",player:i,category:"deploy",place:a},acckey:"x"}):t.curStatus()==="normal"&&n&&(s.push({action:"upgrade",enable:t.can_pres_upgrade(n.card),msg:{msg:"$action",player:i,action:"upgrade",area:"present",place:a},acckey:"g"}),s.push({action:"sell",enable:!0,msg:{msg:"$action",player:i,action:"sell",area:"present",place:a},acckey:"s"})),{card:n?{config:z(n.card.config),name:n.card.name,race:n.card.race,level:n.card.level,color:n.card.color==="normal"?n.card.gold?"gold":"normal":n.card.color,belong:n.card.belong,units:z(n.card.units),upgrades:z(n.card.upgrades),descs:n.card.descs.map(c=>Rt(c)[n.card.gold?1:0]??`未知描述 ${c}`),notes:n.card.descs.map(c=>{var h,d;return((d=(h=U(c)[0]).note)==null?void 0:d.call(h,n.card,t.check_unique_active(c,a)))||[]}).flat().concat(n.card.extraNote()),value:n.card.value()}:null,actions:s}}),prophesy:(()=>{const n={};return t.prophesy.forEach(a=>{const s=ye[a];s.count?n[a]=s.count.call(t):n[a]=null}),n})()}:null)}}emit(){this.$ignore$Server.emit(this.getState())}start(){this.round=0,this.roundStart(),this.emit()}roundEnd(){this.post({msg:"round-end",round:this.round}),this.post({msg:"round-leave",round:this.round}),this.roundStart()}roundStart(){this.round+=1,this.post({msg:"round-start",round:this.round}),this.post({msg:"round-enter",round:this.round}),this.player.forEach(e=>{e&&e.life>0&&e.post({msg:"battle-result",win:!0})})}};function pe(r,e={id:0}){if(typeof r=="object"&&r)if(r instanceof Array)r.forEach(t=>pe(t,e));else{if("$id$"in r)return;r.$id$=e.id,e.id+=1;for(const t in r)t.startsWith("$ignore$")||pe(r[t],e)}}function me(r){if(typeof r=="object"&&r)if(r instanceof Array)r.forEach(me);else{if(!("$id$"in r))return;delete r.$id$;for(const e in r)e.startsWith("$ignore$")||me(r[e])}}function fe(r,e){if(typeof r=="object"&&r)if(r instanceof Array)r.forEach(t=>fe(t,e));else{e[r.$id$]=r,delete r.$id$;for(const t in r)t.startsWith("$ignore$")||fe(r[t],e)}}function ge(r,e){if(typeof r=="object"&&r)if(r instanceof Array)r.forEach(t=>ge(t,e));else for(const t in r)t.startsWith("$ignore$")||(t.startsWith("$ref$")?r[t]=e[r[t]]:ge(r[t],e))}function Dt(r){pe(r)}function Ot(r){me(r)}function Vt(r){const e={};fe(r,e),ge(r,e)}class Ht{constructor(){this.protos={},this.indexs=new Map}register(e,t){if(e in this.protos){if(this.protos[e]===t){console.log(`[WARN] ${e} already registered. skip`);return}throw`${e} is already registered!`}else if(this.indexs.has(t))throw`prototype of ${e} is already registered!`;this.protos[e]=t,this.indexs.set(t,e)}autoRegister(e){for(const t in e)this.register(t,e[t].prototype)}serialize(e){Dt(e);const i=JSON.stringify(e,(n,a)=>{if(n.startsWith("$ref$"))return a.$id$;if(n.startsWith("$ignore$"))return;if(typeof a=="object"&&a!==null){const s=Object.getPrototypeOf(a);if(s===Object.prototype||s===Array.prototype)return a;{const c=this.indexs.get(s);return c?{...a,$proto$:c}:(this.register(a.constructor.name,s),console.log("[WARN] Auto register prototype for class",a.constructor.name),{...a,$proto$:a.constructor.name})}}else return a});return Ot(e),i}deserialize(e){const i=JSON.parse(e,(n,a)=>{if(typeof a=="object"&&a!==null)if("$proto$"in a){const s=a,c=s.$proto$;if(c in this.protos)return delete s.$proto$,Object.setPrototypeOf(a,this.protos[c]);throw`prototype ${c} not found`}else return a;else return a});return Vt(i),i}}const ie=new Ht;function Je(){const r={};return r.client={async sendInput(e){r.server.onInput(e)},onState:()=>{}},r.server={onInput:()=>{},async setState(e){r.client.onState(e)}},r}class Ue{constructor(e,t,i=!1){this.pos=e,this.adapter=t,this.observer=i}post(e){this.observer||this.adapter.sendInput({...e})}autoPost(e){this.post({...e,player:this.pos})}}class Ce{constructor(){this.notify=[]}emit(e){this.notify.forEach(t=>t(e))}}class Re{constructor(e){this.server=new Ce,this.server.notify.push(()=>{this.loading||this.autoSave()}),this.adapter=e,this.adapter.onInput=t=>{this.game.input(t)},this.server.notify.push(t=>{this.adapter.setState(t)}),this.game=new je({Pack:["核心"],Seed:1,Role:["白板"],Mutation:[],Pve:!1,PoolPack:Me,ActivePack:he,ActiveUnit:ue},this.server),this.save={old:[ie.serialize(this.game)],new:[]},this.loading=!1,this.saveStateChanged=()=>{}}unbind(){this.game.$ignore$Server=new Ce}bind(){this.game.$ignore$Server=this.server,this.loading=!0,this.server.emit(this.game.getState()),this.loading=!1}init(e){this.unbind(),this.game=new je(e,this.server),this.save={old:[ie.serialize(this.game)],new:[]},this.saveStateChanged()}load(e){this.save=JSON.parse(JSON.stringify(e)),this.loadActive()}loadActive(){this.unbind(),this.game=ie.deserialize(this.save.old[this.save.old.length-1]),this.bind(),this.saveStateChanged()}undo(){this.save.old.length>1&&(this.save.new.push(this.save.old.pop()),this.loadActive())}redo(){this.save.new.length>0&&(this.save.old.push(this.save.new.pop()),this.loadActive())}getState(){return{canRedo:this.save.new.length>0,canUndo:this.save.old.length>1}}autoSave(){this.save.new=[],this.save.old.push(ie.serialize(this.game)),this.saveStateChanged()}}const De=Je(),Lt=new Re(De.server),Bt=new Ue(0,De.client),Oe=Lt.game.getState(),T=u.createContext(Oe),w=u.createContext(Bt),k=u.createContext(Oe.player[0]);function Ft(r){const[e,t]=u.useState(u.useContext(T));return r.client.adapter.onState=i=>{t(i)},l(T.Provider,{value:e,children:l(w.Provider,{value:r.client,children:l(r.instance,{children:r.children})})})}function Qt(r){const[e,t]=u.useState(r.wrapper.getState());return u.useEffect(()=>(r.wrapper.saveStateChanged=()=>{t(r.wrapper.getState())},()=>{r.wrapper.saveStateChanged=()=>{}}),[]),p(u.Fragment,{children:[l(f,{onClick:()=>{r.wrapper.undo()},disabled:!e.canUndo,children:"撤销"}),l(f,{onClick:()=>{r.wrapper.redo()},disabled:!e.canRedo,children:"重做"})]})}function ze(r){const[e,t]=u.useState(""),i=u.useMemo(()=>r.item.map(n=>({item:n,index:n.pinyin.indexOf(e)})).filter(n=>n.index!==-1).sort((n,a)=>n.index===a.index?n.item.pinyin.localeCompare(a.item.pinyin):n.index-a.index).map(n=>n.item).slice(0,10),[r.item,e]);return p(u.Fragment,{children:[l(Xe,{value:e,onChange:n=>t(n.target.value.toLowerCase())}),i.map((n,a)=>p(f,{onClick:()=>{r.onChoose(n)},children:[n.pinyin," ",n.name]},a))]})}function Yt(){const[r,e]=u.useState(!1),[t,i]=u.useState(!1),n=u.useContext(T),a=u.useContext(w),s=u.useContext(k),c=u.useMemo(()=>n.config.ActivePack.map(d=>E[d]).flat().map(d=>g[d]),[n.config.ActivePack]),h=u.useMemo(()=>n.config.ActiveUnit.map(d=>m[d]),[n.config.ActiveUnit]);return p(u.Fragment,{children:[l(C,{fullWidth:!0,open:r,onClose:()=>e(!1),children:l(j,{component:R,container:!0,flexDirection:"column",children:l(ze,{item:c,onChoose:d=>{a.autoPost({msg:"$cheat",type:"card",cardt:d.name})}})})}),l(C,{fullWidth:!0,open:t,onClose:()=>i(!1),children:l(j,{component:R,container:!0,flexDirection:"column",children:l(ze,{item:h,onChoose:d=>{a.autoPost({msg:"$cheat",type:"unit",units:[d.name],place:s.selected.place})}})})}),l(f,{onClick:()=>{a.autoPost({msg:"$cheat",type:"resource"})},children:"资源"}),l(f,{onClick:()=>{e(!0)},children:"卡牌"}),l(f,{onClick:()=>{i(!0)},disabled:s.selected.area!=="present",children:"单位"}),l("div",{})]})}function Xt(r){const[e,t]=u.useState(null);function i(y){localStorage.setItem("save",JSON.stringify({save:y})),t(y)}function n(){try{const{save:y}=JSON.parse(localStorage.getItem("save"));t(y)}catch{t(null)}}function a(){localStorage.removeItem("save"),t(null)}async function s(){const y=JSON.stringify(e),X=ve();X.file("save.txt",y);const ee=await X.generateAsync({type:"blob",compression:"DEFLATE"});et.saveAs(ee,"save.SCTReplay")}async function c(y){var ee;const X=await ve.loadAsync(y);t(JSON.parse(await((ee=X.file("save.txt"))==null?void 0:ee.async("string"))||"{}"))}u.useEffect(()=>{n()},[]);const[h,d]=u.useState(!1),[v,x]=u.useState(null),$=u.useRef(null);return p(u.Fragment,{children:[p(C,{fullWidth:!0,open:h,onClose:()=>{d(!1)},children:[l(D,{children:p(j,{container:!0,gap:2,children:[p(f,{variant:"contained",component:"label",children:["上传",l("input",{hidden:!0,ref:$,type:"file",accept:".SCTReplay",onChange:()=>{var y;x(((y=$.current)==null?void 0:y.files)??null)}})]}),v&&v.length>0&&l(b,{alignSelf:"center",children:v[0].name})]})}),l(Ie,{children:l(f,{disabled:!v||v.length===0,onClick:()=>{v&&v.length>0&&c(v[0]).then(()=>{d(!1)})},children:"导入"})})]}),l(f,{onClick:()=>{i(r.wrapper.save)},children:"保存"}),l(f,{disabled:!e,onClick:()=>{e?r.wrapper.load(e):console.log("Save not found")},children:"读取"}),l(f,{disabled:!e,onClick:()=>{a()},children:"清除"}),l("div",{}),l(f,{disabled:!e,onClick:()=>{s()},children:"导出"}),l(f,{onClick:()=>{d(!0)},children:"导入"})]})}function Ee(r){const[e,t]=tt(),i=e.get("config"),n=Se(),a=u.useRef(Je()),s=u.useRef(new Re(a.current.server)),c=u.useRef(new Ue(0,a.current.client));return u.useEffect(()=>{i&&s.current.init(JSON.parse(i)),s.current.game.start()},[]),l(Ft,{client:c.current,instance:r.instance,children:p(b,{component:R,alignSelf:"start",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:[l(f,{onClick:()=>{n("/local/config")},children:"返回"}),l("div",{}),l(Qt,{wrapper:s.current}),l(Yt,{}),l(Xt,{wrapper:s.current})]})})}function er(r){return l(r.instance,{})}const Ve={Amber:rt[500],Cyan:it[100],Gold:nt[500],Red:Ge[200]},tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAWCAMAAAAcqPc3AAABiVBMVEUAAAAAAP8AgIAAVapAQIAzZpkrVYAkSZIgYJ8zZpkuXYsnYokwYI8tWpYrVZUpXI8kW5IsWI0pWpQoWI8nXZMsV5IpWpErW5InWZAnWJMrWpIoWZIpWpIoWpAqW5MpWpEoWZIrXJAqWpEoWpIoWZArW5IqWpAqWZEpW5AoWZIoW5EqWpIqWZApWpEpWpAoW5EoWpIpWpAoW5AqWZIqW5EpWZApW5EoWpAqWZEoWZEoW5ApWpIoWZEoW5EqWpApWZEpWpEoWpEpWpAoWpIqWZEqW5EpWpApW5AqWZIpWpEoWpAoW5EpWpEpW5EqWpEpW5EpW5EpWpIpW5EpWpEpWpEoWpAqWpEpWZIpWZEpWpEqWpApW5EpWpIpWpEpW5EoWpEpWpEpWpEpWpEoWZEpWpEpWpEpWZEpWpIpW5EqWpEpWpEpWpEpWpEpWpEpWpEpWpEpWpEoWpEpWZEpWpEpWpEpW5EpWpEpWpEpWpEpWpEpWpEpWpEpWpEpWpEpWpEpWpEpWpEpWpH///9iquSlAAAAgXRSTlMAAQIDBAUGBwgKCw0QERgZHB0fICEjJSouNDY/REdJSk1OT1JTVFVWV1laW1xdXl9gY2VnaGprbG1yc3d4eXp7fX+DhYaHiIqMkJGSlJWZo6mqtLu8vb6/wsPExcbHyMrMzs/Q0dLT1NbX2Nna3N7f4OPk5ebn6uzu7/Hz9/j5+vygaELFAAAAAWJLR0SCi7P/RAAAATRJREFUGBltwQc3QmEABuC3IknIyEhGqWyykln2zsgudclIiJIV4v3n7ndzTufgeZCn3y7Bf+a5hH9Uf3x91uAvu9/ib0OeNiiFAoHA/qENjXshSTjWAbBQsWuqHzOXb1LRDGCVQnTYTWYM7hAFP4BEoH2G5GNTgpw6I7ni2HlQodZXZh6n7J0/vHVGXz0MsPI3BwoBWHkiMe9Eoh2CNV26y7wDQ9IOoaWr6jXbPkHB5/jImJytECrUR5ODxgyFt8r+ibC6Agobb3sjzJFcV3RCoY7Sc3EWoxA7jw/xUg2hgymdtyRG4Vo/rb1nJ2SaOEeAVua0AYO8KQAwwKQOiJDMkjxVQXvHPqA4xWcp3EXZMmWukPTERBE8L7L1YHprcc4wu7CRulijbBSK2h4NclTdDRC+AT2KgPJ9IL5pAAAAAElFTkSuQmCC",rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAfCAMAAADZe72GAAABQVBMVEUAAAD//wD//wD/qlW/v0DMzDPV1Svb20no0UbVv0DYxDvhwzzjxjnkyUPZzEDbzj3eyEPfykDbyEDcyj7fx0DgyT7hyzzbzELgxz7byjveyTzgyz7gxz3cyDzdyUDeyz3cyj7eyT/eyj7fyj3fx0DgyD/cyT7fykDgyz/fyD3fyT3eyj7eyj3fyT7fyj3eyT7fyD/dyj/eyT3fyD7dyT3fyT/dyj7dyD3eyT7fyT7eyj7eyT3eyT7eyD/fyT7fyT3eyT7dyT7dyT/eyT7eyT7eyT3eyT7eyj7eyD3eyT7eyT3eyD7eyT7eyT/eyT7eyT7eyT7eyT7fyT3eyT7eyT3dyT7eyj7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7eyT7///8gDrLIAAAAaXRSTlMAAQIDBAUGBwsMDRESExQVFxgcHSAhIiMpKy8xMjM0Njo9Pj9AQUJISU9QVlxfYGNmaWxvcXZ4eXt/i5Kco6Wmqq6vsrS3uLq7wcPJztDT1trb3N/g5OXn6Orr7PDx8vP09vj5+vv8/f6Lin9bAAAAAWJLR0RqJWKVDgAAAP9JREFUGBldwQc7QgEAhtG3CGWUSLKbCNmSEdmR2SCblu///wFX6tF1DgxaMfNHMAukMAvWvJgEtYtJSJqnVUh69dEiJCnr4k9Iyq/MUudzAWEpAUMdGLov2iEsbcBExoPhYQHCUgqsHzd2IHcEEakyiqOsBFAogL8kFTdPpJwFx2cJsK1VZdhZ6iWuZ6CnPy7DFpZYRddgL76NP8mQuZO0B+4vRU/VtAhMTluO1VB2wtwYUyU1JMHxWL2tqaE6AstqsQ0cyJA7LMtw2QVcSUp2si4p78HwLp3bICDlvPx4UWUYiOnMSV1W+4A1vdrGr7SigMdNU0J9mAzc888MJt/I0kvypbVLxQAAAABJRU5ErkJggg==",ir="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAaCAMAAABrajdMAAAB4FBMVEUAAAD/AP+AAICAQICZM5mAK4CSJJKAIJ+OHI6AM5mLLouAK5WJJ4mAJJKHLZaOK46GKJSMJoyGJJKFLJCFKY+JJ5OEJo6JJJKIK5GMKZSLJ5OHK46KKZGGKJSJJ5CGJpOJLI+GK5KIKo6FKZGIKJOLJ5CIK5KHKpKKKY+HK5CJK5KGKpCJKZKIKJGGJ5OKKpKIKZCKKJKHKI+HKZKHKJKHK5GIKpOKKJCIKJKJK5CIKpGJKJKHKJCHKZCIKJGJKpKIKpCJKZGIKZCHKJGIKpKIKZKIKZGJKJCIKZGJKZKIKJGIKpGIKZGHKZKIKpCJKZGIKZKJKZGIKpCHKZGIKJKHKpGIKpGIKJGJKpKIKpGIKZGHKJCHKpKIKZGJKZGIKJCJKpGIKZGIKZGIKJGHKZGIKZKIKZGIKpGIKZGJKZKIKZGIKJGIKZCIKZGJKJGIKpKIKJCIKpGIKZKIKZGJKpCIKZGJKZKIKZGIKJGIKZCIKZKIKZGIKZGIKZGIKZGIKZGIKZGIKZKIKZGIKpGIKZGIKZGHKZGIKZGIKJGIKZGIKZGIKZGIKJCIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZGIKZH///8QAlFtAAAAnnRSTlMAAQIEBQYHCAkKCwwNDhESExQVFxkaGxweHyEkJSYnKCkqKywtLi8xMjU2Nzg6Oz0+P0BERkhJTE1OT1JTV1pbXF1eZmdpa2xvcHJ0dnd6e3x9gYSFhoeLjI2OkZOWl5iZnJ2eoKGjpaeoqautrre4vb6/wcTFxsnKy83O0tbY2drb3N3e3+Dh4+Tm5+nq6+zt7vDx8/T29/n6+/z9/ohh8dsAAAABYktHRJ/otZOdAAABlElEQVQYGW3BiVuLAQDH8d/aotiGvM7S4ajJFcnRtCiRtbByLJIVQ1RDJiTLkavNkWzW2vdvtbee8Xoen48samr1X7aRe25Zudr6boeaHdqQiRsq119O7yS8OaIJnhfvDsjC8Yi5Y3oGFzb/MrTME4qOle9lWJvS2dNV++mSad0oMC4HqZ5J4lI/I3aXpKaGfa2xzOVBloyN5nhS1qI8o1+rM/yR8V480S2pZnaxvQOINm9tuA8kbe6ZgF2lr+ZeAtl2mXqBhzOcbFKo16lxCGpbNHF3lf0tEP9ZEVHdzlvGez6vcH8CgroBWVdl15AUI29A3bw+9S6sq0DP9ZxHO+b95+GcHhDQpcOKYXosdbQUlYFfEcKqkhfTgkfyGU+nYUjHWQjWd6YwXZFUUs9ElGSxBil4sVJ5BxJuZ46zKoqw7IMhU8VwYyf82CW1fiHv+3YtsfnamL2TTh6S1vqn+FqngvXfquVjcWCjpNpKFazRwRIZQPpmtSz29G2R4xp5H4/KqjExnwKmzpTqX+5AOBL0yOo3LpiexziX8A0AAAAASUVORK5CYII=",nr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAZCAQAAACf6xZlAAAAAmJLR0QA/4ePzL8AAAImSURBVDjLhZRNSFVREMdPlNGiTYWFm77EKErEVUgLIUWqRYvAIDLRO7+5+jT7AAmqjSDlppIwKItaWFFpaGXLhFYVJD2KzBZKRfaNditFK3RavPte7/kUz2z+cH5zZs6cmeNc2tJierXdz3ZzLd1IN4Zh/KGVFbOC/kquMRmiMQvkaMWidDBDD/IrBYzboJSmoFLEqxnBuD1gg3POudL53MJ4xpqqnJiLdvnZXh5vMUwv+1myhUkmpMo5V71a8ulngFppZATDeC31NDGKYUQ5pC2Y3IgsoczxlVPVyznG2KxJDMg2LSRK4AgwvuB7a7kzAzhOg7+ejlhtHAHv+IQR1UKvRPuSUbktm6SR8XghHQHH/Sx+YhgdVTkcCDN/zlbdy1CS83dHwFBlJo8TYU/IKm0h4hXwCMPo8fKk/j9sDDMVwmMYH70CamNvqW2yX+u0MBmO26ifwXmMCGcxjH4txrgqF6fBcoT3GGVeHkaEcxhGJ0+ZYhcT02A/l3KM3/RiRPRCPJrel7tJF9Qz2obRKYcT6US4lNAPE2rEEUijn8FgylNEuJLQn3mRBDOmu4mmwtoWqknJl9Oh/ub8zfIkCWtmBMPneryby5fJGwyjW9c559w8yvkQ1mSp1mAINxMX/IFpn1eS1P41i2liAtOT7MC0ImwdwxjWuoYF6aOVre3h+fu0C8P4S2tl5qxDK0W8xNjDPYweP3eOz6B0odTrdpp1Z/reP9LLBjo3QdHHAAAAAElFTkSuQmCC",ar={T:tr,P:rr,Z:ir,N:nr};function be(r){return l("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",width:"36px",height:"36px"},children:l("img",{src:ar[r.race],style:{width:"36px",height:"36px",objectFit:"scale-down"}})})}function O(r){return p(R,{className:"flex-column SmallCard "+r.className,style:{backgroundColor:r.color?Ve[r.color]:""},onClick:r.onClick,children:[p("div",{className:"flex flex-grow justify-center align-center",style:{position:"relative"},children:[r.race&&l("div",{className:"RaceIconWrapper",children:l(be,{race:r.race})}),l("span",{className:"Label justify-center",children:r.title})]}),l("div",{className:"flex justify-around",children:r.children})]})}const Y={enter:"进场",combine:"三连",stage:"暂存",sell:"出售",upgrade:"升级",insert:"这里",deploy:"这里",refresh:"刷新",lock:"锁定",unlock:"解锁",finish:"结束"};function He(r){const e=u.useContext(w);return r.item?l(O,{race:g[r.item.card].race,title:r.item.card,className:"NotSelected",children:r.item.actions.map((t,i)=>l(f,{variant:"text",onClick:()=>{e.post(t.msg)},disabled:!t.enable,children:Y[t.action]},i))}):l(O,{title:"",className:"NotSelected"})}function sr(){const r=u.useContext(k);return l("div",{className:"HandSection",children:r.hand.map((e,t)=>l(He,{item:e,pos:t},t))})}function Le(){const r=u.useContext(T),e=u.useContext(k);return p("div",{className:"flex-column",children:[l("span",{children:`回合 ${r.round} 等级 ${e.level} 生命 ${e.life} 价值 ${e.present.map(t=>{var i;return((i=t.card)==null?void 0:i.value)??0}).reduce((t,i)=>t+i,0)}`}),l("span",{children:`升级 ${e.upgrade_cost} 晶矿 ${e.mineral} / ${e.mineral_max} 瓦斯 ${e.gas} / ${e.gas_max}`})]})}function lr(r){return r.item.card?l(C,{fullWidth:!0,maxWidth:"lg",open:r.show,onClose:()=>r.setShow(!1),children:p(D,{className:"InfoCard PresentCardInfo",children:[p("div",{className:"flex-column flex-2",children:[l("span",{className:"Label",children:r.item.card.name}),p("div",{className:"flex align-center",children:[l(be,{race:r.item.card.race}),l("span",{children:r.item.card.level}),l("div",{className:"flex-grow"}),l("span",{children:r.item.card.value})]}),r.item.card.descs.map((e,t)=>l("span",{children:e},t)),r.item.card.notes.map((e,t)=>l("span",{children:e},t))]}),p("div",{className:"flex-column flex-1",children:[p("span",{className:"Label",children:["单位 ",r.item.card.units.length," /"," ",r.item.card.config.MaxUnit]}),Be(r.item.card.units).map((e,t)=>l("span",{children:e},t))]}),p("div",{className:"flex-column flex-1",children:[p("span",{className:"Label",children:["升级 ",r.item.card.upgrades.length," /"," ",r.item.card.config.MaxUpgrade]}),r.item.card.upgrades.map((e,t)=>l("span",{children:e},t))]})]})}):l("div",{})}function Be(r){const e={};return r.forEach(t=>{e[t]=(e[t]??0)+1}),Object.keys(e).map(t=>`${t}: ${e[t]}`)}function or(r){if(!r||r==="normal")return"";switch(r){case"amber":return"Amber";case"red":return"Red";case"gold":return"Gold"}}function Fe(r){var c;const e=u.useContext(w),t=u.useContext(k),[i,n]=u.useState(!1),a=or((c=r.item.card)==null?void 0:c.color),s=t.selected.area==="present"&&t.selected.place===r.pos;return l(R,{className:s?"Selected":"NotSelected",style:{backgroundColor:a?Ve[a]:""},onClick:()=>{r.item.card?e.autoPost({msg:"$select",area:"present",place:r.pos}):e.autoPost({msg:"$select",area:"none",place:-1})},children:p("div",{className:"LargeCard flex-column justify-around",children:[r.item.card?p("div",{className:"flex-column flex-grow",children:[p("div",{className:"flex justify-center",children:[l(lr,{item:r.item,show:i,setShow:n}),l(f,{color:"inherit",variant:"text",onClick:()=>{n(!0)},children:l("span",{className:"Label",children:r.item.card.name})})]}),p("div",{className:"flex align-center",children:[l(be,{race:r.item.card.race}),l("span",{children:r.item.card.level}),l("div",{className:"flex-grow"}),l("span",{children:r.item.card.value})]}),l("div",{className:"flex-column",children:r.item.card.notes.map((h,d)=>l("span",{children:h},d))}),l("div",{className:"flex-grow"}),p("div",{className:"flex",children:[l("div",{className:"flex-column",children:Be(r.item.card.units).map((h,d)=>l("span",{className:"Hint",children:h},d))}),l("div",{className:"flex-grow"}),l("div",{className:"flex-column",children:r.item.card.upgrades.map((h,d)=>l("span",{className:"Hint text-align-end",children:h},d))})]}),p("div",{className:"flex",children:[p("span",{children:[r.item.card.units.length," /"," ",r.item.card.config.MaxUnit]}),l("div",{className:"flex-grow"}),p("span",{children:[r.item.card.upgrades.length," /"," ",r.item.card.config.MaxUpgrade]})]})]}):l("div",{className:"flex-grow"}),l("div",{className:"flex justify-around",children:r.item.actions.map((h,d)=>l(f,{variant:"text",onClick:()=>{e.post(h.msg)},disabled:!h.enable,children:Y[h.action]},d))})]})})}function cr(){const r=u.useContext(k);return l("div",{className:"PresentSection",children:r.present.map((e,t)=>l(Fe,{item:e,pos:t},t))})}function Qe(r){const e=u.useContext(w),t=u.useContext(k),i=t.selected.area==="store"&&t.selected.place===r.pos;return r.item?l(O,{race:g[r.item.card].race,title:r.item.card,color:r.lock?"Cyan":"",className:r.item.special?"Special":i?"Selected":"NotSelected",onClick:()=>{r.item?e.autoPost({msg:"$select",area:"store",place:r.pos}):e.autoPost({msg:"$select",area:"none",place:-1})},children:r.item.actions.map((n,a)=>l(f,{variant:"text",onClick:()=>{e.post(n.msg)},disabled:!n.enable,children:Y[n.action]},a))}):l(O,{title:"",className:"NotSelected"})}function hr(){const r=u.useContext(k);return l("div",{className:"StoreSection",children:[...r.store,...Array.from({length:6-r.store.length},()=>{})].map((e,t)=>e!==void 0?l(Qe,{item:e,pos:t,lock:r.locked},t):l("div",{className:"SmallCard"},t))})}function Ne(r){if(r instanceof Array)return r.map(e=>e.toString());if(typeof r=="object"){const e=r;return Object.keys(e).map(t=>e[t]?`${t}: ${e[t]}`:t)}else return[r.toString()]}function ur(r){const e=u.useContext(T),t=u.useContext(k),i=u.useContext(w),n=t.role,[a,s]=u.useState(!1);return p(b,{display:"flex",gap:1,children:[l(C,{open:a,onClose:()=>s(!1),children:l(D,{children:p(b,{display:"grid",gridAutoFlow:"column",gridTemplateRows:"1fr 15fr",gap:1,children:[!!t.role.record&&p(u.Fragment,{children:[l("span",{className:"Label",children:"角色信息"}),l(j,{container:!0,direction:"column",children:Ne(t.role.record).map((c,h)=>l("span",{children:c},h))})]}),e.config.Pve&&p(u.Fragment,{children:[l("span",{className:"Label",children:"预言信息"}),l(j,{container:!0,direction:"column",children:Ne(t.prophesy).map((c,h)=>l("span",{children:c},h))})]})]})})}),t.action.map((c,h)=>l(f,{variant:"contained",onClick:()=>i.post(c.msg),disabled:!c.enable,color:c.action==="refresh"&&c.special?"secondary":"primary",children:Y[c.action]},h)),l(f,{variant:t.abilityAction.enable?"contained":"text",onClick:()=>{t.abilityAction.enable&&i.post(t.abilityAction.msg)},color:t.role.enhance?"secondary":"primary",children:n.ability+(n.progress?n.progress.max===-1?` ${n.progress.cur}`:` ${n.progress.cur} / ${n.progress.max}`:"")}),l(f,{variant:"contained",onClick:()=>{s(!0)},children:"信息"}),r.children]})}function dr(r){switch(r.type){case"card":return r.card.name;case"upgrade":return r.upgrade.name;case"prophesy":return r.prophesy.name;case"custom":return r.str}}function Ye(r){const e=u.useContext(w);return r.item?l(O,{race:r.item.type==="card"?r.item.card.race:void 0,title:dr(r.item),className:"NotSelected",children:l(f,{variant:"text",onClick:()=>{e.autoPost({msg:"$choice",place:r.pos,category:"discover"})},children:"这个"})}):l(O,{title:"",className:"NotSelected"})}function pr(){var t,i;const r=u.useContext(k),e=u.useContext(w);return p("div",{className:"DiscoverSection",children:[(t=r.discover)==null?void 0:t.item.map((n,a)=>l(Ye,{item:n,pos:a},a)),((i=r.discover)==null?void 0:i.extra)&&l(f,{variant:"contained",onClick:()=>{e.autoPost({msg:"$choice",category:"discover",place:-1})},children:r.discover.extra})]})}function mr(r){const e=u.useContext(T).player[u.useContext(w).pos]??null;return e?l(k.Provider,{value:e,children:p("div",{className:"GameInstance flex-column gap",children:[p("div",{className:"flex gap",children:[p("div",{className:"flex-column gap",children:[l(Le,{}),l(sr,{})]}),p("div",{className:"flex-column gap",children:[l(hr,{}),l(pr,{}),l("div",{className:"flex-grow"}),l(ur,{})]}),r.children]}),l(cr,{})]})}):l("div",{})}function fr(){const r=u.useContext(k),[e,t]=u.useState(-1);return e!==-1&&!r.hand[e]&&t(-1),p(j,{container:!0,direction:"column",gap:1,className:"Section",children:[l(C,{open:e!==-1,onClose:()=>{t(-1)},children:l(He,{item:r.hand[e],pos:e})}),r.hand.map((i,n)=>l(f,{onClick:()=>{t(i?n:-1)},children:(i==null?void 0:i.card)??"(暂存)"},n))]})}function gr(){const r=u.useContext(k),e=u.useContext(w),[t,i]=u.useState(-1);return p(b,{display:"grid",gridTemplateColumns:"1fr 2fr 1fr",gap:1,className:"Section",children:[l(C,{open:t!==-1,onClose:()=>{i(-1)},children:t!==-1&&l(Fe,{item:r.present[t],pos:t})}),r.present.map((n,a)=>{var s;return p(u.Fragment,{children:[r.status==="insert"?l(f,{onClick:()=>{e.autoPost({msg:"$choice",category:"insert",place:a})},children:"这里"}):r.status==="deploy"&&n.card?l(f,{onClick:()=>{e.autoPost({msg:"$choice",category:"deploy",place:a})},children:"这里"}):l("div",{}),l(f,{variant:r.selected.area==="present"&&r.selected.place===a?"outlined":"text",onClick:()=>{i(n.card?a:-1)},children:((s=n.card)==null?void 0:s.name)??"(进场)"}),r.status==="normal"&&!(r.selected.area==="present"&&r.selected.place===a)?l(f,{onClick:()=>{r.present[a].card?e.autoPost({msg:"$select",area:"present",place:a}):e.autoPost({msg:"$select",area:"none",place:-1})},children:"选择"}):l("div",{})]},a)})]})}function yr(){const r=u.useContext(k),[e,t]=u.useState(-1);return e!==-1&&!r.store[e]&&t(-1),p(j,{container:!0,direction:"column",gap:1,className:"Section",children:[l(C,{open:e!==-1,onClose:()=>{t(-1)},children:l(Qe,{item:r.store[e],pos:e,lock:r.locked})}),r.store.map((i,n)=>l(f,{variant:r.locked&&i?"outlined":"text",onClick:()=>{t(i?n:-1)},style:{textDecoration:i!=null&&i.special?"underline":""},children:(i==null?void 0:i.card)??"(商店)"},n))]})}function Ze(r){if(r instanceof Array)return r.map(e=>e.toString());if(typeof r=="object"){const e=r;return Object.keys(e).map(t=>e[t]?`${t}: ${e[t]}`:t)}else return[r.toString()]}function br(r){const e=u.useContext(T),t=u.useContext(k),i=u.useContext(w),n=t.role,[a,s]=u.useState(!1);return p(b,{display:"flex",flexDirection:"column",gap:1,children:[l(C,{open:a,onClose:()=>s(!1),children:l(D,{children:p(b,{display:"grid",gridAutoFlow:"column",gridTemplateRows:"1fr 15fr",gap:1,children:[!!t.role.record&&p(u.Fragment,{children:[l("span",{className:"Label",children:"角色信息"}),l(j,{container:!0,direction:"column",children:Ze(t.role.record).map((c,h)=>l("span",{children:c},h))})]}),e.config.Pve&&p(u.Fragment,{children:[l("span",{className:"Label",children:"预言信息"}),l(j,{container:!0,direction:"column",children:Ze(t.prophesy).map((c,h)=>l("span",{children:c},h))})]})]})})}),p(b,{display:"flex",flexDirection:"column",gap:1,children:[l(j,{container:!0,justifyContent:"space-between",children:t.action.map((c,h)=>l(f,{variant:"contained",onClick:()=>i.post(c.msg),disabled:!c.enable,color:c.action==="refresh"&&c.special?"secondary":"primary",children:Y[c.action]},h))}),p(j,{container:!0,justifyContent:"space-between",children:[l(f,{variant:t.abilityAction.enable?"contained":"text",onClick:()=>{t.abilityAction.enable&&i.post(t.abilityAction.msg)},color:t.role.enhance?"secondary":"primary",children:n.ability+(n.progress?n.progress.max===-1?` ${n.progress.cur}`:` ${n.progress.cur} / ${n.progress.max}`:"")}),l(f,{variant:"contained",onClick:()=>{s(!0)},children:"信息"}),r.children]})]})]})}function vr(){var t,i;const r=u.useContext(k),e=u.useContext(w);return p(j,{container:!0,direction:"column",gap:1,children:[(t=r.discover)==null?void 0:t.item.map((n,a)=>l(Ye,{item:n,pos:a},a)),((i=r.discover)==null?void 0:i.extra)&&l(f,{variant:"contained",onClick:()=>{e.autoPost({msg:"$choice",category:"discover",place:-1})},children:r.discover.extra})]})}function $r(r){const e=u.useContext(T).player[u.useContext(w).pos]??null,[t,i]=u.useState(!1),[n,a]=u.useState(!1);return e?p(k.Provider,{value:e,children:[p(C,{open:e.status==="discover"&&!n,children:[l(D,{children:l(vr,{})}),l(Ie,{children:l(f,{onClick:()=>{a(!0)},children:"隐藏"})})]}),l(C,{open:t,onClose:()=>{i(!1)},children:l(D,{children:r.children})}),p(b,{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1,children:[l(b,{gridColumn:"span 2",children:l(Le,{})}),l(b,{gridColumn:"span 2",children:p(br,{children:[e.status==="discover"&&n&&l(f,{variant:"contained",onClick:()=>{a(!1)},children:"显示"}),l(f,{variant:"contained",onClick:()=>{i(!0)},children:"菜单"})]})}),l(b,{component:yr}),l(b,{component:fr}),l(b,{gridColumn:"span 2",children:l(gr,{})}),l(b,{})]})]}):l("div",{})}const Te=new qe(Math.floor(Math.random()*1e5)),_r=["行星要塞","拟态虫","探机","泰凯斯","诺娃","思旺","跳虫","蒙斯克","雷神","机械哨兵","异龙","医疗兵","分裂池","响尾蛇","德哈卡","星港","进化腔","锻炉","扎加拉","大力神","凯瑞甘","米拉","先知","阿尔达瑞斯","斯托科夫","解放者","干扰者"];function kr(){const[r,e]=u.useState({Pack:["核心"],Seed:Math.floor(Math.random()*1e6),Role:["白板"],Mutation:[],Pve:!1,PoolPack:Me,ActivePack:he,ActiveUnit:ue}),t=Se(),i=u.useCallback(s=>{e(I(r,c=>{s.target.checked?c.Pack.push(s.target.name):c.Pack=c.Pack.filter(h=>h!==s.target.name)}))},[r]),n=_t.filter(s=>!ce[s].ext),a=u.useCallback(s=>{e(I(r,c=>{s.target.checked?(c.Pve=!0,c.ActivePack=Pt,c.ActiveUnit=At):(c.Pve=!1,c.ActivePack=he,c.ActiveUnit=ue)}))},[r]);return l(at,{maxWidth:"sm",children:p(R,{children:[l(st,{className:"",children:p(b,{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",rowGap:2,children:[l(b,{gridColumn:"span 10",children:l(lt,{fullWidth:!0,type:"number",label:"种子",value:r.Seed.toString(),onChange:s=>{e(I(r,c=>{c.Seed=Math.floor(Number(s.target.value)??1)}))}})}),l(b,{gridColumn:"span 2",alignSelf:"center",justifySelf:"center",children:l(f,{variant:"contained",onClick:()=>{e(I(r,s=>{s.Seed=Math.floor(Math.random()*1e6)}))},children:"随机"})}),l(b,{gridColumn:"span 10",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:ae.map((s,c)=>l($e,{label:s,control:l(_e,{name:s,checked:r.Pack.includes(s),onChange:i})},c))})," ",l(b,{gridColumn:"span 2",alignSelf:"center",justifySelf:"center",children:l(f,{variant:"contained",onClick:()=>{e(I(r,s=>{s.Pack=["核心",...Te.shuffle(ae.map(c=>c)).slice(0,2)]}))},children:"随机"})}),l(b,{gridColumn:"span 10",children:p(ot,{fullWidth:!0,children:[l(ct,{children:"角色"}),l(ht,{label:"角色",value:r.Role[0],onChange:s=>{e(I(r,c=>{c.Role=[s.target.value]}))},children:n.map((s,c)=>l(ut,{value:s,children:s},c))})]})})," ",l(b,{gridColumn:"span 2",alignSelf:"center",justifySelf:"center",children:l(f,{variant:"contained",onClick:()=>{e(I(r,s=>{s.Role=[Te.one_of(n)]}))},children:"随机"})}),l(b,{gridColumn:"span 6",children:l($e,{label:"启用PVE",control:l(_e,{name:"启用PVE",checked:r.Pve,onChange:a})})}),l(b,{gridColumn:"span 6",alignSelf:"center",children:r.Pve&&_r.includes(r.Role[0])?"警告: 当前角色的预言尚未完成":""})]})}),l(dt,{children:l(f,{onClick:()=>{t("/local/play?"+new URLSearchParams({config:JSON.stringify(r)}))},children:"开始"})})]})})}function xr(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function Pr(r){return{path:r,loader:({request:e})=>{const t=new URL(e.url);return Ke(xr()?`${r}/mobile?${t.searchParams}`:`${r}/pc?${t.searchParams}`)}}}const Ar=pt([{path:"/",loader:()=>Ke("/local/config")},{path:"/local/config",element:l(er,{instance:kr})},Pr("/local/play"),{path:"/local/play/pc",element:l(Ee,{instance:mr})},{path:"/local/play/mobile",element:l(Ee,{instance:$r})}]),wr=mt({palette:{primary:yt,secondary:Ge,info:bt}});vt.createRoot(document.getElementById("root")).render(l($t.StrictMode,{children:l(ft,{theme:wr,children:l(gt,{router:Ar})})}));
