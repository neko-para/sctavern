import{u as c,W as p,_ as C,a as o,C as S}from"./save-3c5ec2fc.js";import{M as g,aO as b,r as f,T as x,h as n,R as a,P as l,K as k,Q as $,U as m,L as d}from"./index-7da3bcbd.js";import{D as w}from"./VOverlay-c3a6c383.js";const M=m("span",{class:"Label mx-auto"},"调试",-1),R={class:"d-flex flex-column"},L=g({__name:"TestGame",setup(T){b();const s=c();s.LoadStorage();const e=new p,_=new S(0,e);e.init({Pack:["核心"],Seed:Math.floor(Math.random()*1e6),Role:["白板"],Mutation:[]}),e.game.start();const i=f({canUndo:!1,canRedo:!1}),v=f(e.game.getState());return e.server.notify.push(u=>{v.value=u}),e.saveStateChanged=()=>{i.value=e.getState()},(u,t)=>($(),x(k,null,[n(C,{state:v.value,client:a(_)},null,8,["state","client"]),n(w,{class:"Debug d-flex flex-column"},{default:l(()=>[M,m("div",R,[n(o,{variant:"elevated",disabled:!i.value.canUndo,onClick:t[0]||(t[0]=r=>a(e).undo())},{default:l(()=>[d(" 撤销 ")]),_:1},8,["disabled"]),n(o,{variant:"elevated",disabled:!i.value.canRedo,onClick:t[1]||(t[1]=r=>a(e).redo())},{default:l(()=>[d(" 重做 ")]),_:1},8,["disabled"]),n(o,{variant:"elevated",onClick:t[2]||(t[2]=r=>a(s).SaveStorage(a(e).save))},{default:l(()=>[d(" 保存 ")]),_:1}),n(o,{variant:"elevated",disabled:!a(s).save,onClick:t[3]||(t[3]=r=>a(s).save?a(e).load(a(s).save):void 0)},{default:l(()=>[d(" 读取 ")]),_:1},8,["disabled"]),n(o,{variant:"elevated",disabled:!a(s).save,onClick:t[4]||(t[4]=r=>a(s).CleanStorage())},{default:l(()=>[d(" 清除 ")]),_:1},8,["disabled"])])]),_:1})],64))}});export{L as default};
