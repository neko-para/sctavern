import{m as ve,R as me,V as ke,a as ye,u as Ve,b as be,c as Pe,d as Ce,f as ge,e as Se,g as xe,h as W,i as pe,j as $,k as $e,_ as _e,l as Ie}from"./VTextField-adb86314.js";import{p as H,I as q,d as Re,m as he,a as G,u as D,g as J,c as m,b as Be,o as Ae,e as Ue,t as S,f as L,h as a,i as Me,r as F,j as ee,w as Fe,k as Ne,l as N,n as we,q as Q,S as X,s as De,v as Ge,x as le,y as Le,z as te,A as Ee,B as M,C as v,D as V,E as d,F as _,G as z,H as w,J as x,K as A,L as O,M as T,N as U,O as Oe,P as Te,Q as Y,R as je,T as qe,U as ze,V as He,W as Je,X as Ke,Y as We,Z as Qe,_ as Xe,$ as Ye}from"./index-91fc8ed3.js";const ae=Symbol.for("vuetify:selection-control-group"),ne=H({color:String,disabled:Boolean,error:Boolean,id:String,inline:Boolean,falseIcon:q,trueIcon:q,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:Re},...he(),...ve()},"v-selection-control-group");G({name:"VSelectionControlGroup",props:{defaultsTarget:{type:String,default:"VSelectionControl"},...ne()},emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:t}=r;const l=D(e,"modelValue"),n=J(),u=m(()=>e.id||`v-selection-control-group-${n}`),s=m(()=>e.name||u.value),i=new Set;return Be(ae,{modelValue:l,forceUpdate:()=>{i.forEach(f=>f())},onForceUpdate:f=>{i.add(f),Ae(()=>{i.delete(f)})}}),Ue({[e.defaultsTarget]:{color:S(e,"color"),disabled:S(e,"disabled"),density:S(e,"density"),error:S(e,"error"),inline:S(e,"inline"),modelValue:l,multiple:m(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),name:s,falseIcon:S(e,"falseIcon"),trueIcon:S(e,"trueIcon"),readonly:S(e,"readonly"),ripple:S(e,"ripple"),type:S(e,"type"),valueComparator:S(e,"valueComparator")}}),L(()=>{var f;return a("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline}],role:e.type==="radio"?"radiogroup":void 0},[(f=t.default)==null?void 0:f.call(t)])}),{}}});const oe=H({label:String,trueValue:null,falseValue:null,value:null,...ne()},"v-selection-control");function Ze(e){const r=we(ae,void 0),{densityClasses:t}=Ve(e),l=D(e,"modelValue"),n=m(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=m(()=>e.falseValue!==void 0?e.falseValue:!1),s=m(()=>!!e.multiple||e.multiple==null&&Array.isArray(l.value)),i=m({get(){const g=r?r.modelValue.value:l.value;return s.value?g.some(b=>e.valueComparator(b,n.value)):e.valueComparator(g,n.value)},set(g){if(e.readonly)return;const b=g?n.value:u.value;let C=b;s.value&&(C=g?[...Q(l.value),b]:Q(l.value).filter(p=>!e.valueComparator(p,n.value))),r?r.modelValue.value=C:l.value=C}}),{textColorClasses:f,textColorStyles:P}=be(m(()=>i.value&&!e.error&&!e.disabled?e.color:void 0)),I=m(()=>i.value?e.trueIcon:e.falseIcon);return{group:r,densityClasses:t,trueValue:n,falseValue:u,model:i,textColorClasses:f,textColorStyles:P,icon:I}}const el=Me()({name:"VSelectionControl",directives:{Ripple:me},inheritAttrs:!1,props:oe(),emits:{"update:modelValue":e=>!0},setup(e,r){let{attrs:t,slots:l}=r;const{group:n,densityClasses:u,icon:s,model:i,textColorClasses:f,textColorStyles:P,trueValue:I}=Ze(e),g=J(),b=m(()=>e.id||`input-${g}`),C=F(!1),p=F(!1),R=F();n==null||n.onForceUpdate(()=>{R.value&&(R.value.checked=i.value)});function B(o){C.value=!0,(!X||X&&o.target.matches(":focus-visible"))&&(p.value=!0)}function k(){C.value=!1,p.value=!1}function c(o){e.readonly&&n&&De(()=>n.forceUpdate()),i.value=o.target.checked}return L(()=>{var o,h;const E=l.label?l.label({label:e.label,props:{for:b.value}}):e.label,[de,fe]=ee(t);return a("div",N({class:["v-selection-control",{"v-selection-control--dirty":i.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":C.value,"v-selection-control--focus-visible":p.value,"v-selection-control--inline":e.inline},u.value]},de),[a("div",{class:["v-selection-control__wrapper",f.value],style:P.value},[(o=l.default)==null?void 0:o.call(l),Fe(a("div",{class:["v-selection-control__input"]},[s.value&&a(ke,{key:"icon",icon:s.value},null),a("input",N({ref:R,checked:i.value,disabled:e.disabled,id:b.value,onBlur:k,onFocus:B,onInput:c,"aria-disabled":e.readonly,type:e.type,value:I.value,name:e.name,"aria-checked":e.type==="checkbox"?i.value:void 0},fe),null),(h=l.input)==null?void 0:h.call(l,{model:i,textColorClasses:f,textColorStyles:P,props:{onFocus:B,onBlur:k,id:b.value}})]),[[Ne("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),E&&a(ye,{for:b.value,clickable:!0},{default:()=>[E]})])}),{isFocused:C,input:R}}}),ue=H({indeterminate:Boolean,indeterminateIcon:{type:q,default:"$checkboxIndeterminate"},...oe({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"v-checkbox-btn"),se=G({name:"VCheckboxBtn",props:ue(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,r){let{slots:t}=r;const l=D(e,"indeterminate"),n=D(e,"modelValue");function u(f){l.value&&(l.value=!1)}const s=m(()=>e.indeterminate?e.indeterminateIcon:e.falseIcon),i=m(()=>e.indeterminate?e.indeterminateIcon:e.trueIcon);return L(()=>a(el,N(e,{modelValue:n.value,"onUpdate:modelValue":[f=>n.value=f,u],class:"v-checkbox-btn",type:"checkbox",inline:!0,falseIcon:s.value,trueIcon:i.value,"aria-checked":e.indeterminate?"mixed":void 0}),t)),{}}});function ll(e){return Ge(e,Object.keys(se.props))}const j=G({name:"VCheckbox",inheritAttrs:!1,props:{...Pe(),...ue()},emits:{"update:focused":e=>!0},setup(e,r){let{attrs:t,slots:l}=r;const{isFocused:n,focus:u,blur:s}=Ce(e),i=J(),f=m(()=>e.id||`checkbox-${i}`);return L(()=>{const[P,I]=ee(t),[g,b]=ge(e),[C,p]=ll(e);return a(Se,N({class:"v-checkbox"},P,g,{id:f.value,focused:n.value}),{...l,default:R=>{let{id:B,messagesId:k,isDisabled:c,isReadonly:o}=R;return a(se,N(C,{id:B.value,"aria-describedby":k.value,disabled:c.value,readonly:o.value},I,{onFocus:u,onBlur:s}),l)}})}),{}}});const K=["sm","md","lg","xl","xxl"],re=(()=>K.reduce((e,r)=>(e[r]={type:[Boolean,String,Number],default:!1},e),{}))(),ie=(()=>K.reduce((e,r)=>(e["offset"+le(r)]={type:[String,Number],default:null},e),{}))(),ce=(()=>K.reduce((e,r)=>(e["order"+le(r)]={type:[String,Number],default:null},e),{}))(),Z={col:Object.keys(re),offset:Object.keys(ie),order:Object.keys(ce)};function tl(e,r,t){let l=e;if(!(t==null||t===!1)){if(r){const n=r.replace(e,"");l+=`-${n}`}return e==="col"&&(l="v-"+l),e==="col"&&(t===""||t===!0)||(l+=`-${t}`),l.toLowerCase()}}const al=["auto","start","end","center","baseline","stretch"],y=G({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...re,offset:{type:[String,Number],default:null},...ie,order:{type:[String,Number],default:null},...ce,alignSelf:{type:String,default:null,validator:e=>al.includes(e)},...xe()},setup(e,r){let{slots:t}=r;const l=m(()=>{const n=[];let u;for(u in Z)Z[u].forEach(i=>{const f=e[i],P=tl(u,i,f);P&&n.push(P)});const s=n.some(i=>i.startsWith("v-col-"));return n.push({"v-col":!s||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),n});return()=>{var n;return Le(e.tag,{class:l.value},(n=t.default)==null?void 0:n.call(t))}}}),nl={class:"d-flex"},ol={class:"d-flex"},ul={key:1,class:"d-flex"},sl={key:2,class:"d-flex"},rl={key:3,class:"d-flex"},il=z("div",{style:{"min-width":"500px"}},null,-1),cl=te({__name:"GameConfig",props:{Pack:null,Seed:null,Role:null,Mutation:null,Pve:{type:Boolean}},emits:["update:Pack","update:Seed","update:Role","update:Pve","ok"],setup(e,{emit:r}){const t=e,l=Ee(),n=F("packseed"),u=m({get(){return t.Seed},set(k){r("update:Seed",k)}}),s=m({get(){return t.Pack},set(k){r("update:Pack",k)}}),i=m({get(){return t.Role},set(k){r("update:Role",k)}}),f=m({get(){return t.Pve},set(k){r("update:Pve",k)}}),P=new je(I());function I(){return Math.round(Math.random()*1e8)}function g(){return["核心",...P.shuffle(T.slice(1)).slice(0,2)]}const b=m(()=>qe.filter(k=>!ze[k].ext)),C=["科学球","母舰核心","行星要塞","拟态虫","探机","泰凯斯","诺娃","思旺","跳虫","蒙斯克","雷神","机械哨兵","异龙","医疗兵","分裂池","响尾蛇","德哈卡","星港","进化腔","锻炉","扎加拉","大力神","凯瑞甘","米拉","先知","阿尔达瑞斯","斯托科夫","解放者","干扰者"],p=F(!1);function R(k){i.value[0]=k,p.value=!1}function B(){return P.shuffle(b.value).slice(0,i.value.length)}return(k,c)=>(V(),M(W,null,{default:v(()=>[!d(l).isMobile||n.value==="packseed"?(V(),_(A,{key:0},[z("div",nl,[a(y,{cols:"1"}),a(y,{cols:"8"},{default:v(()=>[a(pe,{modelValue:d(u),"onUpdate:modelValue":c[0]||(c[0]=o=>w(u)?u.value=o:null),density:"compact","hide-details":""},null,8,["modelValue"])]),_:1}),a(y,{cols:"2"},{default:v(()=>[a($,{onClick:c[1]||(c[1]=o=>u.value=I())},{default:v(()=>[x(" 随机 ")]),_:1})]),_:1})]),z("div",ol,[a(y,{cols:"1"}),a(y,{cols:"4",class:"d-flex flex-column"},{default:v(()=>[(V(!0),_(A,null,O(d(T).slice(0,4),o=>(V(),M(j,{modelValue:d(s),"onUpdate:modelValue":c[2]||(c[2]=h=>w(s)?s.value=h:null),key:`Pack-${o}`,label:o,value:o,density:"compact","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),a(y,{cols:"4",class:"d-flex flex-column"},{default:v(()=>[(V(!0),_(A,null,O(d(T).slice(4),o=>(V(),M(j,{modelValue:d(s),"onUpdate:modelValue":c[3]||(c[3]=h=>w(s)?s.value=h:null),key:`Pack-${o}`,label:o,value:o,density:"compact","hide-details":""},null,8,["modelValue","label","value"]))),128))]),_:1}),a(y,{cols:"2"},{default:v(()=>[a($,{onClick:c[4]||(c[4]=o=>s.value=g())},{default:v(()=>[x(" 随机 ")]),_:1})]),_:1})])],64)):U("",!0),!d(l).isMobile||n.value==="role"?(V(),_("div",ul,[d(i).length===1?(V(),_(A,{key:0},[a(y,{cols:"1"}),a(y,{cols:"8"},{default:v(()=>[a($e,{modelValue:p.value,"onUpdate:modelValue":c[5]||(c[5]=o=>p.value=o)},{activator:v(({props:o})=>[a($,Oe(Te(o)),{default:v(()=>[x(Y(d(i)[0]),1)]),_:2},1040)]),default:v(()=>[a(W,{class:"d-flex flex-column Dialog"},{default:v(()=>[(V(!0),_(A,null,O(d(b),(o,h)=>(V(),M(_e,{key:`RK-${h}`,onClick:E=>R(o)},{default:v(()=>[x(Y(o),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(y,{cols:"2"},{default:v(()=>[a($,{onClick:c[6]||(c[6]=o=>i.value=B())},{default:v(()=>[x(" 随机 ")]),_:1})]),_:1})],64)):U("",!0)])):U("",!0),!d(l).isMobile||n.value==="mutation"?(V(),_("div",sl,[a(y,{cols:"1"}),a(y,{cols:"8"},{default:v(()=>[x(" 暂时不支持选突变因子 ")]),_:1})])):U("",!0),!d(l).isMobile||n.value==="pve"?(V(),_("div",rl,[a(y,{cols:"1"}),a(y,{cols:"8"},{default:v(()=>[a(j,{modelValue:d(f),"onUpdate:modelValue":c[7]||(c[7]=o=>w(f)?f.value=o:null),density:"compact",label:"启用PVE内容","error-messages":d(f)&&C.includes(d(i)[0])?["警告: 当前角色的预言尚未完成"]:[]},null,8,["modelValue","error-messages"])]),_:1})])):U("",!0),il,a(Ie,null,{default:v(()=>[d(l).isMobile?(V(),_(A,{key:0},[a($,{onClick:c[8]||(c[8]=o=>n.value="packseed")},{default:v(()=>[x(" 种子卡包 ")]),_:1}),a($,{onClick:c[9]||(c[9]=o=>n.value="role")},{default:v(()=>[x(" 角色 ")]),_:1}),a($,{onClick:c[10]||(c[10]=o=>n.value="mutation")},{default:v(()=>[x(" 突变因子 ")]),_:1}),a($,{onClick:c[11]||(c[11]=o=>n.value="pve")},{default:v(()=>[x(" PVE ")]),_:1})],64)):U("",!0),a($,{class:"ml-auto",color:"primary",onClick:c[12]||(c[12]=o=>k.$emit("ok"))},{default:v(()=>[x(" 启动 ")]),_:1})]),_:1})]),_:1}))}});const vl=te({__name:"LocalGameSetup",setup(e){const r=Ke(),t=He({Pack:["核心"],Seed:Math.round(Math.random()*1e8),Role:["白板"],Mutation:[],Pve:!1,PoolPack:Je,ActivePack:m(()=>t.Pve?We:Qe),ActiveUnit:m(()=>t.Pve?Xe:Ye)});function l(){r.push({name:"local-player",query:{config:JSON.stringify(t)}})}return(n,u)=>(V(),M(cl,{class:"justify-center",Pack:d(t).Pack,"onUpdate:Pack":u[0]||(u[0]=s=>d(t).Pack=s),Seed:d(t).Seed,"onUpdate:Seed":u[1]||(u[1]=s=>d(t).Seed=s),Role:d(t).Role,"onUpdate:Role":u[2]||(u[2]=s=>d(t).Role=s),Mutation:d(t).Mutation,"onUpdate:Mutation":u[3]||(u[3]=s=>d(t).Mutation=s),Pve:d(t).Pve,"onUpdate:Pve":u[4]||(u[4]=s=>d(t).Pve=s),onOk:u[5]||(u[5]=s=>l())},null,8,["Pack","Seed","Role","Mutation","Pve"]))}});export{vl as default};
